/*! For license information please see react_fantasy_chat.js.LICENSE.txt */
(()=>{var e,t,n,r={91763:e=>{e.exports={height:24,name:"add-circle-unfilled",path:"m12 0c6.6274171 0 12 5.37258291 12 12 0 6.6274171-5.3725829 12-12 12-6.62741709 0-12-5.3725829-12-12 0-6.62741709 5.37258291-12 12-12zm.0000668 2.1818161c-5.42243199 0-9.81818203 4.39575005-9.81818203 9.818182 0 5.4224319 4.39575004 9.818182 9.81818203 9.818182 5.4224319 0 9.8181819-4.3957501 9.8181819-9.818182 0-5.42243195-4.39575-9.818182-9.8181819-9.818182zm-.0001111 4.36363983c.6021817 0 1.090909.48872733 1.090909 1.09090913v3.27272734h3.2727274c.6021818 0 1.0909091.4887272 1.0909091 1.090909 0 .6027273-.4887273 1.090909-1.0909091 1.090909h-3.2727274v3.2727275c0 .6027273-.4887273 1.090909-1.090909 1.090909-.6027273 0-1.0909091-.4881817-1.0909091-1.090909v-3.2727275h-3.27272732c-.60218179 0-1.09090912-.4881817-1.09090912-1.090909 0-.6021818.48872733-1.090909 1.09090912-1.090909h3.27272732v-3.27272734c0-.6021818.4881818-1.09090913 1.0909091-1.09090913z",width:24}},51945:e=>{e.exports={height:24,name:"chevron-right",path:"m5.50924165 3.07490706c-.66049584-.68846911-.67089762-1.84012299.00520051-2.54301035.68303247-.71009642 1.77345744-.70649189 2.44608842-.00540686l11.03946942 11.47508655-11.04293673 11.4786902c-.66222945.6884691-1.7699903.6992823-2.44608843-.0054074-.68129887-.7082941-.67956503-1.8419237-.00520051-2.5430088l8.58991367-8.930274z",width:24}},44892:e=>{e.exports={height:24,name:"close-circle-unfilled",path:"m12 0c6.6272725 0 12 5.37272748 12 12 0 6.6272725-5.3727275 12-12 12-6.62727252 0-12-5.3727275-12-12 0-6.62727252 5.37272748-12 12-12zm.0000668 2.1818161c-5.41309093 0-9.81818203 4.40400027-9.81818203 9.818182 0 5.4141817 4.4050911 9.818182 9.81818203 9.818182 5.4141817 0 9.8181819-4.4040003 9.8181819-9.818182 0-5.41418173-4.4040002-9.818182-9.8181819-9.818182zm-5.1088129 4.66364058c.44509091-.44727271 1.16509098-.44727271 1.61018189 0l3.49309071 3.50618182 3.4701821-3.47345455c.445091-.44509089 1.1650908-.44509089 1.6101817 0 .444.44509089.444 1.16618177 0 1.61127266l-3.4734546 3.47672739 3.5214542 3.5345451c.445091.4461818.445091 1.1705452 0 1.6178179-.444.4472727-1.1650903.4472727-1.6090903 0l-3.5258186-3.5367268-3.53454524 3.5378182c-.44509091.4450909-1.16509095.4450909-1.61018186 0-.44400001-.4450909-.44400001-1.1661815 0-1.6123633l3.538909-3.5410911-3.490909-3.50290913c-.44400001-.44727272-.44400001-1.17163637 0-1.61781819z",width:24}},52178:e=>{e.exports={height:24,name:"exclamation-unfilled",path:"M12,0 C18.6152725,0 24,5.38363647 24,12 C24,18.6163635 18.6152725,24 12,24 C5.38363647,24 0,18.6163635 0,12 C0,5.38363647 5.38363647,0 12,0 Z M12.0000668,2.1818161 C6.58806658,2.1818161 2.18188477,6.58690739 2.18188477,11.9999981 C2.18188477,17.4130888 6.58806658,21.8181801 12.0000668,21.8181801 C17.4131575,21.8181801 21.8182487,17.4130888 21.8182487,11.9999981 C21.8182487,6.58690739 17.4131575,2.1818161 12.0000668,2.1818161 Z M12.0000888,15.85 C12.6022706,15.85 13.0909979,16.3376364 13.0909979,16.9409091 C13.0909979,17.5430909 12.6022706,18.0318182 12.0000888,18.0318182 C11.397907,18.0318182 10.9091797,17.5430909 10.9091797,16.9409091 C10.9091797,16.3376364 11.397907,15.85 12.0000888,15.85 Z M12.0000888,5.8181839 C12.6022706,5.8181839 13.0909979,6.30582029 13.0909979,6.90909302 L13.0909979,12.3636384 C13.0909979,12.9658202 12.6022706,13.4545474 12.0000888,13.4545474 C11.397907,13.4545474 10.9091797,12.9658202 10.9091797,12.3636384 L10.9091797,6.90909302 C10.9091797,6.30582029 11.397907,5.8181839 12.0000888,5.8181839 Z",width:24}},93207:e=>{e.exports={height:24,name:"pin-filled",path:"M10.62 18.887l7.355 3.275c.185-.639.387-1.271.501-1.927.083-.477.166-1.145.169-1.915.004-1.372-.25-3.158-1.316-4.745l2.089-4.69 2.352-1.953a1.73 1.73 0 00-.401-2.912L12.679.152a1.73 1.73 0 00-2.431 1.65l.122 3.054-2.068 4.646c-1.906.155-3.415 1.186-4.427 2.138a11.272 11.272 0 00-1.322 1.49c-.398.537-.718 1.12-1.053 1.697l7.324 3.261-2.016 4.53a.983.983 0 001.795.799l2.017-4.53z",width:24}},11832:e=>{e.exports={height:24,name:"pin-unfilled",path:"M10.62 18.887l7.355 3.275c.185-.639.387-1.271.501-1.927.083-.477.166-1.145.169-1.915.004-1.372-.25-3.158-1.316-4.745l2.089-4.69 2.352-1.953a1.73 1.73 0 00-.401-2.912L12.679.152a1.73 1.73 0 00-2.431 1.65l.122 3.054-2.068 4.646c-1.906.155-3.415 1.186-4.427 2.138a11.272 11.272 0 00-1.322 1.49c-.398.537-.718 1.12-1.053 1.697l7.324 3.261-2.016 4.53a.983.983 0 001.795.799l2.017-4.53zm1.809-13.636l-.122-3.03 7.774 3.46-2.334 1.938-2.779 6.242.396.487c.975 1.196 1.244 2.689 1.24 3.965a9.352 9.352 0 01-.056.98L4.515 13.935c.21-.253.464-.532.758-.808.948-.891 2.2-1.652 3.664-1.602l.688.024 2.804-6.298z",width:24}},36322:e=>{e.exports={height:24,name:"poll-unfilled",path:"M23 22H21V5C21 4.45 20.55 4 20 4H14C13.45 4 13 4.45 13 5V22H11V13C11 12.45 10.55 12 10 12H4C3.45 12 3 12.45 3 13V22H1C0.45 22 0 22.45 0 23C0 23.55 0.45 24 1 24H23C23.55 24 24 23.55 24 23C24 22.45 23.55 22 23 22ZM9 22H5V14H9V22ZM19 22H15V6H19V22Z",width:24}},59092:e=>{e.exports={height:24,name:"remove-circle-unfilled",path:"m12 0c6.6274171 0 12 5.37258291 12 12 0 6.6274171-5.3725829 12-12 12-6.62741709 0-12-5.3725829-12-12 0-6.62741709 5.37258291-12 12-12zm-.0000553 2.1818161c-5.42243196 0-9.818182 4.39575005-9.818182 9.818182 0 5.4224319 4.39575004 9.818182 9.818182 9.818182 5.4224319 0 9.818182-4.3957501 9.818182-9.818182 0-5.42243195-4.3957501-9.818182-9.818182-9.818182zm4.3636474 8.727272c.6021818 0 1.0909091.4887274 1.0909091 1.0909092 0 .6027273-.4887273 1.0909091-1.0909091 1.0909091h-8.72727282c-.60218179 0-1.09090912-.4881818-1.09090912-1.0909091 0-.6021818.48872733-1.0909092 1.09090912-1.0909092z",width:24}},58419:e=>{e.exports={height:24,name:"send-unfilled",path:"M22.52 0.0778183C22.96 -0.102182 23.48 0.0378183 23.77 0.417818C24 0.717818 24.06 1.13782 23.93 1.48782L15.08 23.3278C14.92 23.7278 14.53 23.9878 14.1 23.9978H14.09C13.66 23.9978 13.28 23.7478 13.11 23.3478L9.38 14.6078L0.65 10.8878C0.25 10.7178 0 10.3278 0 9.89782C0 9.46782 0.27 9.07782 0.67 8.91782L22.52 0.0778183ZM11.46 14.0478L14.07 20.1578L21.02 2.98782L3.85 9.93782L9.95 12.5378L12.35 10.1478L13.86 11.6578L11.46 14.0478Z",width:24}},51238:e=>{e.exports={height:24,name:"trade-circle-unfilled",path:"m12 0c6.6274171 0 12 5.37258291 12 12 0 6.6274171-5.3725829 12-12 12-6.62741709 0-12-5.3725829-12-12 0-6.62741709 5.37258291-12 12-12zm.0000057 2.1818161c-5.42243192 0-9.81818197 4.39575005-9.81818197 9.818182 0 5.4224319 4.39575005 9.818182 9.81818197 9.818182 5.422432 0 9.818182-4.3957501 9.818182-9.818182 0-5.42243195-4.39575-9.818182-9.818182-9.818182zm1.5377958 9.9197464c.1142876 0 .2289482.0351228.3257707.1053683l.0689877.0592697 2.6507731 2.6353271-2.6507731 2.6358871c-.2180794.2189572-.5708548.2189572-.7895173 0-.1933301-.1951265-.2148112-.4960017-.0644434-.7138412l.0644434-.0774288 1.3043947-1.284624h-7.1974373v-1.1199861h7.1974373l-1.3043947-1.284064c-.2174964-.2195173-.2174964-.5728729 0-.7912701.1090397-.1097587.2518993-.164638.3947589-.164638zm-3.2416867-5.6015625c.1428595 0 .2851359.05487795.3947587.16407385.19333.19462382.2148112.49543624.0644433.71405082l-.0644433.0777595-1.304978 1.28403187h7.1974375v1.11995802h-7.1974375l1.304978 1.28403214c.2174963.2189517.2174963.5722985 0 .7918103-.1943667.1946238-.4946991.2162487-.71220425.0648746l-.07731315-.0648746-2.6513561-2.63582145 2.6513561-2.6358212c.1084566-.1091959.2518992-.16407385.3947587-.16407385z",width:24}},45907:e=>{var t;(t=void 0===t?{}:t).CoreArrowLeft={name:"CoreArrowLeft",height:32,width:32,path:"M22.72.665c-.886-.887-2.323-.887-3.21 0L4.175 16 19.51 31.335c.442.443 1.023.665 1.604.665s1.162-.222 1.605-.665c.886-.887.886-2.324 0-3.21L10.596 16 22.72 3.876c.887-.887.887-2.324 0-3.21z"},e.exports&&(e.exports=t.CoreArrowLeft)},72602:e=>{var t;(t=void 0===t?{}:t).CoreArrowRight={name:"CoreArrowRight",height:32,width:32,path:"M7.06.665c.887-.887 2.324-.887 3.21 0L25.606 16 10.27 31.335c-.442.443-1.023.665-1.604.665s-1.162-.222-1.605-.665c-.886-.887-.886-2.324 0-3.21L19.185 16 7.06 3.876c-.887-.887-.887-2.324 0-3.21z"},e.exports&&(e.exports=t.CoreArrowRight)},8017:e=>{var t;(t=void 0===t?{}:t)["add-reaction"]={name:"add-reaction",height:48,width:48,path:"M24 0c13.3 0 24 10.7 24 24S37.3 48 24 48c-3.3 0-6.4-.7-9.2-1.8 1.9-.3 3.5-1.5 4.4-3.1 1.5.4 3.1.6 4.8.6 10.8 0 19.6-8.8 19.6-19.6S34.8 4.4 24 4.4 4.4 13.2 4.4 24c0 1.7.2 3.3.6 4.8-1.6.9-2.8 2.5-3.1 4.4C.7 30.4 0 27.3 0 24 0 10.7 10.7 0 24 0zM8 32c1.3 0 2.3 1 2.3 2.3v3.4h3.4c1.3 0 2.3 1 2.3 2.3s-1 2.3-2.3 2.3h-3.4v3.6C10.2 47 9.2 48 8 48c-1.2 0-2.2-1-2.3-2.1v-3.6H2.1C1 42.2 0 41.2 0 40c0-1.2 1-2.2 2.1-2.3h3.6v-3.4C5.7 33 6.7 32 8 32zm26.9-8c1.5 0 2.6 1.4 2.1 2.8-1.3 3.4-5 5.9-9.3 5.9s-8-2.5-9.3-5.9c-.6-1.4.6-2.8 2-2.8h14.5zM20.7 13.1c1.8 0 3.3 1.5 3.3 3.3 0 1.8-1.5 3.3-3.3 3.3-1.8 0-3.3-1.5-3.3-3.3.1-1.8 1.5-3.3 3.3-3.3zm13.1 0c1.8 0 3.3 1.5 3.3 3.3 0 1.8-1.5 3.3-3.3 3.3-1.8 0-3.3-1.5-3.3-3.3 0-1.8 1.5-3.3 3.3-3.3z"},e.exports&&(e.exports=t["add-reaction"])},4193:e=>{var t;(t=void 0===t?{}:t)["arrow-left"]={name:"arrow-left",height:48,width:48,path:"M18.857 34.593c.772.792 2.037.808 2.828.04.792-.772.81-2.038.04-2.83l-5.526-5.678h23.59v-4H16.2l5.524-5.68c.77-.79.753-2.058-.04-2.827-.388-.378-.89-.566-1.394-.566-.52 0-1.042.202-1.434.605L8.676 24.13l10.18 10.463z"},e.exports&&(e.exports=t["arrow-left"])},68060:e=>{var t;(t=void 0===t?{}:t).arrowcurveright={name:"arrowcurveright",height:16,width:16,path:"M6 6.667h4.89l-1.37-1.53c-.25-.26-.25-.68 0-.94.25-.262.653-.262.902 0l2.91 3.137-2.91 3.137c-.123.132-.287.197-.45.197s-.328-.065-.452-.196c-.25-.26-.25-.68 0-.94L10.89 8H6c-1.105 0-2 .895-2 2v2c0 .368-.3.667-.667.667s-.667-.3-.667-.667v-2C2.666 8.16 4.16 6.667 6 6.667z"},e.exports&&(e.exports=t.arrowcurveright)},17119:e=>{var t;(t=void 0===t?{}:t)["at-sign"]={name:"at-sign",height:24,width:24,path:"M0 12C0 5.345 5.345 0 12 0c6.654 0 12 5.345 12 12.11 0 4.363-2.29 8.18-4.91 8.18-1.417 0-2.4-1.2-3.054-3.054-.054.055-.136.11-.218.164-.082.055-.163.11-.218.164 0 0-.327.11-.436.218-.982.436-2.073.764-3.164.764-4.036 0-7.31-3.71-6.545-7.964.545-2.51 2.51-4.473 5.018-5.018 1.745-.328 3.272-.11 4.582.654.763.437 2.29 1.637 2.29 2.51V12c0 3.382.546 6 1.637 6 .873 0 2.29-2.073 2.618-4.91.11-.326.11-1.09.11-1.09 0-5.455-4.364-9.818-9.82-9.818-5.454 0-9.817 4.363-9.817 9.818 0 5.454 4.363 9.818 9.818 9.818.165 0 .355-.027.546-.054.19-.028.382-.055.546-.055.654-.11 1.2.435 1.2.98.11.655-.328 1.2-.982 1.2-.436.11-.764.11-1.2.11-6.655 0-12-5.346-12-12zm14.4 3.707c.436-.437.873-.873.873-1.418V9.706c0-.546-.437-1.09-.982-1.42-.108 0-.326-.108-.435-.217-.546-.327-1.2-.436-1.855-.436-2.727 0-4.91 2.51-4.255 5.454.437 1.528 1.528 2.728 3.055 3.164 1.31.327 2.618.11 3.6-.545z"},e.exports&&(e.exports=t["at-sign"])},2483:e=>{var t;(t=void 0===t?{}:t).block={name:"block",height:48,width:48,path:"M23.167 41.084c9.573 0 17.333-7.762 17.333-17.334 0-9.573-7.76-17.334-17.333-17.334-9.572 0-17.333 7.76-17.333 17.334 0 9.572 7.76 17.334 17.333 17.334zm.25-38.918C35.337 2.166 45 11.83 45 23.75s-9.664 21.583-21.583 21.583c-11.92 0-21.583-9.663-21.583-21.583 0-11.92 9.663-21.584 21.583-21.584zM7.24 36.37L35.387 7.717l3.033 2.98L10.273 39.35z"},e.exports&&(e.exports=t.block)},18305:e=>{var t;(t=void 0===t?{}:t)["checkbox-checked"]={name:"checkbox-checked",height:24,width:24,path:"M21 3H3v18h18V3zm1 20H2c-.553 0-1-.448-1-1V2c0-.552.447-1 1-1h20c.55 0 1 .448 1 1v20c0 .552-.45 1-1 1zM17.22 7.317L9.74 14.87l-2.96-2.99c-.34-.34-.93-.34-1.27 0-.17.173-.262.403-.262.647 0 .24.094.467.263.637l3.6 3.636c.182.167.41.26.64.26.234 0 .455-.094.623-.265l8.11-8.196c.17-.173.264-.4.264-.64 0-.243-.094-.47-.264-.643-.17-.17-.4-.257-.633-.257-.232 0-.464.086-.634.257z"},e.exports&&(e.exports=t["checkbox-checked"])},20112:e=>{var t;(t=void 0===t?{}:t)["checkbox-unchecked"]={name:"checkbox-unchecked",height:24,width:24,path:"M3 3h18v18H3V3zm19-2H2c-.553 0-1 .448-1 1v20c0 .552.447 1 1 1h20c.552 0 1-.448 1-1V2c0-.552-.448-1-1-1z"},e.exports&&(e.exports=t["checkbox-unchecked"])},79751:e=>{var t;(t=void 0===t?{}:t).delete={name:"delete",height:48,width:48,path:"M42.885 7.616h-9v-2c0-1.104-.896-2-2-2h-14c-1.104 0-2 .896-2 2v2h-9c-1.104 0-2 .896-2 2s.896 2 2 2h36c1.104 0 2-.896 2-2s-.897-2-2-2zM35.885 41.616h-22v-24h-4v26c0 1.104.896 2 2 2h26c1.104 0 2-.896 2-2v-26h-4v24z"},e.exports&&(e.exports=t.delete)},68926:e=>{var t;(t=void 0===t?{}:t).flag={name:"flag",height:48,width:48,path:"M40 10H28.62l-2.888-5-.008.004C25.38 4.407 24.74 4 24 4H8c-1.105 0-2 .896-2 2v36c0 1.105.895 2 2 2s2-.895 2-2V28h12.846l2.887 5c.357.62 1.018 1 1.732 1H40c1.105 0 2-.895 2-2V12c0-1.104-.895-2-2-2zm-2 20h-9.38l-2.888-5c-.357-.617-1.018-1-1.732-1H10V8h12.845l2.887 5c.37.642 1.04 1 1.732 1H38v16z"},e.exports&&(e.exports=t.flag)},65280:e=>{var t;(t=void 0===t?{}:t).gif={name:"gif",height:48,width:48,path:"M44.307 9.087H3.69M46.154 5.395H1.846C.826 5.395 0 6.22 0 7.24v33.232c0 1.02.826 1.846 1.846 1.846h44.308c1.02 0 1.846-.826 1.846-1.846V7.242c0-1.02-.826-1.847-1.846-1.847zm-1.847 33.23l-40.615.01V9.087h40.615v29.538zM33.363 31.975v-6.35h6.195v-2.75h-6.195V18.54h6.79v-2.802H30.04v16.237h3.323zm-6.55 0V15.738h-3.324v16.237h3.322zm-5.944-10.99c-.106-2.824-2.132-5.556-6.254-5.556-4.26 0-6.77 2.902-6.77 7.36v2.023c0 4.27 2.05 7.47 6.713 7.47 4.682 0 6.33-3.28 6.33-5.9v-3.21h-6.204v2.52h3.057v.918c0 1.547-1.204 2.806-3.138 2.806-2.45 0-3.414-1.938-3.414-4.612v-1.987c0-3.108 1.41-4.522 3.38-4.522 1.647 0 2.874.99 3.068 2.692h3.23z"},e.exports&&(e.exports=t.gif)},69021:e=>{var t;(t=void 0===t?{}:t).message={name:"message",height:48,width:48,path:"M40.8 28.9c0 2-1.7 3.7-3.8 3.7H13.4l-5.6 5.2V10.6c0-2 1.7-3.7 3.8-3.7H37c2.1 0 3.8 1.6 3.8 3.7v18.3zM11.7 3.3c-4.1 0-7.5 3.3-7.5 7.3v31.1c0 .7.4 1.4 1.1 1.7.2.1.5.2.7.2.5 0 .9-.2 1.2-.5l7.6-6.8H37c4.1 0 7.5-3.3 7.5-7.3V10.6c0-4-3.4-7.3-7.5-7.3H11.7zm21.8 11H15.2c-1 0-1.8.8-1.8 1.8s.8 1.8 1.8 1.8h18.3c1 0 1.8-.8 1.8-1.8.1-1-.8-1.8-1.8-1.8m-18.3 7.3c-1 0-1.8.8-1.8 1.8s.8 1.8 1.8 1.8h18.3c1 0 1.8-.8 1.8-1.8s-.8-1.8-1.8-1.8H15.2z"},e.exports&&(e.exports=t.message)},2390:e=>{var t;(t=void 0===t?{}:t).reply={name:"reply",height:20,width:25,path:"M12.8 5.8V2.4c0-.4-.2-.7-.6-.8-.3-.2-.8-.1-1.1.1L.9 8.8c-.2.2-.4.4-.4.7s.2.6.4.8l10.2 7.1c.3.2.7.3 1.1.1.3-.2.6-.5.6-.8v-3.3h1.3c3 0 6.1.6 8.5 5.2.2.3.5.5.9.5h.3c.5-.1.8-.6.7-1C23 7.3 18.5 5.9 12.8 5.8zm-.1 5.6h-1c-.6 0-1 .4-1 .9v2.4L3.2 9.5l7.5-5.2v2.4c0 .5.5.9 1 .9 4.2 0 7.9 0 9.8 6.3-2.9-2.6-6.3-2.6-8.8-2.5z"},e.exports&&(e.exports=t.reply)},16611:e=>{var t;(t=void 0===t?{}:t).theme={name:"theme",height:48,width:48,path:"M45.333 6.36h-40c-1.104 0-2 .896-2 2v34c0 1.105.896 2 2 2h40c1.104 0 2-.895 2-2v-34c0-1.105-.895-2-2-2zm-2 4v13.172l-7-7-11.5 11.5-8.562-8.562-8.937 9.75V10.36h36zm-36 24.78l9.063-9.89 5.608 5.61-9.5 9.5h-5.17v-5.22zm10.828 5.22l18.173-18.172 7 7V40.36H18.16z"},e.exports&&(e.exports=t.theme)},92744:(e,t,n)=>{"use strict";function r(){var e=u(n(96540));return r=function(){return e},e}function a(){var e=n(40961);return a=function(){return e},e}function i(){var e=n(67467);return i=function(){return e},e}function o(){var e=n(93238);return o=function(){return e},e}function s(){var e=n(47459);return s=function(){return e},e}function c(){var e=n(8604);return c=function(){return e},e}function l(){var e=u(n(45844));return l=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}window.bootstrapFantasyChatEntrypoint=function(e,t,n,u,d,f,h){var p=(0,s().createStore)(o().reducer,(0,s().applyMiddleware)(l().default));p.dispatch((0,o().initEnv)(n));var m=JSON.parse(d),_=h.showReactions,y=h.allowPolls;(0,a().render)(r().default.createElement("div",null,r().default.createElement(c().IntlProvider,{locale:"en-US",messages:o().lang},r().default.createElement(i().Provider,{store:p},r().default.createElement(o().App,{guid:e,embeddedChannel:u,chatContext:m,chatContextEndpoint:f,useContext:!0,showReactions:_,allowPolls:y,embeddedType:"recentMessages"})))),t)},window.bootstrapEmbedFantasyChat=function(e,t,n,u,d,f,h,p){var m=(0,s().createStore)(o().reducer,(0,s().applyMiddleware)(l().default));m.dispatch((0,o().initEnv)(n));var _=JSON.parse(f),y=p.allowImageUpload,g=p.allowPins,v=p.allowPolls,b=p.showReactions,w=p.showThreads;(0,a().render)(r().default.createElement("div",null,r().default.createElement(c().IntlProvider,{locale:"en-US",messages:o().lang},r().default.createElement(i().Provider,{store:m},r().default.createElement(o().App,{guid:e,embeddedChannel:d,showTout:u,showReactions:b,allowImageUpload:y,chatContext:_,chatContextEndpoint:h,useContext:!0,showThreads:w,allowPins:g,allowPolls:v,embeddedType:"messageBoard"})))),t)},window.bootstrapFantasyChat=function(e,t,n,u,d,f,h,p,m,_,y,g,v,b){var w=(0,s().createStore)(o().reducer,(0,s().applyMiddleware)(l().default));w.dispatch((0,o().initEnv)(n));var k=JSON.parse(y);(0,a().render)(r().default.createElement("div",null,r().default.createElement(c().IntlProvider,{locale:"en-US",messages:o().lang},r().default.createElement(i().Provider,{store:w},r().default.createElement(o().App,{guid:e,showTout:u,showReactions:d,allowImageUpload:m,loadOnClick:_,chatContext:k,chatContextEndpoint:g,useContext:!0,showCountInIndicator:v,redChatIndicator:b,showThreads:f,allowPins:h,allowPolls:p})))),t)},window.toggleChatList=o().toggleChatList},93238:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"App",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"RecentMessages",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"initEnv",{enumerable:!0,get:function(){return s.initEnv}}),Object.defineProperty(t,"lang",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"toggleChatList",{enumerable:!0,get:function(){return o.toggleChatList}});var r=l(n(89939)),a=l(n(98293)),i=l(n(28009)),o=n(62662),s=n(84765),c=l(n(50721));function l(e){return e&&e.__esModule?e:{default:e}}},54654:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.uploadImageCloudinary=t.uploadAndSendImage=t.unpinMessage=t.unBlockUserById=t.unBlockUser=t.showError=t.setPrevMessages=t.sendTextMessage=t.sendPollMessage=t.sendFileMessage=t.saveLoadedMessages=t.retrieveUploadAuth=t.reportMessage=t.removeReaction=t.pinMessage=t.getPrevMessageList=t.deleteMessage=t.blockUserById=t.blockUser=t.addReaction=void 0;var a=n(55780),i=n(70362),o=n(1084),s=n(37204),c=n(53539);function l(){l=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),s=new P(r||[]);return i(o,"_invoke",{value:M(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",m="suspendedYield",_="executing",y="completed",g={};function v(){}function b(){}function w(){}var k={};d(k,s,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(x([])));S&&S!==n&&a.call(S,s)&&(k=S);var C=w.prototype=v.prototype=Object.create(k);function T(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,s,c){var l=h(e[i],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function M(t,n,r){var a=p;return function(i,o){if(a===_)throw Error("Generator is already running");if(a===y){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=_;var l=h(t,n,r);if("normal"===l.type){if(a=r.done?y:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=y,r.method="throw",r.arg=l.arg)}}}function O(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=h(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(a.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=w,i(C,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=d(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,u,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},T(I.prototype),d(I.prototype,c,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new I(f(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(C),d(C,u,"Generator"),d(C,s,(function(){return this})),d(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=x,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;N(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function u(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}t.showError=function(e,t){return function(n){n({type:i.ERROR,message:t.formatMessage({id:e})})}},t.setPrevMessages=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){r({type:i.MESSAGE_LIST_SUCCESS,messageList:e,channelUrl:t,init:n})}},t.saveLoadedMessages=function(e,t){return function(n){n({type:i.MESSAGES_LOAD_SUCCESS,messages:e,channelUrl:t})}},t.getPrevMessageList=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){e.hasNext?(0,o.sbGetMessageList)(e).then((function(e){r({type:i.MESSAGE_LIST_SUCCESS,messageList:e,channelUrl:t,init:n})})).catch((function(e){return r({type:i.MESSAGE_LIST_FAIL})})):r({type:i.MESSAGE_LIST_FAIL})}},t.sendTextMessage=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6?arguments[6]:void 0;return function(l){(0,o.sbSendTextMessage)(n,t,r,a,s,c,(function(t){return l({type:i.SEND_MESSAGE_SUCCESS,message:t,channelUrl:e})}),(function(t){return l({type:i.SEND_MESSAGE_TEMPORARY,message:t,channelUrl:e})}),(function(t){return l({type:i.SEND_MESSAGE_FAIL,channelUrl:e})}))}},t.sendPollMessage=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return function(){var s,d=(s=l().mark((function s(u){var d,f,h,p,m;return l().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:d=e.url,f=function(e){return u({type:i.SEND_MESSAGE_SUCCESS,message:e,channelUrl:d})},h=function(e){return u({type:i.SEND_MESSAGE_TEMPORARY,message:e,channelUrl:d})},p=function(){return u({type:i.SEND_MESSAGE_FAIL,channelUrl:d})},m={title:t,optionTexts:n,allowMultipleVotes:r,closeAt:o},(0,c.sbCreatePoll)(e,m,a,f,h,p);case 6:case"end":return s.stop()}}),s)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var a=s.apply(e,t);function i(e){u(a,n,r,i,o,"next",e)}function o(e){u(a,n,r,i,o,"throw",e)}i(void 0)}))});return function(e){return d.apply(this,arguments)}}()};var d=t.sendFileMessage=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return function(c){(0,o.sbSendFileMessage)(n,t,r,a,s,(function(t){return c({type:i.SEND_MESSAGE_SUCCESS,message:t,channelUrl:e})}),(function(t){return c({type:i.SEND_MESSAGE_TEMPORARY,message:t,channelUrl:e})}),(function(t){return c({type:i.SEND_MESSAGE_FAIL,channelUrl:e})}))}},f=(t.reportMessage=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,c="dev"===r?"sendbird-dev":"sendbird-prod";return function(l){(0,a.post)("fantasy.report",{params:{crumb:o,messageId:e.toString(),channelUrl:t,reason:n,provider:c},env:r}).then((function(e){l({type:i.REPORT_MESSAGE_SUCCESS,message:s.formatMessage({id:"MESSAGE_REPORTED"})}),l({type:i.RESET_TOUT})})).catch((function(e){l({type:i.REPORT_MESSAGE_FAILURE,message:s.formatMessage({id:"MESSAGE_REPORTED_ERROR"})}),l({type:i.RESET_TOUT})}))}},t.deleteMessage=function(e,t,n){return function(r){(0,o.sbDeleteMessage)(t,e,(function(){r({type:i.DELETE_MESSAGE_SUCCESS,message:n.formatMessage({id:"MESSAGE_DELETED"})}),r({type:i.RESET_TOUT})}),(function(){r({type:i.DELETE_MESSAGE_FAILURE,message:n.formatMessage({id:"MESSAGE_DELETED_FAILURE"})}),r({type:i.RESET_TOUT})}))}},t.blockUser=function(e,t){return function(n){(0,s.sbBlockUser)(e).then((function(){n({type:i.BLOCK_USER,userId:e.userId,message:t.formatMessage({id:"BLOCKED_USER"})}),n({type:i.RESET_TOUT})})).catch((function(e){n({type:i.BLOCK_USER_FAILURE,message:t.formatMessage({id:"BLOCKED_USER_FAILURE"})}),n({type:i.RESET_TOUT})}))}},t.blockUserById=function(e,t){return function(n){(0,s.sbBlockUserById)(e).then((function(){n({type:i.BLOCK_USER,userId:e,message:t.formatMessage({id:"BLOCKED_USER"})}),n({type:i.RESET_TOUT})})).catch((function(e){n({type:i.BLOCK_USER_FAILURE,message:t.formatMessage({id:"BLOCKED_USER_FAILURE"})}),n({type:i.RESET_TOUT})}))}},t.unBlockUser=function(e,t){return function(n){(0,s.sbUnBlockUser)(e).then((function(){n({type:i.UNBLOCK_USER,userId:e.userId,message:t.formatMessage({id:"UNBLOCKED_USER"})}),n({type:i.RESET_TOUT})})).catch((function(e){n({type:i.UNBLOCK_USER_FAILURE,message:t.formatMessage({id:"UNBLOCKED_USER_FAILURE"})}),n({type:i.RESET_TOUT})}))}},t.unBlockUserById=function(e,t){return function(n){(0,s.sbUnBlockUserById)(e).then((function(){n({type:i.UNBLOCK_USER,userId:e,message:t.formatMessage({id:"UNBLOCKED_USER"})}),n({type:i.RESET_TOUT})})).catch((function(e){n({type:i.UNBLOCK_USER_FAILURE,message:t.formatMessage({id:"UNBLOCKED_USER_FAILURE"})}),n({type:i.RESET_TOUT})}))}},t.addReaction=function(e,t,n,r,a){return function(s){var c=function(e,t,n,r){return(0,o.sbAddMessageMetaArrayValue)(e,t,n,r,(function(t,n){s(n?{type:i.ADD_REACTION_FAILURE,message:a.formatMessage({id:"ADD_REACTION_FAILURE"})}:{type:i.ADD_REACTION_SUCCESS,payload:t,channel:e})}))};t.metaArrays.some((function(e){return e.key===n}))?c(e,t,n,r):(0,o.sbCreateMetaArrayKey)(e,t,n,(function(t,o){o?s({type:i.CREATE_REACTION_FAILURE,message:a.formatMessage({id:"CREATE_REACTION_FAILURE"})}):(s({type:i.CREATE_REACTION_SUCCESS,payload:t,channel:e}),c(e,t,n,r))}))}},t.removeReaction=function(e,t,n,r,a){return function(s){(0,o.sbRemoveMessageMetaArrayValue)(e,t,n,r,(function(t,r){r?s({type:i.REMOVE_REACTION_FAILURE,message:a.formatMessage({id:"REMOVE_REACTION_FAILURE"})}):(s({type:i.REMOVE_REACTION_SUCCESS,payload:t,channel:e}),t.metaArrays.find((function(e){return e.key===n&&!e.value.length}))&&(0,o.sbDeleteMetaArrayKey)(e,t,n,(function(t,n){s(n?{type:i.DELETE_REACTION_FAILURE,message:a.formatMessage({id:"DELETE_REACTION_FAILURE"})}:{type:i.DELETE_REACTION_SUCCESS,payload:t,channel:e})})))}))}},t.retrieveUploadAuth=function(e,t,n){return function(r){r({type:i.UPLOAD_AUTH_ATTEMPT,payload:{}}),(0,a.get)("uploader.auth",{params:{upload_preset:"fantasy-chat"},env:"default"}).then((function(e){r({type:i.UPLOAD_AUTH_SUCCESS,payload:{}}),t&&t(e)})).catch((function(t){r({type:i.UPLOAD_AUTH_FAILURE,message:e.formatMessage({id:"UPLOAD_FAILURE"})}),n&&n(t)}))}}),h=t.uploadImageCloudinary=function(e,t,n,r,a){return function(o){var s=new FormData;s.append("file",n),s.append("timestamp",t.timestamp),s.append("api_key",t.api_key),s.append("signature",t.signature),s.append("upload_preset",t.upload_preset),s.append("tags",t.tags),s.append("public_id",t.public_id),s.append("context",t.context);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState)if(200===c.status){var t=JSON.parse(c.response);o({type:i.UPLOAD_SUCCESS,payload:{}}),r&&r(t)}else{var n=JSON.parse(c.response);o({type:i.UPLOAD_FAILURE,message:e.formatMessage({id:"UPLOAD_FAILURE"})}),a&&a(n)}},o({type:i.UPLOAD_ATTEMPT,payload:{}}),c.open("POST","https://api.cloudinary.com/v1_1/yahoofantasysports/upload"),c.send(s)}};t.uploadAndSendImage=function(e,t,n,r,a,i){return function(o){o(f(i,(function(s){o(h(i,s,n,(function(n){o(d(e,n.secure_url,t,n.format,r,a))})))})))}},t.pinMessage=function(e,t){return function(n){e.pinMessage(t.messageId),n({type:i.PIN_MESSAGE,message:t,channelUrl:e.url})}},t.unpinMessage=function(e,t){return function(n){e.unpinMessage(t.messageId),n({type:i.UNPIN_MESSAGE,message:t,channelUrl:e.url})}}},84765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initEnv=void 0;var r=n(70362);t.initEnv=function(e){return function(t){t({type:r.INIT_SUCCESS,env:e})}}},87761:(e,t,n)=>{"use strict";function r(){var e=n(22831);return r=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.getGifList=void 0;var a,i=n(70362),o=n(55780),s=(a=n(70497))&&a.__esModule?a:{default:a},c=t.getGifList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.GIF_DEFAULTQUERY,n=arguments.length>2?arguments[2]:void 0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(l){(0,o.get)("bootcamp.items",{params:{appid:s.default.GIF_APPID,filetype:"gif",limit:"30",query:t,source:s.default.GIF_SOURCE,wssid:n,ymreqid:(0,r().v4)()},env:e||"default"}).then((function(e){var n=e.items||[];n.length?l({type:i.GIF_LIST_SUCCESS,gifItems:n,queryText:t}):l({type:i.GIF_LIST_FAILURE})})).catch((function(n){n.wssid&&a&&(l({type:i.SET_WSSID,payload:n.wssid}),l(c(e,t,n.wssid,!1)))}))}}},2778:(e,t,n)=>{"use strict";function r(){var e,t=(e=n(40166))&&e.__esModule?e:{default:e};return r=function(){return t},t}function a(){var e=n(99613);return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleChatMinimize=t.startNewChat=t.setTyping=t.setDoneTyping=t.registerGroupChannelHandler=t.openChat=t.markAsRead=t.initLocalStorageChats=t.getGroupChannelList=t.getChannelByUrl=t.createChatHandler=t.closeChat=void 0;var i=n(70362),o=n(44104),s=n(62662);t.getGroupChannelList=function(e,t){var n=[];return function(r){e.hasNext?(0,o.sbGetGroupChannelList)(e).then((function(e){e=e.reduce((function(e,t){return t.firstLoad=!0,e[t.url]=t,n.push(t.url),e}),{}),r(t?{type:i.GROUP_CHANNEL_LIST_SUCCESS,channels:e,channelsOrder:n}:{type:i.NEW_GROUP_CHANNEL_LIST_SUCCESS,channels:e,channelsOrder:n})})).catch((function(e){return r({type:i.GROUP_CHANNEL_LIST_FAIL})})):r({type:i.GROUP_CHANNEL_LIST_FAIL})}},t.openChat=function(e,t){return(0,s.toggleChatList)(),(0,s.addChatToLocalStorage)(t),e=(0,o.sbMarkChannelAsRead)(e),function(n){n({type:i.OPEN_CHAT_SUCCESS,channelUrl:t,channel:e})}},t.closeChat=function(e){return(0,s.removeChatFromLocalStorage)(e),function(t){t({type:i.CLOSE_CHAT_SUCCESS,channelUrl:e})}},t.toggleChatMinimize=function(e){return(0,s.toggleChatMinStateLocalStorage)(e),function(t){t({type:i.TOGGLE_CHAT_MINIMIZE_SUCCESS,channelUrl:e})}},t.initLocalStorageChats=function(){var e=(0,s.getActiveChatListFromLocalStorage)();return function(t){t({type:i.OPEN_CHAT_SUCCESS,channelUrl:e})}},t.startNewChat=function(e,t){return function(n){(0,o.sbCreateGroupChannel)(e,t).then((function(e){(0,s.addChatToLocalStorage)(e.url),n({type:i.OPEN_CHAT_SUCCESS,channelUrl:e.url}),n({type:i.START_NEW_CHAT_SUCCESS,channel:e}),(0,o.sbGetChannelMetadata)(e).then((function(e){n({type:i.START_NEW_CHAT_SUCCESS,channel:e})}))})).catch((function(e){return n({type:i.START_NEW_CHAT_FAILURE})}))}};var c=t.registerGroupChannelHandler=function(e,t){var n=r().default.instance||{},o=new(a().GroupChannelHandler)({onMessageReceived:function(e,n){t({type:i.MESSAGE_RECEIVED,payload:n,channel:e})},onMessageUpdated:function(e,n){t({type:i.MESSAGE_UPDATED,payload:n,channel:e})},onMessageDeleted:function(e,n){e.refresh().then((function(e){t({type:i.MESSAGE_DELETED,payload:n,channel:e})}))},onTypingStatusUpdated:function(e){t({type:i.TYPING_STATUS_UPDATED,payload:e.getTypingUsers(),channel:e})},onThreadInfoUpdated:function(e,n){t({type:i.THREAD_INFO_UPDATED,payload:n,channel:e})},onPinnedMessageUpdated:function(e){t({type:i.PINNED_MESSAGES_UPDATED,channel:e})},onUnreadMemberStatusUpdated:function(e){t({type:i.LOAD_CHANNEL_SUCCESS,channel:e})},onPollVoted:function(e,n){t({type:i.POLL_VOTED,channelUrl:e.url,pollEvent:n})},onPollUpdated:function(e,n){t({type:i.POLL_UPDATED,channelUrl:e.url,pollEvent:n})}});n.groupChannel.addGroupChannelHandler(e,o)};t.createChatHandler=function(e){return function(t){c(e,t),t({type:i.CREATE_CHAT_HANDLER_SUCCESS})}},t.markAsRead=function(e){return e=(0,o.sbMarkChannelAsRead)(e),function(t){t({type:i.MARK_AS_READ,channel:e})}},t.setTyping=function(e){return e=(0,o.sbMarkChannelAsTyping)(e),function(t){t({type:i.USER_IS_TYPING,channel:e})}},t.setDoneTyping=function(e){return e=(0,o.sbMarkChannelAsDoneTyping)(e),function(t){t({type:i.USER_IS_DONE_TYPING,channel:e})}},t.getChannelByUrl=function(e,t){return function(n){(0,o.sbGetChannelByUrl)(e).then((function(e){n({type:i.LOAD_CHANNEL_SUCCESS,channel:e})})).catch((function(e){return n({type:i.LOAD_CHANNEL_FAILURE,message:t.formatMessage({id:"CHANNEL_LOAD_FAILURE"})})}))}}},12531:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendbirdLoginWithUserParams=t.sendbirdLoginWithContext=t.getUserParams=t.getContextParams=t.fetchContextAndLogin=void 0;var r=n(70362),a=n(89457),i=n(55780);function o(){var e,t=(e=n(72554))&&e.__esModule?e:{default:e};return o=function(){return t},t}var s=t.getUserParams=function(e,t){var n="dev"===t?"sendbird-dev":"sendbird-prod";return(0,i.get)("fantasy.user",{params:{guid:e,provider:n},env:t})},c=t.getContextParams=function(e){return(0,i.get)("",{},e)},l=t.sendbirdLoginWithUserParams=function(e,t,n){return function(i){s(e,t).then((function(e){var t=(0,o().default)(e,["service","externalUser","userId"]).trim(),s=(0,o().default)(e,["service","externalUser","appId"]).trim(),c=(0,o().default)(e,["service","externalUser","accessToken","token"]).trim(),l=(0,o().default)(e,["service","externalUser","crumb"]).trim();(0,a.sbConnect)(t,c,s).then((function(e){e.crumb=l,i({type:r.LOGIN_SUCCESS,payload:e}),n&&n()})).catch((function(e){i({type:r.LOGIN_FAIL,payload:e})}))})).catch((function(e){i({type:r.LOGIN_FAIL,payload:e})}))}},u=t.fetchContextAndLogin=function(e,t,n,i){return function(s){c(e).then((function(e){var c=(0,o().default)(e,["objects",0]);(0,a.sbConnect)(c.sendbird_user_id,c.sendbird_token,c.sendbird_app_id).then((function(e){e.crumb=c.crumb,s({type:r.LOGIN_SUCCESS,payload:e}),i&&i()})).catch((function(e){s(l(t,n,i))}))})).catch((function(e){s(l(t,n,i))}))}};t.sendbirdLoginWithContext=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return function(s){e.sendbird_user_id&&e.sendbird_token&&e.sendbird_app_id?(0,a.sbConnect)(e.sendbird_user_id,e.sendbird_token,e.sendbird_app_id).then((function(t){t.crumb=e.crumb,s({type:r.LOGIN_SUCCESS,payload:t}),o&&o()})).catch((function(e){s(u(t,n,i,o))})):s(u(t,n,i,o))}}},70362:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_IS_TYPING=t.USER_IS_DONE_TYPING=t.UPLOAD_SUCCESS=t.UPLOAD_FAILURE=t.UPLOAD_AUTH_SUCCESS=t.UPLOAD_AUTH_FAILURE=t.UPLOAD_AUTH_ATTEMPT=t.UPLOAD_ATTEMPT=t.UNPIN_MESSAGE=t.UNBLOCK_USER_FAILURE=t.UNBLOCK_USER=t.TYPING_STATUS_UPDATED=t.TOGGLE_CHAT_MINIMIZE_SUCCESS=t.THREAD_INFO_UPDATED=t.START_NEW_CHAT_SUCCESS=t.START_NEW_CHAT_FAILURE=t.SET_WSSID=t.SEND_MESSAGE_TEMPORARY=t.SEND_MESSAGE_SUCCESS=t.SEND_MESSAGE_FAIL=t.RESET_TOUT=t.REPORT_MESSAGE_SUCCESS=t.REPORT_MESSAGE_FAILURE=t.REMOVE_REACTION_SUCCESS=t.REMOVE_REACTION_FAILURE=t.POLL_VOTED=t.POLL_UPDATED=t.PIN_MESSAGE=t.PINNED_MESSAGES_UPDATED=t.OPEN_CHAT_SUCCESS=t.OPEN_CHAT_FAILURE=t.NEW_GROUP_CHANNEL_LIST_SUCCESS=t.MESSAGE_UPDATED=t.MESSAGE_RECEIVED=t.MESSAGE_LIST_SUCCESS=t.MESSAGE_LIST_FAIL=t.MESSAGE_DELETED=t.MESSAGES_LOAD_SUCCESS=t.MARK_AS_READ=t.LOGIN_SUCCESS=t.LOGIN_FAIL=t.LOAD_CHANNEL_SUCCESS=t.LOAD_CHANNEL_FAILURE=t.INIT_SUCCESS=t.INIT_CHAT_SCREEN=t.GROUP_CHANNEL_LIST_SUCCESS=t.GROUP_CHANNEL_LIST_FAIL=t.GIF_LIST_SUCCESS=t.GIF_LIST_FAILURE=t.ERROR=t.DELETE_REACTION_SUCCESS=t.DELETE_REACTION_FAILURE=t.DELETE_MESSAGE_SUCCESS=t.DELETE_MESSAGE_FAILURE=t.CREATE_REACTION_SUCCESS=t.CREATE_REACTION_FAILURE=t.CREATE_CHAT_HANDLER_SUCCESS=t.CREATE_CHAT_HANDLER_FAIL=t.CLOSE_CHAT_SUCCESS=t.CHANGE_OVERLAY=t.CHANGE_FOCUSED_VIEW=t.BLOCK_USER_FAILURE=t.BLOCK_USER=t.ADD_REACTION_SUCCESS=t.ADD_REACTION_FAILURE=void 0,t.LOGIN_SUCCESS="login_success",t.LOGIN_FAIL="login_fail",t.SET_WSSID="set_wssid",t.NEW_GROUP_CHANNEL_LIST_SUCCESS="new_group_channel_list_success",t.GROUP_CHANNEL_LIST_SUCCESS="group_channel_list_success",t.GROUP_CHANNEL_LIST_FAIL="group_channel_list_fail",t.LOAD_CHANNEL_SUCCESS="load_channel_success",t.LOAD_CHANNEL_FAILURE="load_channel_failure",t.INIT_CHAT_SCREEN="init_chat_screen",t.CREATE_CHAT_HANDLER_SUCCESS="create_chat_handler_success",t.CREATE_CHAT_HANDLER_FAIL="create_chat_handler_fail",t.MESSAGE_LIST_SUCCESS="message_list_success",t.MESSAGE_LIST_FAIL="message_list_fail",t.MESSAGES_LOAD_SUCCESS="messages_load_success",t.MESSAGE_RECEIVED="message_received",t.MESSAGE_UPDATED="message_updated",t.MESSAGE_DELETED="message_deleted",t.SEND_MESSAGE_TEMPORARY="send_message_temporary",t.SEND_MESSAGE_SUCCESS="send_message_success",t.SEND_MESSAGE_FAIL="send_message_fail",t.OPEN_CHAT_SUCCESS="open_chat_success",t.OPEN_CHAT_FAILURE="open_chat_failure",t.CLOSE_CHAT_SUCCESS="close_chat_success",t.INIT_SUCCESS="init_success",t.START_NEW_CHAT_SUCCESS="start_chat_success",t.START_NEW_CHAT_FAILURE="start_chat_failure",t.RESET_TOUT="reset_tout",t.REPORT_MESSAGE_SUCCESS="report_message_success",t.REPORT_MESSAGE_FAILURE="report_message_failure",t.UNBLOCK_USER="unblock_user",t.UNBLOCK_USER_FAILURE="unblock_user_failure",t.BLOCK_USER="block_user",t.BLOCK_USER_FAILURE="block_user_failure",t.MARK_AS_READ="mark_as_read",t.TOGGLE_CHAT_MINIMIZE_SUCCESS="toggle_chat_minimize_success",t.DELETE_MESSAGE_SUCCESS="delete_message_success",t.DELETE_MESSAGE_FAILURE="delete_message_failure",t.ADD_REACTION_SUCCESS="add_reaction_success",t.REMOVE_REACTION_SUCCESS="remove_reaction_success",t.DELETE_REACTION_SUCCESS="delete_reaction_success",t.CREATE_REACTION_SUCCESS="create_reaction_success",t.ADD_REACTION_FAILURE="add_reaction_failure",t.REMOVE_REACTION_FAILURE="remove_reaction_failure",t.DELETE_REACTION_FAILURE="delete_reaction_failure",t.CREATE_REACTION_FAILURE="create_reaction_failure",t.GIF_LIST_SUCCESS="gif_list_success",t.GIF_LIST_FAILURE="gif_list_failure",t.USER_IS_TYPING="user_is_typing",t.USER_IS_DONE_TYPING="user_is_done_typing",t.TYPING_STATUS_UPDATED="typing_status_updated",t.UPLOAD_AUTH_ATTEMPT="upload_auth_attempt",t.UPLOAD_AUTH_FAILURE="upload_auth_failure",t.UPLOAD_AUTH_SUCCESS="upload_auth_success",t.UPLOAD_ATTEMPT="upload_attempt",t.UPLOAD_FAILURE="upload_failure",t.UPLOAD_SUCCESS="upload_success",t.ERROR="error",t.CHANGE_FOCUSED_VIEW="change_focused_view",t.CHANGE_OVERLAY="change_overlay",t.THREAD_INFO_UPDATED="thread_info_updated",t.PIN_MESSAGE="pin_message",t.UNPIN_MESSAGE="unpin_message",t.PINNED_MESSAGES_UPDATED="pinned_messages_updated",t.POLL_VOTED="poll_voted",t.POLL_UPDATED="poll_updated"},62662:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleChatMinStateLocalStorage=t.toggleChatList=t.removeChatFromLocalStorage=t.positionUnreadCount=t.positionChatList=t.isChatPositionFixed=t.isChatListOpen=t.getChatsMapFromLocalStorage=t.getActiveChatListFromLocalStorage=t.autoExpandTextArea=t.addChatToLocalStorage=void 0;var r,a=(r=n(59344))&&r.__esModule?r:{default:r},i=t.positionChatList=function(e){var t=document.getElementById("ChatList"),n=document.getElementById("FantasyChatButton"),r=document.querySelector(".ChatPointer");if(n&&t){var a=n.getBoundingClientRect(),i=a.height,c=a.width,l=t.getBoundingClientRect()||{};if(o())r&&(r.style.display="none"),t.style.position="fixed",t.style.bottom=i+parseInt(n.style.bottom,10)+10+"px",t.style.right=parseInt(n.style.right,10)+"px";else{var u=s(n),d=u.y+30+"px",f=u.x+c/2;t.style.top=d,t.style.left=Math.abs(f-l.width/2)+"px"}}},o=(t.toggleChatList=function(e){e&&(e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation());var t=document.getElementById("ChatList");t&&(t.classList.contains("D(n)!")?t.classList.remove("D(n)!"):t.classList.add("D(n)!"),i(e))},t.positionUnreadCount=function(e){var t=document.getElementById("ChatUnreadIndicator"),n=document.getElementById("FantasyChatButton");if(n&&t){var r=t.getBoundingClientRect()||{},a=n.getBoundingClientRect(),i=a.height,c=a.width;if(o())t.style.position="fixed",t.style.bottom=i+parseInt(n.style.bottom,10)-15+"px",t.style.right=parseInt(n.style.right,10)-5+"px";else{var l=s(n),u=l.y,d=l.x+c-5;t.style.top=u-5+"px",t.style.left=Math.abs(d-r.width/2)+"px"}}},t.isChatListOpen=function(){return!document.getElementById("ChatList").classList.contains("D(n)!")},t.isChatPositionFixed=function(){var e=document.getElementById("FantasyChatButton");return e&&e.classList.contains("Fixed")});function s(e){for(var t=0,n=0;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,n+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:t,y:n}}var c=t.getActiveChatListFromLocalStorage=function(){var e=(0,a.default)(localStorage.getItem("activeChats"));return e||(localStorage.setItem("activeChats",JSON.stringify([])),e=[]),e},l=t.getChatsMapFromLocalStorage=function(){var e=(0,a.default)(localStorage.getItem("chatsMap"));return e||(localStorage.setItem("chatsMap",JSON.stringify({})),e={}),e};t.addChatToLocalStorage=function(e){if(e){var t=c(),n=l();t.indexOf(e)>-1?(t=t.filter((function(t){return t!==e}))).unshift(e):t.unshift(e),n[e]={isMinimized:!1},localStorage.setItem("activeChats",JSON.stringify(t)),localStorage.setItem("chatsMap",JSON.stringify(n))}},t.toggleChatMinStateLocalStorage=function(e){if(e){var t=l(),n=t[e]||{},r=n.isMinimized;n.isMinimized=!r,localStorage.setItem("chatsMap",JSON.stringify(t))}},t.removeChatFromLocalStorage=function(e){if(e){var t=c(),n=l();t.indexOf(e)>-1&&(t=t.filter((function(t){return t!==e}))),delete n[e],localStorage.setItem("activeChats",JSON.stringify(t)),localStorage.setItem("chatsMap",JSON.stringify(n))}},t.autoExpandTextArea=function(e){e.style.height="auto";var t=e.scrollHeight+2;e.style.height=t+"px"}},21903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hideChatOverlay=t.changeChatOverlay=t.changeChatFocusedView=void 0;var r=n(70362);t.changeChatFocusedView=function(e,t,n){return function(a){a({type:r.CHANGE_FOCUSED_VIEW,payload:{chatUrl:e,view:t,data:n}})}},t.changeChatOverlay=function(e,t,n){return function(a){a({type:r.CHANGE_OVERLAY,payload:{chatUrl:e,overlay:t,data:n}})}},t.hideChatOverlay=function(e){return function(t){t({type:r.CHANGE_OVERLAY,payload:{chatUrl:e}})}}},89939:(e,t,n)=>{"use strict";function r(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=y(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));return r=function(){return e},e}function a(){var e=n(67467);return a=function(){return e},e}function i(){var e=n(70356);return i=function(){return e},e}function o(){var e=n(75516);return o=function(){return e},e}function s(){var e=m(n(46942));return s=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.App=void 0;var c=n(12531),l=n(62662),u=m(n(86267)),d=m(n(44646)),f=m(n(45118)),h=m(n(98293)),p=n(16310);function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}var C=t.App=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=b(t),function(e,t){if(t&&("object"==y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v()?Reflect.construct(t,n||[],b(e).constructor):t.apply(e,n))}(this,t,[e])).login=n.login.bind(n),n.loginSuccess=n.loginSuccess.bind(n),n.getFantasyChatButton=n.getFantasyChatButton.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props||{},t=e.login.loggedIn,n=e.loadOnClick,r=(0,l.getActiveChatListFromLocalStorage)(),a=e.chatContext,i=!0;if((!n||n&&(r.length||a.sendbird_user_id))&&(i=!1,this.login()),n&&!t){this.setState({willLoadOnClick:i});var o=this.getFantasyChatButton();o&&o.addEventListener("click",this.login)}}},{key:"loginSuccess",value:function(){var e=this.state||{},t=this.props||{},n=t.login.loggedIn,r=t.embeddedChannel;if(n&&!r){var a=this.getFantasyChatButton();a&&a.removeEventListener("click",this.login)}e.willLoadOnClick&&!(0,l.isChatListOpen)()&&(0,l.toggleChatList)()}},{key:"login",value:function(){var e=this.props||{},t=e.guid,n=e.env||{},r=e.chatContext||{},a=e.chatContextEndpoint||"",i=e.useContext||!1,o=n.env;t&&o&&(i?this.props.sendbirdLoginWithContext(r,a,t,o,this.loginSuccess):this.props.sendbirdLoginWithUserParams(t,o,this.loginSuccess))}},{key:"getFantasyChatButton",value:function(){return document&&document.getElementById("FantasyChatButton")}},{key:"render",value:function(){var e=this.props,t=e.embeddedType,n=e.allowPolls,a=e.readOnly,c=e.login||{},l=c.user||{},d=c.error||{},f=c.loggedIn,h=e.showTout,m=e.showReactions,_=e.showThreads,y=e.allowImageUpload,g=e.allowPins,v=e.embeddedChannel,b=e.wrapperClasses||"",w=e.mobileDeepLink,k=e.showCountInIndicator,E=e.redChatIndicator,S=e.hideTimestamps,C=o().RapidManager.getRapidInstance(),I=e.condensedHeaders;return r().default.createElement(i().I13nDiv,{className:(0,s().default)("FantasyChat W(100%) "+b,{"T(0) B(0) Start(0) End(0) Ov(h) H(100%)":v,"Pos(a)":v&&"recentMessages"!==!t,"Pos(r)":v&&"recentMessages"===t,"EmbeddedDraft ChatDarkTheme":v&&"draft"===t}),i13nModel:{sec:"fantasy-chat"},"data-color-scheme":(0,p.isDarkTheme)()?"dark":"light"},f?r().default.createElement(r().default.Fragment,null,r().default.createElement(T,{rapidInstance:C,user:l,showTout:h,showReactions:m,showThreads:_,allowImageUpload:y,allowPins:g,embeddedChannel:v,mobileDeepLink:w,hideTimestamps:S,showCountInIndicator:k,redChatIndicator:E,embeddedType:t,allowPolls:n,readOnly:a,condensedHeaders:I})):r().default.createElement(u.default,{error:d}))}}])&&g(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a}(r().Component),T=function(e){var t=e.rapidInstance,n=e.user,a=e.showTout,i=e.showReactions,o=e.showThreads,s=e.allowImageUpload,c=e.allowPins,l=e.showCountInIndicator,u=e.redChatIndicator,p=e.hideTimestamps,m=e.embeddedChannel,_=e.mobileDeepLink,y=e.embeddedType,g=e.allowPolls,v=e.condensedHeaders;return m?"recentMessages"===y?r().default.createElement(h.default,{rapidInstance:t,user:n,showTout:a,showReactions:i,showThreads:o,allowImageUpload:s,allowPins:c,embeddedChannel:m,mobileDeepLink:_,hideTimestamps:p,embeddedType:y,allowPolls:g}):r().default.createElement(f.default,{rapidInstance:t,user:n,showTout:a,showReactions:i,showThreads:o,allowImageUpload:s,allowPins:c,embeddedChannel:m,mobileDeepLink:_,hideTimestamps:p,embeddedType:y,allowPolls:g,condensedHeaders:v}):r().default.createElement(d.default,{rapidInstance:t,user:n,showTout:a,showReactions:i,showThreads:o,allowImageUpload:s,allowPins:c,showCountInIndicator:l,redChatIndicator:u,hideTimestamps:p,allowPolls:g})};t.default=(0,a().connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}),{sendbirdLoginWithContext:c.sendbirdLoginWithContext,sendbirdLoginWithUserParams:c.sendbirdLoginWithUserParams})((0,i().setupI13n)(C,{},[o().RapidPlugin]))},56815:(e,t,n)=>{"use strict";function r(){var e=l(n(96540));return r=function(){return e},e}function a(){var e=n(72218);return a=function(){return e},e}function i(){var e=l(n(20112));return i=function(){return e},e}function o(){var e=l(n(18305));return o=function(){return e},e}function s(){var e=n(8604);return s=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=l(n(38011));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.bots,n=e.blockSelectedUser,s=e.unBlockSelectedUser;return t.length?t.map((function(e){var t;return r().default.createElement("div",{key:e.userId,className:"D(f) H(50px) P(5px) Jc(sb)"},r().default.createElement("div",{className:"D(f) W(85%)"},r().default.createElement("img",{src:e.plainProfileUrl,alt:"bot profile",className:"Bdrs(50%)",width:"40px",height:"40px"}),r().default.createElement("div",{className:"Pstart(5px) ChatDarkTheme_C(grey-secondary) D(f) Fxd(c) Jc(c)"},r().default.createElement("span",{className:"Fz(14px)"},null===(t=e.metaData)||void 0===t?void 0:t.botSettingDescription))),r().default.createElement("div",{className:"D(f) Ai(c)"},r().default.createElement("button",{"data-testid":"block-bot-".concat(e.userId,"-button"),className:"Bg(n) P(0) Bd(n)",onClick:function(t){return d(t,e,n,s)}},r().default.createElement(a().Icon,{asset:e.isBlockedByMe?i().default:o().default,color:e.isBlockedByMe?"black":"#0063eb"}))))})):null},d=function(e,t,n,r){t.isBlockedByMe?r(e,t):n(e,t)};t.default=function(e){var t=e.hideOverlay,n=e.bots,a=e.blockSelectedUser,i=e.unBlockSelectedUser;return r().default.createElement("div",{id:"bots-modal",className:"Mih(80px) Bgc(white) ChatDarkTheme_Bgc($c-fuji-grey-l) W(85%) Bdrs(6px)"},r().default.createElement(c.default,{header:r().default.createElement(s().FormattedMessage,{id:"YAHOO_FANTASY_UPDATES"}),hideOverlay:t}),r().default.createElement(u,{bots:n,blockSelectedUser:a,unBlockSelectedUser:i}))},e.exports=t.default},24:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(8604);return i=function(){return e},e}function o(){var e=n(67467);return o=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ChatBody=void 0;var s=h(n(71252));function c(){var e=h(n(72554));return c=function(){return e},e}var l=n(70197),u=h(n(99500)),d=h(n(44144)),f=n(16310);function h(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(null,arguments)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function y(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var w=t.ChatBody=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=v(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,g()?Reflect.construct(t,n||[],v(e).constructor):t.apply(e,n))}(this,t,[e])).state={previousMessageListQuery:null},n.handleScroll=n.handleScroll.bind(n),n.getMessageList=n.getMessageList.bind(n),n.handleScroll=n.handleScroll.bind(n),n.getMessageList=n.getMessageList.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),n=t,o=[{key:"componentDidMount",value:function(){this.getMessageList(!0)}},{key:"getSnapshotBeforeUpdate",value:function(e,t){var n=(this.props.chatObj||{}).firstLoad,r=this.props.chatUrl,a=this.props.list[r]||[],i=e.list[r]||[],o=(a[0]||{}).messageId,s=(i[0]||{}).messageId,c=this.messageScrollList;return n||c&&c.scrollHeight-(c.scrollTop+c.clientHeight)<35?{scrollBottom:!0}:i.length!==a.length&&o===s?{scrollHeight:c.scrollHeight,scrollBottom:!1}:null}},{key:"componentDidUpdate",value:function(e,t,n){if(this.props.toutMsg&&null!==this.props.toutError&&this.props.showTout(this.props.toutMsg,this.props.toutError),this.messageScrollList){var r=this.messageScrollList;n&&(n.scrollBottom?(this.props.chatObj&&this.props.chatObj.unreadMessageCount&&!this.props.isMinimized&&this.props.markAsRead(this.props.chatObj),r.scrollTop=r.scrollHeight):r.scrollTop=r.scrollHeight-n.scrollHeight),e.isMinimized&&!this.props.isMinimized&&(r.scrollTop=r.scrollHeight)}(this.props.reloadChat||e.filter!==this.props.filter)&&this.getMessageList(!0)}},{key:"getMessageList",value:function(e){var t=this,n=this.props,r=n.chatUrl,a=n.chatObj,i=n.filter,o=this.props.list[r]||[],s="UPDATES"===i?a.botIds:"CHAT"===i?a.realUserIds:void 0,c=o[o.length-1]||{},l=e?Date.now():c.createdAt;l&&a.getMessagesByTimestamp(l,{prevResultSize:20,reverse:!0,includeMetaArray:!0,includeThreadInfo:!0,includeParentMessageInfo:!0,replyType:"only_reply_to_channel",senderUserIdsFilter:s}).then((function(n){t.props.setPrevMessages(n,r,e),t.setState({loadedMessageList:!0})}))}},{key:"handleScroll",value:function(){var e=this.messageScrollList;if(e){var t=e.scrollTop;0===t?this.getMessageList():e.scrollHeight===t+e.clientHeight&&this.props.markAsRead(this.props.chatObj)}}},{key:"render",value:function(){var e=this,t=this,n=this.state,r=this.props,o=r.embeddedType,l=r.filter,h=r.user||{},p=r.chatObj||{},_=r.chatUrl,y=p.metaData||{},g=r.list||{},v=r.isThread,b=v?r.replies:g[_]||[],w=[],k=r.isEmbed,E=p.getTypingUsers()||[],S=E.length>0,C=r.showReactions,T=r.allowImageUpload,I=p.getReadStatus(),M=r.parentMessageId,O=r.showThreads,A=r.allowPins,N=null;return b.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.sender,i=(0,f.isUserBot)(n);n&&n.metaData&&("UPDATES"===l&&!i||"CHAT"===l&&i)||(w.unshift(a().default.createElement(s.default,{key:"message-"+e.messageId+e.updatedAt,intl:r.intl,chatObj:p,message:e,user:h,fantasyMetadata:y,deleteMessage:r.deleteMessage,startChat:t.props.startNewChat,blockChatUser:t.blockChatUser,unBlockChatUser:t.unBlockChatUser,showFocusedImageMedia:t.showFocusedImageMedia,selectMessage:t.selectMessage,showReactions:C,showThreads:O,allowPins:A,removeReaction:r.removeReaction,addReaction:r.addReaction,memberMap:p.memberMap,isEmbed:k,readStatusMap:I,isDirectMessage:"direct_message"===p.customType,changeView:r.changeView,changeOverlay:r.changeOverlay,hideOverlay:r.hideOverlay,parentMessageId:M,isThread:v,pinMessage:r.pinMessage,unpinMessage:r.unpinMessage,onMediaFocus:r.onMediaFocus,filter:r.filter,hideTimestamps:r.hideTimestamps,followingMessageCreatedAt:N,embeddedType:o,allowPolls:r.allowPolls,rapidInstance:r.rapidInstance})),N=e.createdAt)})),r.parentMessage&&w.unshift(a().default.createElement("div",{className:"W(100%) Fxs(0) Bds(s) Bdw(0) Bdbw(1px) Bgc(white) ChatDarkTheme_Bgc($c-fuji-grey-l) ChatDarkTheme_C(white) Bdc(grey-9) Pb(8px) Mb(8px)"},a().default.createElement(s.default,m({},this.props,{message:r.parentMessage,chatObj:p,parentMessage:r.parentMessage,fantasyMetadata:p.metaData,key:"".concat(r.parentMessage.messageId,"-").concat(r.updated),memberMap:p.memberMap,forceShowSender:!0,isThread:!0})))),a().default.createElement("div",{className:"ysfChatBody Pos(r) H(100%) W(100%) D(f) Fxd(c)"},a().default.createElement("div",{className:"Pos(r) H(100%) D(f) Fxd(c)"},a().default.createElement("div",{ref:function(t){e.messageScrollList=t},onScroll:function(t){return e.handleScroll(t)},className:"D(f) Fxg(1) T(0) W(100%) Ovy(s) Ovx(h) Bgc(white) ChatDarkTheme_Bgc($c-fuji-grey-l) ChatDarkTheme_C(white) Bxz(bb)"},a().default.createElement("div",{className:"W(100%) Whs(pl)"},w,n.loadedMessageList&&!b.length&&!v&&a().default.createElement(d.default,{key:"emptychat-"+p.url,chat:p}))),S?a().default.createElement("div",{className:"H(15px) W(100%) Fz(12px) EmbeddedDraft_Fz(11px) C(grey-8) Bgc(white) Bds(s) Bdw(1px) Bdc(border-color) Bdbw(0px) Bdtw(0px)"},a().default.createElement("div",{className:"Mstart(56px) Pstart(5px) Pos(r)"},a().default.createElement(i().FormattedMessage,{id:E.length>1?"MULTIPLE_USERS_ARE_TYPING":"ONE_USER_IS_TYPING",values:{userName:(0,c().default)(E,[0,"nickname"]),numberUsers:E.length}}))):null,a().default.createElement(u.default,{allowImageUpload:T,channelUrl:_,isEmbed:k,chatObj:p,rapidInstance:r.rapidInstance,intl:r.intl,user:r.user,showReactions:C,changeOverlay:r.changeOverlay,onMediaFocus:r.onMediaFocus,parentMessageId:M,isThread:v,allowPolls:r.allowPolls,changeView:r.changeView,filter:l,embeddedType:o})))}}],o&&_(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(a().Component);t.default=(0,o().connect)((function(e){var t=e.chat,n=e.env,r=e.login,a=t.list,i=t.channelMessagesById||{},o=n.env,s=(r.user||{}).crumb,c=t.toutError,u=t.toutMsg,d=t.reloadChat,f=t.processingUpload;return{list:(0,l.mapMessagesFromMessageIds)(a,i),env:o,crumb:s,toutMsg:u,toutError:c,reloadChat:d,processingUpload:f}}),{})(w)},33621:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(70356);return i=function(){return e},e}function o(){var e=n(8604);return o=function(){return e},e}function s(){var e=n(72218);return s=function(){return e},e}function c(){var e=h(n(79466));return c=function(){return e},e}function l(){var e=h(n(83772));return l=function(){return e},e}function u(){var e=h(n(45907));return u=function(){return e},e}function d(){var e=h(n(11832));return d=function(){return e},e}function f(){var e=h(n(46942));return f=function(){return e},e}function h(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLeagueLogo=t.default=void 0;var y=t.defaultLeagueLogo="https://s.yimg.com/cv/api/default/20180206/default-league-logo@2x.png",g={THREAD:"HEADER_THREAD",PINS:"HEADER_PINNED_MESSAGES",CREATE_POLL:"CREATE_POLL"},v=new Set(["SEARCH","CHAT"]);t.default=function(e){var t=e.view,n=void 0===t?{}:t,r=e.chatObj,h=void 0===r?{}:r,p=e.allowPins,_=e.changeView,b=e.isEmbed,w=e.backCallback,k=e.closeChat,E=e.closeChatCallback,S=e.embeddedType,C=e.isMinimized,T=e.toggleChatMinimize,I=e.showLogo,M=e.distinctHeader,O=e.isViewMainChat,A=e.showSettings,N=void 0===A||A,P=m((0,a().useState)(!1),2),x=P[0],D=P[1],U=m((0,a().useState)(!1),2),L=U[0],z=U[1],R=m((0,a().useState)(!1),2),j=R[0],F=R[1],B=n.currentView,H=void 0===B?"CHAT":B,G=h.display_name,V=!h.coverUrl||h.coverUrl.includes("https://static.sendbird.com/sample")?y:h.coverUrl,q=h.unreadMessageCount;return O||!1===O||(O="CHAT"===H),M||(M=g[H]),I||!1===I||(I=v.has(H)||C),a().default.createElement("div",{tabIndex:0,role:"button",onKeyDown:function(){},onClick:b?null:T,className:(0,f().default)("ysf-chatHeader Cur(p) C($c-batcave) Bgc(grey-default) Pstart(16px) Pend(20px) Va(m) H(56px) D(f) Ai(c) Jc(sb) Fxs(0) Cur(p) O(n):f",{"Pos(a) B(0px)":C,"W(chat-width)":!b,"W(100%)":b})},a().default.createElement("div",{className:"D(f) Fxg(100) Ov(h)"},C||O?null:a().default.createElement(i().I13nDiv,{i13nModel:{slk:"chat_view_back_click"},bindClickEvent:!0,className:"Start(5px) O(n):f P(5px) Cur(p) ysf-chat-view-back Pos(r) D(f) Ai(c) Mend(26px)",onClick:function(e){return function(e,t,n){!function(e,t){e.stopPropagation&&e.stopPropagation(),t("CHAT")}(e,t),n&&n()}(e,_,w)},"data-testid":"back-button"},a().default.createElement(s().Icon,{role:"button",className:"Cur(p)!",color:"black",asset:u().default,height:"20",width:"20"})),I&&a().default.createElement("img",{src:V,className:"Bdrs(50%) Mend(16px)",alt:"league",width:"40px",height:"40px"}),!C&&M?a().default.createElement("div",{className:"D(f) Fxd(c) Jc(fs) Ta(s) As(c) Whs(nw) Tov(e) Ovx(h)"},a().default.createElement("span",{className:"Va(m) Fz(18px) Fw(500) ysf-chat-name"},a().default.createElement(o().FormattedMessage,{id:M})),a().default.createElement("span",{className:"Va(m) Fz(12px) Fw(500) ysf-chat-name",title:G},G)):a().default.createElement("div",{className:"Ta(s) As(c) Whs(nw) Fxg(1) W(100%) Ov(h)"},a().default.createElement("div",{className:(0,f().default)("Va(m) Fz(18px) Fw(600) ysf-chat-name W(100%) Tov(e)",{"Tov(e) Ovx(h)":!b}),title:G},G),a().default.createElement("span",null,q?a().default.createElement("span",{className:"Pstart(1px) Va(m) Mstart(10px) D(ib) Fw(b) Bgc(notification-color) Bdrs(30%) H(15px) W(15px) Fz(11px) C(white) Ta(c) As(c)"},q):null))),a().default.createElement("div",{className:"D(f) Jc(se) Ai(c) Fxd(r) W(a)"},!C&&p?a().default.createElement(i().I13nDiv,{i13nModel:{slk:"chat_pinned_click"},bindClickEvent:!0,className:(0,f().default)("O(n):f Mx(5px) Py(5px) Cur(p) ysf-pinned-messages",{"C(notification-color)":x}),onClick:function(e){return function(e,t){e.stopPropagation&&e.stopPropagation(),t("PINS")}(e,_)},"data-testid":"pinned-button",onMouseEnter:function(){return D(!0)},onMouseLeave:function(){return D(!1)}},a().default.createElement(s().Icon,{role:"button",className:"Cur(p)! Mend(5px)",color:x?"#0078ff":"black",asset:d().default,height:"20",width:"20"}),b&&"messageBoard"===S&&a().default.createElement("span",{className:"Fw(500)"},a().default.createElement(o().FormattedMessage,{id:"ALL_PINS"}))):null,N&&!C&&a().default.createElement(i().I13nDiv,{i13nModel:{slk:"chat_info_click"},bindClickEvent:!0,className:(0,f().default)("O(n):f Mx(5px) Py(5px) Cur(p) ysf-settings-toggle",{"C(notification-color)":L}),onClick:function(e){return function(e,t){e.stopPropagation&&e.stopPropagation(),t("SETTINGS")}(e,_)},"data-testid":"settings-button",onMouseEnter:function(){return z(!0)},onMouseLeave:function(){return z(!1)}},a().default.createElement(s().Icon,{role:"button",className:"Cur(p)! Mend(5px)",color:L?"#0078ff":"black",asset:l().default,height:"20",width:"20"}),b&&"messageBoard"===S&&a().default.createElement("span",{className:"Fw(500)"},a().default.createElement(o().FormattedMessage,{id:"LEAGUE_INFO"}))),b?null:a().default.createElement(i().I13nDiv,{i13nModel:{slk:"chat_chat_close"},bindClickEvent:!0,className:"O(n):f Mx(5px) Cur(p) ysf-close-chat",onClick:function(e){return function(e,t,n){t(e),n&&n()}(e,k,E)},"data-testid":"close-button",onMouseEnter:function(){return F(!0)},onMouseLeave:function(){return F(!1)}},a().default.createElement(s().Icon,{role:"button",className:"Cur(p)!",color:j?"#0078ff":"black",asset:c().default,height:"24",width:"24"}))))}},1974:(e,t,n)=>{"use strict";function r(){var e=M(n(96540));return r=function(){return e},e}function a(){var e=M(n(46942));return a=function(){return e},e}function i(){var e=n(8604);return i=function(){return e},e}function o(){var e=n(67467);return o=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ChatViewContainer=void 0;var s=n(21903),c=n(2778),l=n(54654),u=M(n(24)),d=M(n(16591)),f=M(n(51723)),h=M(n(64924)),p=M(n(39978)),m=M(n(1684)),_=M(n(57410)),y=M(n(96352)),g=M(n(75454)),v=M(n(13398));function b(){var e=n(70356);return b=function(){return e},e}var w=M(n(33621)),k=M(n(56815)),E=M(n(53391)),S=M(n(17603)),C=M(n(31506)),T=M(n(89291)),I=M(n(81850));function M(e){return e&&e.__esModule?e:{default:e}}function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(null,arguments)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P=function(){return!!e})()}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function U(e,t,n){return(t=L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){var t=function(e){if("object"!=O(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==O(t)?t:t+""}var z={CHAT:u.default,THREAD:f.default,SEARCH:d.default,SETTINGS:g.default,PINS:h.default,CREATE_POLL:S.default},R={CREATE_POLL:!0,THREAD:!0},j={REPORT_MESSAGE:_.default,USER:p.default,GIF_PICKER:y.default,REACTION_PICKER:m.default,FAAB_LOSING_BIDS:v.default,BOTS:k.default,VIEW_POLL:C.default,CONFIRM_CLOSE_POLL:T.default},F={CHAT:["ALL","CHAT","UPDATES"]},B=t.ChatViewContainer=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return U(e=function(e,t,n){return t=x(t),function(e,t){if(t&&("object"==O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,P()?Reflect.construct(t,n||[],x(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"changeView",(function(t,n){var r=e.props.chatUrl;e.props.changeChatFocusedView(r,t,n)})),U(e,"changeOverlay",(function(t,n){var r=e.props.chatUrl;e.props.changeChatOverlay(r,t,n)})),U(e,"hideOverlay",(function(){var t=e.props.chatUrl;e.props.hideChatOverlay(t)})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this,t=this.props,n=t.viewObj,o=void 0===n?{}:n,s=t.isMinimized,c=t.chatObj,l=t.chatUrl,u=t.isEmbed,d=t.embeddedType,f=t.condensedHeaders,h=o.views[l]||{},p=h.currentView,m=void 0===p?"CHAT":p,_=h.viewData,y=void 0===_?{filter:"ALL"}:_,g=h.currentOverlay,v=h.overlayData,k=z[m],S=g&&j[g]?j[g]:void 0,C=!f,T=f&&R[m];return r().default.createElement("div",{className:"D(f) Fxd(c) W(100%) H(100%)"},C?r().default.createElement(w.default,A({},this.props,y,{view:h,changeView:this.changeView,changeOverlay:this.changeOverlay,isEmbed:u,embeddedType:d,filter:m})):T?r().default.createElement(I.default,A({},this.props,y,{view:h,changeView:this.changeView,changeOverlay:this.changeOverlay,isEmbed:u,embeddedType:d,filter:m})):null,F[m]&&"direct_message"!==c.customType?r().default.createElement("div",{className:(0,a().default)("D(f) Flxs(0) Fxd(r) Ai(c) Bgc(white) ChatDarkTheme_Bgc($c-fuji-grey-l) Bds(s) Bdw(0) Bdbw(1px) Bdc(grey-9)",{"Jc(se)":!u,"H(24px)":"draft"===d,"H(36px)":"draft"!==d})},F[m].map((function(t){return r().default.createElement(b().I13nButton,{key:t,"data-testid":"filter-".concat(t),className:(0,a().default)("Fz(16px) EmbeddedDraft_Fz(13px) Cur(p) ChatDarkTheme_C(white) Bgc(t) Bd(n) H(100%) W(80px)",{"Fw(b) Bdbw(2px) Bdbs(s) Bdbc(blue-1a)":y.filter===t,"W(110px)!":u}),onClick:function(){return e.changeView("CHAT",{filter:t})}},r().default.createElement(i().FormattedMessage,{id:"TAB_".concat(u&&"messageBoard"===d&&"CHAT"===t?"LEAGUE_":"").concat(t)}))}))):null,r().default.createElement("div",{className:(0,a().default)("D(f) Fxg(1) Ov(h) W(100%)",{"T(20px)":f,"T(80px)":C,"V(h)":s})},r().default.createElement(k,A({},this.props,y,{changeView:this.changeView,changeOverlay:this.changeOverlay})),S?r().default.createElement(E.default,{hideOverlay:this.hideOverlay},r().default.createElement(S,A({},this.props,v,{hideOverlay:this.hideOverlay,changeView:this.changeView,changeOverlay:this.changeOverlay}))):null))}}])&&N(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(r().default.Component);t.default=(0,i().injectIntl)((0,o().connect)((function(e){return{viewObj:e.view}}),{setPrevMessages:l.setPrevMessages,getPrevMessageList:l.getPrevMessageList,sendTextMessage:l.sendTextMessage,sendFileMessage:l.sendFileMessage,uploadAndSendImage:l.uploadAndSendImage,startNewChat:c.startNewChat,reportMessage:l.reportMessage,deleteMessage:l.deleteMessage,blockUser:l.blockUser,blockUserById:l.blockUserById,unBlockUser:l.unBlockUser,unBlockUserById:l.unBlockUserById,setTyping:c.setTyping,setDoneTyping:c.setDoneTyping,addReaction:l.addReaction,removeReaction:l.removeReaction,showError:l.showError,changeChatFocusedView:s.changeChatFocusedView,changeChatOverlay:s.changeChatOverlay,hideChatOverlay:s.hideChatOverlay,pinMessage:l.pinMessage,unpinMessage:l.unpinMessage,saveLoadedMessages:l.saveLoadedMessages,sendPollMessage:l.sendPollMessage})(B))},81850:(e,t,n)=>{"use strict";function r(){var e=c(n(96540));return r=function(){return e},e}function a(){var e=n(70356);return a=function(){return e},e}function i(){var e=n(8604);return i=function(){return e},e}function o(){var e=n(72218);return o=function(){return e},e}function s(){var e=c(n(45907));return s=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l={THREAD:"HEADER_THREAD",PINS:"HEADER_PINNED_MESSAGES",CREATE_POLL:"CREATE_POLL"};t.default=function(e){var t=e.view,n=void 0===t?{}:t,c=e.changeView,u=e.backCallback,d=e.distinctHeader,f=e.isViewMainChat,h=n.currentView,p=void 0===h?"CHAT":h;return f||!1===f||(f="CHAT"===p),d||(d=l[p]),r().default.createElement("div",{className:"W(100%) ysf-chatHeader Cur(p) Va(m) H(20px) D(f) Ai(c) Jc(sb) Fxs(0) Cur(p) O(n):f"},r().default.createElement("div",{className:"D(f) Fxg(100) Ov(h)"},f?null:r().default.createElement(a().I13nDiv,{i13nModel:{slk:"chat_view_back_click"},bindClickEvent:!0,className:"Start(5px) O(n):f P(5px) Cur(p) ysf-chat-view-back Pos(r) D(f) Ai(c) Mend(26px)",onClick:function(e){return function(e,t,n){!function(e,t){e.stopPropagation&&e.stopPropagation(),t("CHAT")}(e,t),n&&n()}(e,c,u)},"data-testid":"back-button"},r().default.createElement(o().Icon,{role:"button",className:"Cur(p)!",color:"white",asset:s().default,height:"14",width:"14"})),d?r().default.createElement("div",{className:"D(f) Fxd(r) Jc(c) Ta(s) As(c) Whs(nw) Tov(e) Ovx(h)"},r().default.createElement("span",{className:"Va(m) Fz(14px) Fw(500) ysf-chat-name"},r().default.createElement(i().FormattedMessage,{id:d}))):null))},e.exports=t.default},83523:(e,t,n)=>{"use strict";function r(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=c(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));return r=function(){return e},e}function a(){var e=o(n(46942));return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DockedChatWrapper=void 0;var i=o(n(1974));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}var m=t.DockedChatWrapper=function(e){function t(e){var n,r,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t,n){return t=f(t),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,n||[],f(e).constructor):t.apply(e,n))}(this,t,[e]),r=n,i=function(e){e.stopPropagation();var t=n.props.chat;n.props.closeChat(t)},(a=p(a="closeChat"))in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,n.state={},n.onMediaFocus=n.onMediaFocus.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(t,e),n=t,(o=[{key:"onMediaFocus",value:function(e){this.setState({focusedImageMedia:e})}},{key:"render",value:function(){var e=this.state.focusedImageMedia,t=this.props,n=t.isMinimized,o=t.rightPosition;return r().default.createElement("div",{className:(0,a().default)("ysf-chatcontainer D(f) Fxd(c) Mx(5px) Va(t) W(chat-width) Bxsh(chat-box-shadow) Bdrs(chat-border-radius) Ta(s) Pos(f) B(0) Z(2147483639)",{"Z(2147483640)!":e}),style:{right:o+"px"}},r().default.createElement("div",{className:(0,a().default)("Pos(r) Bdrs(chat-border-radius) Bds(s) Bdw(1px) Bdc(#e0e4e9) Ov(h)",{"H(56px)":n,"H(609px) H(100vh)--smHeight":!n})},r().default.createElement(i.default,l({},this.props,{onMediaFocus:this.onMediaFocus,closeChat:this.closeChat}))))}}])&&u(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(r().Component);t.default=m},1684:(e,t,n)=>{"use strict";function r(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=d(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));return r=function(){return e},e}function a(){var e=l(n(46942));return a=function(){return e},e}function i(){var e=n(70356);return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EmojiPicker=void 0;var o=l(n(24222));function s(){var e=n(8604);return s=function(){return e},e}var c=l(n(38011));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function _(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}var g=t.EmojiPicker=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_(n=function(e,t,n){return t=p(t),function(e,t){if(t&&("object"==d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}(this,t,[e]),"updateEmojiList",(function(){var e=n.state.emojiQuery;e&&""!==e?n.setState({emojiList:o.default.filter((function(t){var n=t.keywords;return t.category.indexOf(e)>=0||n.some((function(t){return t.indexOf(e)>=0}))}))}):n.setState({emojiList:o.default})})),_(n,"updateEmojiQuery",(function(e){e&&e.target&&n.setState({emojiQuery:e.target.value},(function(){n.searchTimeout&&clearTimeout(n.searchTimeout),n.searchTimeout=setTimeout((function(){return n.updateEmojiList()}),500)}))})),_(n,"addReactionToMessage",(function(e,t,r){e&&e.stopPropagation();var a=n.props,i=a.chatObj,o=a.user,s=a.intl,c=a.rapidInstance,l=a.addReaction,u=o.userId;c&&c.beaconClick("fantasy-chat","chat_select_reaction_click"),l(i,r,t,u,s),n.props.hideOverlay()})),n.state={emojiList:o.default},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),n=t,l=[{key:"render",value:function(){var e=this,t=[],n=this.props,o=n.selectedMessage,l=n.hideOverlay,u=n.isEmbed,d=n.embeddedType,f=n.intl,h=this.state,p=h.emojiList,m=h.emojiQuery;return p.map((function(n){var a=n.char,s=n.name;t.push(r().default.createElement(i().I13nButton,{i13nModel:{elm:"EmojiPicker"},onClick:function(t){return e.addReactionToMessage(t,"rxn_".concat(s),o)},key:s,className:"W(30px) Fz(24px)! Fw(n) D(ib) Mx(8px) Cur(p) Bgc(t) Bd(n)","data-tst":"emoji"},r().default.createElement("span",null,a)))})),r().default.createElement("div",{id:"EmojiPicker",className:(0,a().default)("Ov(h) Bxsh(gif-picker-box-shadow) Bdrs(6px) Bgc(white) Pos(a) Z(2147483647) D(f) Fxd(c) ChatDarkTheme_Bgc($c-fuji-grey-l) ChatDarkTheme_C(white)",{"H(80%) W(80%)":u&&"draft"!==d,"H(100%) W(100%)":u&&"draft"===d,"H(90%) W(300px)":!u})},r().default.createElement(c.default,{header:f.formatMessage({id:"ADD_REACTION"}),hideOverlay:l,embeddedType:d}),r().default.createElement("div",{className:"Pt(10px) EmbeddedDraft_Py(8px) Ta(c)"},r().default.createElement("input",{placeholder:f.formatMessage({id:"EMOJI_SEARCH"}),className:" H(48px) EmbeddedDraft_H(32px) C(black) Bgc(#f5f8fa) P(3px) Mx(a) W(80%) Bdrs(3px) Bd(n) ChatDarkTheme_Bgc(black) ChatDarkTheme_C(white)",onChange:this.updateEmojiQuery,type:"text",value:m,id:"emojiQuery"})),r().default.createElement("div",{className:"H(100%) W(100%) Py(30px) EmbeddedDraft_Py(0px) Px(10px) Bxz(bb) Ta(c) Ovy(a)"},t.length?t:r().default.createElement(s().FormattedMessage,{id:"SEARCH_NO_RESULTS"})))}}],l&&f(n.prototype,l),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,l}(r().PureComponent);t.default=g},44646:(e,t,n)=>{"use strict";function r(){var e=v(n(96540));return r=function(){return e},e}function a(){var e=v(n(46942));return a=function(){return e},e}function i(){var e=n(67467);return i=function(){return e},e}function o(){var e=n(70356);return o=function(){return e},e}function s(){var e=n(72218);return s=function(){return e},e}function c(){var e=n(8604);return c=function(){return e},e}function l(){var e=v(n(69021));return l=function(){return e},e}function u(){var e=v(n(20464));return u=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FullChatWrapper=void 0;var d=n(2778),f=n(44104),h=n(70197),p=n(62662),m=v(n(64687)),_=v(n(70497)),y=v(n(41345)),g=n(83523);function v(e){return e&&e.__esModule?e:{default:e}}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function C(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){var t=function(e){if("object"!=b(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(t)?t:t+""}var I=t.FullChatWrapper=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C(n=function(e,t,n){return t=E(t),function(e,t){if(t&&("object"==b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,k()?Reflect.construct(t,n||[],E(e).constructor):t.apply(e,n))}(this,t,[e]),"showHiddenChatPanel",(function(){var e=n.state.showHiddenChatPanel;n.setState({showHiddenChatPanel:!e})})),C(n,"changeSearchVal",(function(e){if(e&&e.target){var t=(0,f.sbCreateGroupChannelListQuery)();t.channelNameContainsFilter=e.target.value,n.setState({groupChannelListQuery:t,searchValue:e.target.value,leaguesOnly:!1},(function(){n.getGroupChannelList(!1,!1)}))}})),n.state={channels:{},activeChats:[],channelsOrder:[],showHiddenChatPanel:!1,leaguesOnly:!1,searchValue:"",fixedPositioning:!1},n.handleScroll=n.handleScroll.bind(n),n.handleClickOutside=n.handleClickOutside.bind(n),n.onChatListItemClick=n.onChatListItemClick.bind(n),n.onCloseChatClick=n.onCloseChatClick.bind(n),n.toggleChatMinimize=n.toggleChatMinimize.bind(n),n.showTout=n.showTout.bind(n),n.markChannelAsRead=n.markChannelAsRead.bind(n),n.handleImageError=n.handleImageError.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(t,e),n=t,i=[{key:"componentDidMount",value:function(){this.initChatList(),this.props.createChatHandler(this.props.user.userId),document.addEventListener("click",this.handleClickOutside),(0,p.positionUnreadCount)(),(0,p.positionChatList)(),(0,p.isChatPositionFixed)()&&this.setState({fixedPositioning:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside)}},{key:"componentWillReceiveProps",value:function(e){var t=e.channels;JSON.stringify(t)!==JSON.stringify(this.props.channels)&&(0===t.length?this.setState({channels:{}}):this.setState({channels:t}))}},{key:"onChatListItemClick",value:function(e,t){var n=this.props.openChat;this.setState({showHiddenChatPanel:!1}),n(e,t)}},{key:"onCloseChatClick",value:function(e){this.props.closeChat(e)}},{key:"toggleChatMinimize",value:function(e){this.props.toggleChatMinimize(e)}},{key:"initChatList",value:function(){this.getGroupChannelList(!0),this.props.initLocalStorageChats()}},{key:"getGroupChannelList",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var r=(0,f.sbCreateGroupChannelListQuery)();this.setState({groupChannelListQuery:r},(function(){t.props.getGroupChannelList(t.state.groupChannelListQuery,n)}))}else this.props.getGroupChannelList(this.state.groupChannelListQuery,n)}},{key:"handleScroll",value:function(){var e=this.chatListScrollList,t=this.chatListEnd,n=e.scrollTop+e.clientHeight;t.offsetTop-120<=n&&this.getGroupChannelList(!1,!0)}},{key:"handleClickOutside",value:function(e){this.chatListDiv&&!this.chatListDiv.contains(e.target)&&(0,p.isChatListOpen)()&&(0,p.toggleChatList)()}},{key:"showTout",value:function(e,t){this.props.showTout(e,t)}},{key:"showLeaguesOnly",value:function(){var e=this,t=(0,f.sbCreateGroupChannelListQuery)();t.customTypeStartsWithFilter="league",this.state.searchValue&&(t.channelNameContainsFilter=this.state.searchValue),this.setState({groupChannelListQuery:t,leaguesOnly:!0},(function(){e.getGroupChannelList(!1,!1)}))}},{key:"showAllChats",value:function(){var e=this,t=(0,f.sbCreateGroupChannelListQuery)();this.state.searchValue&&(t.channelNameContainsFilter=this.state.searchValue),this.setState({groupChannelListQuery:t,leaguesOnly:!1},(function(){e.getGroupChannelList(!1,!1)}))}},{key:"markChannelAsRead",value:function(e){this.props.markAsRead(e)}},{key:"handleImageError",value:function(e){e.target.onerror=null,e.target.src="https://s.yimg.com/cv/api/default/20180206/default-league-logo@2x.png"}},{key:"render",value:function(){var e=this,t=this,n=this.props,i=n.allowPolls,d=this.state,f=n.showReactions,p=n.allowImageUpload,v=n.channels||{},b=n.channelsOrder||[],w=n.showCountInIndicator,k=n.redChatIndicator,E=[],S=n.activeChats||[],T=d.showHiddenChatPanel,I=_.default.MAX_OPEN_CHATS,M=d.leaguesOnly,O=d.searchValue,A=d.fixedPositioning,N=0;b.forEach((function(e){var n=v[e]||{},i=n.lastMessage||{},s=i.messageId,l=i.message,u=(i.sender||{}).nickname,d=i.customType,f=(0,h.isLeagueChannel)(n);n.unreadMessageCount&&(N+=n.unreadMessageCount),E.push(r().default.createElement(o().I13nDiv,{i13nModel:{slk:"chat_list_item"},bindClickEvent:!0,onClick:function(){return t.onChatListItemClick(n,n.url)},key:"".concat(n.url,"-").concat(Math.random().toString(16).slice(2)),className:(0,a().default)("Py(10px) Cur(p) D(f) Bgc(#f5f8fa):h O(0):f Bgc(white) Px(10px) Td(n)!:h",{"ysf-chat-league":f,"ysf-chat-direct":!f})},r().default.createElement("div",{className:"D(ib) Ta(s) As(c) W(15%)"},r().default.createElement("div",{className:"W(35px) H(35px) Pos(r)"},r().default.createElement("img",{className:"Bdrs(50%)",alt:"Chat Cover",src:n.display_coverUrl,width:"35px",height:"35px",onError:t.handleImageError}),n.unreadMessageCount>0?r().default.createElement("div",{className:"Pos(a) W(10px) H(10px) Bdrs(50%) End(0) B(0) Bgc(#0078ff)"}):null)),r().default.createElement("div",{className:(0,a().default)("W(200px)","Ta(s)","Mstart(8px)",{"As(t) W(55%)":s,"As(c) W(80%)":!s})},r().default.createElement("div",{className:"Fz(16px) Fw(700) Ovx(h) Whs(nw) Tov(e)"},n.display_name),s?r().default.createElement("div",{className:"Fz(16px) Ovx(h) Whs(nw) Tov(e) C(grey-8) ChatDarkTheme_C(grey-secondary) Pt(3px) Ell"},r().default.createElement(c().FormattedMessage,{id:"LAST_MESSAGE",values:{sender:u,message:l||"["+d.toUpperCase()+"]"}})):null),s?r().default.createElement("div",{className:"D(ib) As(t) W(30%) C(grey-8) ChatDarkTheme_C(grey-secondary) Fz(14px) Ta(e) Whs(nw) Ell"},r().default.createElement(c().FormattedRelative,{value:i.createdAt})):null))}));var P=A?_.default.RIGHT_PADDING_FIXED:_.default.RIGHT_PADDING;return r().default.createElement("div",{className:"ysf-ChatWrapper Z(1)"},r().default.createElement("div",{id:"ChatUnreadIndicator",className:(0,a().default)(C(C(C(C({},y.default.unreadIndicatorRed,k&&!w),y.default.unreadIndicatorCount,w),y.default.unreadIndicator,!w&&!k),"D(n)!",!N))},r().default.createElement("div",null,w?N:null)),r().default.createElement("div",{ref:function(t){e.chatListDiv=t},id:"ChatList",className:y.default.chatListWrapper},r().default.createElement("div",{className:y.default.chatHeaderWrapper},r().default.createElement("div",{className:"M(16px) Fw(600) Fz(18px)"},r().default.createElement(c().FormattedMessage,{id:"FANTASY_CHAT"}))),r().default.createElement("div",{className:"H(48px) Mt(12px) W(100%) D(f) Jc(se) Ai(c) Fz(16px) Bgc(white) Bds(s) Bdw(0) Bdc(border-color) Bdbw(1px)"},r().default.createElement(o().I13nDiv,{i13nModel:{slk:"chat_chat_click"},bindClickEvent:!0,onClick:function(){return e.showAllChats()},className:(0,a().default)("H(100%) Px(8px) Ta(c) D(f) Jc(c) Ai(c) Cur(p) Td(n)!:h ys-chats-filter",{"Fw(b) Bdbw(2px) Bdbs(s) Bdbc(blue-1a)":!M})},r().default.createElement(c().FormattedMessage,{id:"CHATS"})),r().default.createElement(o().I13nDiv,{i13nModel:{slk:"chat_leagues_click"},bindClickEvent:!0,onClick:function(){return e.showLeaguesOnly()},className:(0,a().default)("H(100%) Px(8px) Ta(c) D(f) Jc(c) Ai(c) Cur(p) Td(n)!:h ys-leagues-filter",{"Fw(b) Bdbw(2px) Bdbs(s) Bdbc(blue-1a)":M})},r().default.createElement(c().FormattedMessage,{id:"LEAGUES"}))),r().default.createElement("div",{className:"W(100%) Py(8px) Bgc(white) Px(10px) Ta(c)"},r().default.createElement("div",{className:"D(ib)"},r().default.createElement(s().Icon,{color:"normal-black333",asset:u().default,height:"15",width:"15"})),r().default.createElement("div",{className:"D(ib) W(90%)"},r().default.createElement("input",{className:"Pos(r) H(48px) W(100%) Fz(16px) O(n):f C(black) Bgc(#f5f8fa) Py(3px) Px(12px) Mx(a) W(80%) Bdrs(8px) Bd(n)",placeholder:"Search for a league or manager",type:"text",value:O,onChange:this.changeSearchVal}))),r().default.createElement("div",{ref:function(t){e.chatListScrollList=t},className:"Mah(450px) H(450px) Ovy(s) Bgc(white) Bdrs(chat-list-border-radius)",onScroll:function(t){return e.handleScroll(t)}},E,r().default.createElement("div",{ref:function(t){e.chatListEnd=t}}))),S.slice(0,I).map((function(e,a){var o=v[e];return o?r().default.createElement(g.DockedChatWrapper,{key:"chat-"+e,chatObj:o,chatUrl:e,user:n.user,closeChat:function(){return t.onCloseChatClick(e)},toggleChatMinimize:function(){return t.toggleChatMinimize(e)},isMinimized:!!o.isMinimized,showTout:t.showTout,showReactions:f,showThreads:n.showThreads,allowImageUpload:p,allowPins:n.allowPins,markAsRead:n.markAsRead,rightPosition:P+a*(_.default.CHAT_WIDTH_PIXELS+_.default.CHAT_SPACING_BETWEEN),rapidInstance:n.rapidInstance,hideTimestamps:n.hideTimestamps,allowPolls:i}):null})),S.length&&S.length>I?r().default.createElement("div",{className:"D(ib) Va(b) B(0px) End(10px) Ta(end) Z(2147483640) Pos(f) Whs(nw)",style:{right:P+I*(_.default.CHAT_WIDTH_PIXELS+_.default.CHAT_SPACING_BETWEEN)+"px"}},S.length>I?r().default.createElement("div",{className:"MoreChats D(ib) Bgc(normal-grey) Bgc(#cfcfd1):h Va(b) P(5px) Bdrststart(6px) Bdrstend(6px)"},r().default.createElement(o().I13nDiv,{i13nModel:{slk:"chat_more_chats"},bindClickEvent:!0,onClick:this.showHiddenChatPanel,className:"O(n):f Cur(p)"},r().default.createElement(s().Icon,{role:"button",className:"Cur(p)!",color:"normal-black333",asset:l().default,height:"25",width:"25"}))):null,r().default.createElement("div",{className:"Pos(a) Bgc(normal-grey) B(20px) End(50px)"},r().default.createElement(m.default,{chatList:v,closeChatHandler:this.onCloseChatClick,openChatHandler:this.onChatListItemClick,hiddenChats:S.slice(I),showHiddenChatPanel:T}))):null)}}],i&&w(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(r().default.Component);t.default=(0,i().connect)((function(e){var t=e.groupChannel,n=t||[];return{channels:(t||{}).channels,activeChats:n.activeChats,channelsOrder:n.channelsOrder}}),{createChatHandler:d.createChatHandler,getGroupChannelList:d.getGroupChannelList,openChat:d.openChat,closeChat:d.closeChat,toggleChatMinimize:d.toggleChatMinimize,initLocalStorageChats:d.initLocalStorageChats,markAsRead:d.markAsRead})(I)},96352:(e,t,n)=>{"use strict";function r(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=f(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));return r=function(){return e},e}function a(){var e=u(n(46942));return a=function(){return e},e}function i(){var e=n(70356);return i=function(){return e},e}function o(){var e=n(8604);return o=function(){return e},e}function s(){var e=n(67467);return s=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GifPicker=void 0;var c=n(87761),l=u(n(38011));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}var w=t.GifPicker=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(n=function(e,t,n){return t=_(t),function(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,n||[],_(e).constructor):t.apply(e,n))}(this,t,[e]),"searchTimeout",void 0),v(n,"sendGifMessage",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=n.props,a=r.chatUrl,i=r.chatObj,o=r.mobileDeepLink,s=r.rapidInstance,c=r.sendFileMessage,l=r.parentMessageId,u=r.isReplyToChannel;e&&(s&&s.beaconClick("fantasy-chat","chat_send_message_gif"),c(a,e,i,"gif",{imageSize:t,source:"tenor",deepLink:o},{parentMessageId:l,isReplyToChannel:u}),n.props.hideOverlay())})),n.state={gifQuery:void 0},n.updateGifQuery=n.updateGifQuery.bind(n),n.fetchGifs=n.fetchGifs.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),n=t,o=[{key:"componentDidMount",value:function(){this.fetchGifs()}},{key:"updateGifQuery",value:function(e){var t=this;e&&e.target&&this.setState({gifQuery:e.target.value},(function(){t.searchTimeout&&clearTimeout(t.searchTimeout),t.searchTimeout=setTimeout((function(){return t.fetchGifs()}),500)}))}},{key:"fetchGifs",value:function(){var e=this.props,t=e.env,n=void 0===t?{}:t,r=e.login,a=void 0===r?{}:r;this.props.getGifList(n.env,this.state.gifQuery,a.wssid)}},{key:"render",value:function(){var e=this,t=this.props,n=this.state,o=t.isEmbed,s=t.intl||{},c=(t.gif||{}).gifItems||[],u={},d=n.gifQuery,f=t.embeddedType,p={},m=0;return c.forEach((function(t){var n=[t.width,t.height];t.id in p||(p[t.id]=0);var a="".concat(t.id,"-").concat(p[t.id]++),o=r().default.createElement(i().I13nDiv,{onClick:function(){return e.sendGifMessage(t.downloadLink,n)},key:a,className:"Ov(h) Mt(4px) Cur(p)","data-testid":"gif-".concat(a)},r().default.createElement("img",{alt:"Gif",className:"Bdrs(4px)",width:"100%",src:t.thumbnailSquare}));u[m]?u[m].push(o):u[m]=[o],m=(m+1)%2})),r().default.createElement("div",{id:"GifPicker",className:(0,a().default)("Pos(r) D(f) Fxd(c) Bxsh(gif-picker-box-shadow) Bdrs(6px) Bgc(white) Z(2147483647) ChatDarkTheme_Bgc($c-fuji-grey-l)",{"H(80%) W(80%)":o&&"draft"!==f,"H(100%) W(100%)":o&&"draft"===f,"H(85%) W(95%)":!o}),"data-testid":"GifPicker",ref:function(t){e.gifListScrollList=t}},r().default.createElement(l.default,{header:s.formatMessage({id:"ADD_GIF"}),hideOverlay:this.props.hideOverlay,embeddedType:f}),r().default.createElement("div",{className:"Fxs(0) Pt(10px) EmbeddedDraft_Py(8px) Ta(c)"},r().default.createElement("input",{placeholder:s.formatMessage({id:"GIF_SEARCH"}),className:"H(48px) EmbeddedDraft_H(32px) C(black) Bgc(#f5f8fa) P(3px) Mx(a) W(80%) Bdrs(3px) Bd(n) ChatDarkTheme_Bgc(black) ChatDarkTheme_C(white)",onChange:this.updateGifQuery,type:"text",value:d,id:"gifQuery"})),r().default.createElement("div",{className:"D(f) W(100%) Ov(h)"},r().default.createElement("div",{className:"D(f) Jc(c) Ovy(a) W(100%) Py(20px) EmbeddedDraft_Py(0px) Pstart(8px)"},function(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array(2)).map((function(e,t){return r().default.createElement("div",{className:"Fxg(1) Mend(8px)",key:t},(u[t]||[]).map((function(e){return e})))})),r().default.createElement("div",{ref:function(t){e.gifListEnd=t}}))))}}],o&&p(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(r().Component);t.default=(0,o().injectIntl)((0,s().connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}),{getGifList:c.getGifList})(w))},45118:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(8604);return i=function(){return e},e}function o(){var e=n(67467);return o=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InlineChatWrapper=void 0;var s,c=n(2778),l=(s=n(1974))&&s.__esModule?s:{default:s};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(null,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function h(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}var y=t.InlineChatWrapper=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=m(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(t,e),function(e,t){return t&&f(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.embeddedChannel,n=e.user,r=e.intl,a=n.userId;this.props.getChannelByUrl(t,r),this.props.createChatHandler(a)}},{key:"render",value:function(){var e=this.props,t=e.embeddedChat,n=e.embeddedChannel;return n&&t?a().default.createElement(l.default,d({chatObj:t,chatUrl:n,isEmbed:!0},this.props)):null}}])}(a().Component);t.default=(0,i().injectIntl)((0,o().connect)((function(e,t){return{embeddedChat:(e.groupChannel||{}).channels[t.embeddedChannel]}}),{createChatHandler:c.createChatHandler,getChannelByUrl:c.getChannelByUrl,markAsRead:c.markAsRead})(y))},99500:(e,t,n)=>{"use strict";function r(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=S(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));return r=function(){return e},e}function a(){var e=n(70356);return a=function(){return e},e}function i(){var e=n(72218);return i=function(){return e},e}function o(){var e=n(8604);return o=function(){return e},e}function s(){var e=k(n(58419));return s=function(){return e},e}function c(){var e=k(n(20112));return c=function(){return e},e}function l(){var e=k(n(18305));return l=function(){return e},e}function u(){var e=n(67467);return u=function(){return e},e}function d(){var e=k(n(46942));return d=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MessageInputContainer=void 0;var f=k(n(81494)),h=k(n(47580)),p=n(54654),m=n(2778),_=n(62662),y=k(n(68697)),g=n(62624),v=n(16310);function b(){var e=k(n(91763));return b=function(){return e},e}var w=k(n(66102));function k(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function O(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){var t=function(e){if("object"!=S(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:t+""}var N=t.MessageInputContainer=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),O(n=function(e,t,n){return t=I(t),function(e,t){if(t&&("object"==S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,T()?Reflect.construct(t,n||[],I(e).constructor):t.apply(e,n))}(this,t,[e]),"setMovingWithArrowKeysToFalse",(function(){n.setState({movingWithArrowKeys:!1})})),O(n,"changeHandler",(function(e){if(e&&e.persist&&e.persist(),n.state.hasMadeMentionChange)n.changeHandlerAfterMentionChange(e);else{var t=e.target.value;n.setState({selectionStart:e.target.selectionStart,selectionEnd:e.target.selectionEnd,markupTextMessage:t,plainTextmessage:t,currentNickname:n.state.showMentionList?t.substring(n.state.mentionSelectionStart,e.target.selectionStart):""},(function(){e&&e.target&&e.target.value&&"@"===e.target.value[this.state.selectionStart-1]&&this.showMentionList(),this.resizeInputs(),this.filterMembers()})),n.props.setTyping(n.props.chatObj)}var r=n.props,a=r.rapidInstance;r.isThread&&!n.state.rapidReplyIntentSent&&(a&&a.beaconClick("league-chat","reply intent",null,{elm:"cmmt_reply",itc:"1"}),n.setState({rapidReplyIntentSent:!0}))})),O(n,"changeHandlerAfterMentionChange",(function(e){e&&e.persist&&e.persist();var t=n.state.markupTextMessage,r=e.target.value,a=(0,g.applyChangeToMarkupText)(t,r,n.state.selectionStart,n.state.selectionEnd,e.target.selectionEnd);r=(0,g.getPlainTextFromMarkupText)(a);var i=(0,g.findStartOfMentionInPlainText)(t,e.target.selectionStart),o=e.target.selectionStart,s=e.target.selectionEnd,c=!1;void 0!==i&&n.state.selectionEnd>i&&(s=o=i+(e.nativeEvent.data?e.nativeEvent.data.length:0),c=!0),n.setState({selectionStart:o,selectionEnd:s,setSelectionAfterMentionChange:c,currentNickname:n.state.showMentionList?r.substring(n.state.mentionSelectionStart,o):"",markupTextMessage:a,plainTextmessage:r},(function(){e&&e.target&&e.target.value&&"@"===e.target.value[this.state.selectionStart-1]&&this.showMentionList(),this.resizeInputs(),this.filterMembers()})),n.props.setTyping(n.props.chatObj)})),O(n,"canSendTextMessage",(function(){return n.state.plainTextmessage.trim()&&!n.state.showMentionList})),O(n,"sendMessage",(function(){var e=n.props,t=e.channelUrl,r=e.chatObj,a=e.rapidInstance,i=e.sendTextMessage,o=e.setDoneTyping,s=e.parentMessageId,c=e.isThread,l=n.state,u=l.plainTextmessage,d=l.focusedImageMedia,f=l.markupTextMessage;if(d)n.fileUploadHandler();else{var h=u.trim(),p=n.canSendTextMessage();c&&a&&a.beaconClick("league-chat","reply submit",null,{elm:"cmmt_reply",itc:"1"}),n.setState({markupTextMessage:"",plainTextmessage:"",rapidReplyIntentSent:!1},(function(){if(n.resizeInputs(),p){var e={deepLink:n.props.mobileDeepLink};a&&a.beaconClick("fantasy-chat","chat_send_message"),i(t,h,r,e,s,n.state.threadReplyToChannel,(0,g.getMentionUserIdsFromText)(f)),o(r)}}))}})),O(n,"keyPressHandler",(function(e){e&&e.persist&&e.persist(),n.setState({selectionStart:e.target.selectionStart||0,selectionEnd:e.target.selectionEnd||0},(function(){!e||"Enter"!==e.code&&13!==e.keyCode||e.shiftKey||n.state.showMentionList||n.state.isDrawerShowing&&!n.state.focusedImageMedia?n.state.showMentionList&&n.onMentionListKeyDown(e):(e.preventDefault(),n.sendMessage(e))}))})),O(n,"setSelection",(function(e,t){n.mainInputRef.current.setSelectionRange&&n.mainInputRef.current.setSelectionRange(e,t),n.fileInputRef&&n.fileInputRef.current&&n.fileInputRef.current.setSelectionRange&&n.fileInputRef.current.setSelectionRange(e,t)})),O(n,"clickMessageInput",(function(e){n.setState({selectionStart:e.target.selectionStart||0,selectionEnd:e.target.selectionEnd||0}),n.hideMentionList()})),O(n,"filterMembers",(function(){var e=n.props.chatObj.members||[],t=n.props.user,r=(0,v.getRealUsersFromMembers)(e).filter((function(e){return e.userId!==t.userId}));n.state.currentNickname&&(r=r.filter((function(e){return e.nickname.toLowerCase().includes(n.state.currentNickname.toLowerCase())}))),n.setState({filteredMembers:r}),n.setState({selectedMentionMember:r[0]})})),O(n,"onMentionListKeyDown",(function(e){var t=n.state.filteredMembers;if(n.state.showMentionList&&e&&e.keyCode){var r=e.keyCode,a=0;switch(n.state.selectedMentionMember&&(a=t.findIndex((function(e){return e.userId===n.state.selectedMentionMember.userId}))),r){case 40:e.preventDefault(),n.setState({movingWithArrowKeys:!0,selectedMentionMember:a+1>=t.length?t[0]:t[a+1]},(function(){var e=document.getElementById("mention-member-".concat(n.state.selectedMentionMember.userId,"-button"));e&&e.scrollIntoView({behavior:"smooth",block:"nearest"})}));break;case 38:e.preventDefault(),n.setState({movingWithArrowKeys:!0,selectedMentionMember:a-1<0?t[t.length-1]:t[a-1]},(function(){var e=document.getElementById("mention-member-".concat(n.state.selectedMentionMember.userId,"-button"));e&&e.scrollIntoView({behavior:"smooth",block:"nearest"})}));break;case 27:n.state.showMentionList&&!n.state.focusedImageMedia&&n.hideMentionList();break;case 8:e&&e.target&&e.target.value&&"@"===e.target.value[e.target.selectionStart-1]&&n.hideMentionList();break;case 37:n.setState({currentNickname:n.state.plainTextmessage.substring(n.state.mentionSelectionStart,n.state.selectionStart-1)},(function(){return n.filterMembers()}));break;case 39:n.setState({currentNickname:n.state.plainTextmessage.substring(n.state.mentionSelectionStart,n.state.selectionStart+1)},(function(){return n.filterMembers()}));break;case 13:e.preventDefault(),t[a]?n.mentionMember(t[a]):n.hideMentionList()}}})),O(n,"onHoverMentionMember",(function(e){n.setState({selectedMentionMember:e})})),O(n,"resizeInputs",(function(){n.state.focusedImageMedia&&n.fileInputRef&&n.fileInputRef.current&&(0,_.autoExpandTextArea)(n.fileInputRef.current),n.mainInputRef&&n.mainInputRef.current&&(0,_.autoExpandTextArea)(n.mainInputRef.current)})),O(n,"mentionMember",(function(e){var t=n.state,r=t.markupTextMessage,a=t.selectionStart,i=t.selectionEnd,o=t.mentionSelectionStart,s=(0,g.insertMentionIntoText)(e,r,o,i),c=a+e.nickname.length+1,l={markupTextMessage:s,plainTextmessage:(0,g.getPlainTextFromMarkupText)(s),selectionStart:c,selectionEnd:c,showMentionList:!1,hasMadeMentionChange:!0};n.setState(l,(function(){n.state.focusedImageMedia?n.fileInputRef.current.focus():n.mainInputRef.current.focus(),n.resizeInputs(),n.mainInputRef.current.selectionEnd=c,n.fileInputRef.current&&(n.fileInputRef.current.selectionEnd=c)}))})),O(n,"showMentionList",(function(){n.setState({showMentionList:!0,selectedMentionMember:n.getFirstNonLoggedInMember(),hasMadeMentionChange:!0,mentionSelectionStart:n.state.selectionStart})})),O(n,"hideMentionList",(function(){n.setState({showMentionList:!1,selectedMentionMember:null,mentionSelectionStart:null})})),O(n,"getFirstNonLoggedInMember",(function(){for(var e=n.props.user.userId,t=n.state.filteredMembers,r=void 0===t?[]:t,a=0;a<r.length;++a){var i=r[a];if(i.userId!==e)return i}return null})),O(n,"clickMentionButton",(function(){n.state.showMentionList?n.hideMentionList():(n.showMentionList(),n.changeHandler({target:{value:"".concat(n.state.plainTextmessage.slice(0,n.state.selectionStart),"@").concat(n.state.plainTextmessage.slice(n.state.selectionStart,n.state.plainTextmessage.length)),selectionStart:n.state.selectionStart+1,selectionEnd:n.state.selectionEnd+1}})),n.state.focusedImageMedia?n.fileInputRef.current.focus():n.mainInputRef.current.focus()})),O(n,"toggleGifPicker",(function(e){e.stopPropagation();var t=n.props;(0,t.changeOverlay)("GIF_PICKER",{parentMessageId:t.parentMessageId,isReplyToChannel:n.state.threadReplyToChannel})})),O(n,"showFocusedImageMedia",(function(e){if(e&&e.url){n.setState({focusedImageMedia:e,showMentionList:!1}),document.addEventListener("keydown",n.hideFocusedImageMedia,!1);var t=n.props.onMediaFocus;t&&t(!0)}})),O(n,"previewImageUpload",(function(e){var t=n.props.rapidInstance;t&&t.beaconClick("fantasy-chat","chat_send_message_image_click");var r=e.target.files[0];if(r)if(new Set(["image/gif","image/jpg","image/jpeg","image/png","image/tiff","image/tif"]).has(r.type)){var a={file:r,preview:!0,url:URL.createObjectURL(r)};n.showFocusedImageMedia(a)}else{var i=n.props.intl,o=void 0===i?{}:i;n.props.showError("INVALID_FILE_TYPE",o)}})),O(n,"hideFocusedImageMedia",(function(e){if("Escape"===e.key||"click"===e.type)if(n.state.showMentionList)n.hideMentionList();else{n.setState({focusedImageMedia:null}),document.removeEventListener("keydown",n.hideFocusedImageMedia,!1);var t=n.props.onMediaFocus;t&&t(!1)}})),O(n,"fileUploadHandler",(function(){var e=n.props,t=e.channelUrl,r=e.chatObj,a=e.intl,i=e.mobileDeepLink,o=e.rapidInstance,s=e.uploadAndSendImage,c=e.setDoneTyping,l=e.parentMessageId,u=n.state,d=u.focusedImageMedia,f=u.plainTextmessage,h=u.markupTextMessage;if(d&&d.file&&n.mediaElement){var p=f?f.trim():"",m=[n.mediaElement.naturalWidth,n.mediaElement.naturalHeight];o&&o.beaconClick("fantasy-chat","chat_send_message_image"),s(t,r,d.file,{message:p,imageSize:m,deepLink:i},{parentMessageId:l,isReplyToChannel:n.state.threadReplyToChannel,mentionedUserIds:(0,g.getMentionUserIdsFromText)(h)},a),n.setState({plainTextmessage:"",markupTextMessage:""}),c(r)}})),O(n,"toggleThreadSendToChannel",(function(){n.setState({threadReplyToChannel:!n.state.threadReplyToChannel})})),O(n,"showDrawer",(function(){n.setState({isDrawerShowing:!0})})),O(n,"hideDrawer",(function(){n.setState({isDrawerShowing:!1})})),n.state={markupTextMessage:"",focusedImageMedia:null,showMentionList:!1,selectedMentionMember:null,selectionStart:0,selectionEnd:0,mentionSelectionStart:0,plainTextmessage:"",currentNickname:"",filteredMembers:[],movingWithArrowKeys:!1,hasMadeMentionChange:!1,isDrawerShowing:!1,rapidReplyIntentSent:!1},n.mainInputRef=r().default.createRef(),n.fileInputRef=r().default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(t,e),n=t,(u=[{key:"componentDidMount",value:function(){document.body.addEventListener("mousemove",this.setMovingWithArrowKeysToFalse),this.filterMembers()}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("mousemove",this.setMovingWithArrowKeysToFalse)}},{key:"componentDidUpdate",value:function(e){e.processingUpload&&!this.props.processingUpload&&this.hideFocusedImageMedia({type:"click"}),this.state.setSelectionAfterMentionChange&&(this.setState({setSelectionAfterMentionChange:!1}),this.setSelection(this.state.selectionStart,this.state.selectionEnd))}},{key:"render",value:function(){var e=this,t=this.props,n=t.allowImageUpload,u=t.channelUrl,p=t.user,m=t.chatObj,_=t.showReactions,g=t.isThread,k=t.intl,E=t.hideOverlay,S=t.allowPolls,C=t.embeddedType,T=this.state,I=T.focusedImageMedia,M=T.threadReplyToChannel,O=void 0!==M&&M,A=T.showMentionList,N=T.selectedMentionMember,P=T.movingWithArrowKeys,x="direct_message"===m.customType,D=m&&m.metaData?m.metaData:{};return r().default.createElement("div",{className:"W(100%) Bdts(s) Bdtw(1px) Bdc(grey-9) Bdtw(1px) Bgc(white) ChatDarkTheme_Bgc($c-fuji-grey-l) ChatDarkTheme_C(white)"},g?r().default.createElement("div",{className:"D(f) Ai(c) Fz(14px) EmbeddedDraft_Fz(12px) Fw(400) Px(16px) Pt(8px)"},r().default.createElement("div",{className:"D(f) Ai(c)"},r().default.createElement(a().I13nButton,{i13nModel:{slk:"thread-send-channel"},onClick:this.toggleThreadSendToChannel,className:"D(ib) Cur(p) Bgc(t) Bd(n) Pstart(5px)","data-testid":"reply-to-channel-checkbox"},r().default.createElement(i().Icon,{asset:O?l().default:c().default,color:O?"#0063eb":"black"}))),x?r().default.createElement(o().FormattedMessage,{id:"ALSO_SEND_AS_DIRECT_MESSAGE"}):"draft"===C?r().default.createElement(o().FormattedMessage,{id:"THREAD_SEND_TO_CHANNEL"}):r().default.createElement(o().FormattedMessage,{id:"THREAD_SEND_TO_CHANNEL_NAME",values:{leagueName:r().default.createElement("span",{className:"Fw(700)"},m.name)||r().default.createElement(o().FormattedMessage,{id:"CHANNEL"})}})):null,r().default.createElement("div",{className:(0,d().default)("D(f) Pstart(10px)! Ai(c) Jc(sb)",{"P(16px)":"draft"!==C})},r().default.createElement(a().I13nButton,{bindClickEvent:!0,className:(0,d().default)("O(n):f Cur(p) Bg(n) Bd(n) Bdrs(8px) Bgc(grey-default):h ChatDarkTheme_Bgc(normal-black):h P(6px)",{"Bgc(grey-default) ChatDarkTheme_Bgc(normal-black)!":this.state.isDrawerShowing}),onClick:this.state.isDrawerShowing?this.hideDrawer:this.showDrawer,"data-testid":"message-input-drawer-button"},r().default.createElement(i().Icon,{role:"button",color:(0,v.isDarkTheme)()?"white":"black",asset:b().default,height:"24",width:"24"})),this.state.isDrawerShowing&&r().default.createElement(w.default,{channelUrl:u,isEmbed:this.props.isEmbed,embeddedType:C,previewImageUpload:this.previewImageUpload,keyPressHandler:this.keyPressHandler,clickMentionButton:this.clickMentionButton,isDirectMessage:x,toggleGifPicker:this.toggleGifPicker,hideDrawer:this.hideDrawer,allowImageUpload:n,hideOverlay:E,chatObj:m,intl:k,allowPolls:S,rapidInstance:this.props.rapidInstance,changeView:this.props.changeView,filter:this.props.filter}),r().default.createElement("div",{className:"ysf-message-input Pos(r) W(70%) Va(m) Ai(fe) D(f) Pstart(5px) Flxg(1)"},r().default.createElement(f.default,{ref:function(t){e.messageInput=t},inputRef:this.mainInputRef,name:u,textMessage:this.state.plainTextmessage,keyPressHandler:this.keyPressHandler,onChangeHandler:this.changeHandler,clickHandler:this.clickMessageInput})),r().default.createElement(a().I13nButton,{bindClickEvent:!0,className:"O(n):f Cur(p) Bg(n) Bd(n) Cur(p)",onClick:this.sendMessage,"data-testid":"send-message-button"},r().default.createElement(i().Icon,{role:"button",color:this.canSendTextMessage()?"#0063EB":"#b0b9c1",asset:s().default,height:"24",width:"24"}))),r().default.createElement(r().default.Fragment,null,!I&&A?r().default.createElement(y.default,{isEmbed:this.props.isEmbed,members:this.state.filteredMembers,mentionMember:this.mentionMember,onCloseModal:this.hideMentionList,selectedMember:N,setSelectedMember:this.onHoverMentionMember,movingWithArrowKeys:P,fantasyMetaData:D}):null,I?r().default.createElement(h.default,{fileInputRef:this.fileInputRef,imageRef:function(t){return e.mediaElement=t},fileUploadHandler:this.fileUploadHandler,hideFocusedImageMedia:this.hideFocusedImageMedia,onChangeHandler:this.changeHandler,keyPressHandler:this.keyPressHandler,intl:k,message:I,userId:p.userId,fantasyMetadata:m.metadata,reportMessage:this.reportMessage,deleteMessage:this.deleteMessage,startChat:this.props.startNewChat,blockChatUser:this.blockChatUser,unBlockChatUser:this.unBlockChatUser,showFocusedImageMedia:this.showFocusedImageMedia,selectMessage:this.selectMessage,showReactions:_,showEmojiPicker:this.showReactionPicker,removeReaction:this.removeReactionFromMessage,addReaction:this.addReactionToMessage,memberMap:m.memberMap,chatName:m.display_name,processing:this.props.processingUpload,textMessage:this.state.plainTextmessage,clickMessageInput:this.clickMessageInput,isEmbed:this.props.isEmbed,members:this.state.filteredMembers,mentionMember:this.mentionMember,onCloseModal:this.hideMentionList,setSelectedMember:this.onHoverMentionMember,showMentionList:A,selectedMentionMember:N,movingWithArrowKeys:P}):null))}}])&&C(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}(r().Component);t.default=(0,o().injectIntl)((0,u().connect)((function(e){var t=e.chat,n=e.env,r=e.login,a=n.env,i=(r.user||{}).crumb,o=t.toutError;return{env:a,crumb:i,toutMsg:t.toutMsg,toutError:o,reloadChat:t.reloadChat,processingUpload:t.processingUpload}}),{setPrevMessages:p.setPrevMessages,getPrevMessageList:p.getPrevMessageList,sendTextMessage:p.sendTextMessage,sendFileMessage:p.sendFileMessage,uploadAndSendImage:p.uploadAndSendImage,startNewChat:m.startNewChat,reportMessage:p.reportMessage,deleteMessage:p.deleteMessage,blockUser:p.blockUser,unBlockUser:p.unBlockUser,setTyping:m.setTyping,setDoneTyping:m.setDoneTyping,addReaction:p.addReaction,removeReaction:p.removeReaction,showError:p.showError})(N))},66102:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=_(n(46942));return i=function(){return e},e}function o(){var e=n(70356);return o=function(){return e},e}function s(){var e=n(72218);return s=function(){return e},e}function c(){var e=_(n(16611));return c=function(){return e},e}function l(){var e=_(n(65280));return l=function(){return e},e}function u(){var e=_(n(17119));return u=function(){return e},e}function d(){var e=_(n(36322));return d=function(){return e},e}function f(){var e=n(8604);return f=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h=n(16310),p=["children","onClick"],m=["onClick","asset","formattedMessageId","iconSize"];function _(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function g(e,t,n){return(t=function(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(null,arguments)}function b(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var w=function(e){var t=e.children,n=e.onClick,r=b(e,p);return a().default.createElement(o().I13nButton,v({className:"W(100%) D(f) Ai(c) Jc(sb) Bg(n) Bd(n) Px(24px) EmbeddedDraft_Px(12px) Py(18px) EmbeddedDraft_Py(9px) Cur(p) Bgc(grey-default):h ChatDarkTheme_Bgc(grey-11):h",onClick:n,"data-mention":"true"},r),t)},k=function(e){var t=e.onClick,n=e.asset,r=e.formattedMessageId,i=e.iconSize,o=b(e,m);return a().default.createElement(w,v({onClick:t},o),a().default.createElement(s().Icon,{role:"button",color:(0,h.isDarkTheme)()?"white":"black",asset:n,height:i,width:i}),a().default.createElement("div",{className:"Flxg(1) Pstart(12px) Ta(start) D(f) Ai(c) ChatDarkTheme_C(white) Fz(14px) EmbeddedDraft_Fz(12px)"},a().default.createElement(f().FormattedMessage,{id:r})))};t.default=function(e){var t=e.isEmbed,n=e.embeddedType,r=e.channelUrl,f=e.previewImageUpload,p=e.isDirectMessage,m=e.clickMentionButton,_=e.toggleGifPicker,y=e.hideDrawer,v=e.allowImageUpload,b=e.changeView,w=e.chatObj,E=e.intl,S=e.allowPolls,C=e.rapidInstance,T=e.filter,I=(0,a().useRef)(null);(0,a().useEffect)((function(){var e=function(e){"Escape"!==e.code&&27!==e.keyCode||y()},t=function(e){setTimeout((function(){var t=document.querySelectorAll('[data-fileupload="true"]'),n=!0;t.forEach((function(t){t.contains(e.target)&&(n=!1)})),n&&y()}))};return document.body.addEventListener("keydown",e),document.body.addEventListener("click",t),function(){document.body.removeEventListener("keydown",e),document.body.removeEventListener("click",t)}}),[y]);var M="draft"===n?"20":"24";return a().default.createElement("div",{id:"message-input-drawer-modal","data-testid":"message-input-drawer-modal","data-mention":"true",className:(0,i().default)("Bxsh(gif-picker-box-shadow) EmbeddedDraft_Fz(13px) Bdrs(8px) Bgc(white) Pos(a) Z(2147483647) ChatDarkTheme_Bgc(normal-black) ChatDarkTheme_C(white) D(f) Fld(c) Start(1px) W(186px) EmbeddedDraft_W(140px) EmbeddedDraft_H(fc)",{"Ovy(a) B(37px)":"draft"===n,"Ovy(h) B(70px)!":"draft"!==n}),ref:I},v&&a().default.createElement(o().I13nButton,{className:"W(100%) D(f) Ai(c) Jc(sb) Bg(n) Bd(n) P(0)"},a().default.createElement("input",{id:"file-input-".concat(r),"data-testid":"file-input",type:"file",onChange:f,className:"Start(0) Op(0) Z(10) W(100%) H(30px) D(n)",title:"file-input",onClick:function(e){return e.target.value=null},"data-fileupload":"true"}),a().default.createElement("label",{htmlFor:"file-input-".concat(r),className:"W(100%) Fz(14px) EmbeddedDraft_Fz(12px) Px(24px) EmbeddedDraft_Px(12px) Py(18px) EmbeddedDraft_Py(9px) D(f) Cur(p) Bgc(grey-default):h ChatDarkTheme_Bgc(grey-11):h","data-fileupload":"true"},a().default.createElement(s().Icon,{className:"attach-image:h_Fill(#606770)! attach-image:h_Cur(p)! Z(0)",color:(0,h.isDarkTheme)()?"white":"black",asset:c().default,height:M,width:M}),a().default.createElement("div",{className:"Flxg(1) Pstart(12px) Ta(start) D(f) Ai(c) ChatDarkTheme_C(white)"},"Add a Photo"))),a().default.createElement(k,{onClick:_,asset:l().default,formattedMessageId:"ADD_A_GIF","data-testid":"gif-picker",iconSize:M}),!p&&a().default.createElement(k,{onClick:m,asset:u().default,formattedMessageId:"ADD_A_MENTION","data-mention":"true","data-testid":"mention-button",iconSize:M}),S&&!p&&a().default.createElement(k,{onClick:function(){return function(e,t,n,r,a,i){e("CREATE_POLL",g(g(g({chatObj:t,intl:n,isEmbed:r,rapidInstance:a},"intl",n),"closeChatCallback",(function(){a&&a.beaconClick("league-chat-poll","poll close",null,{sec:"league-chat-poll",elm:"cmmt_pollset",product:"create poll",itc:"1",subsec:i})})),"backCallback",(function(){a&&a.beaconClick("league-chat-poll","poll back",null,{sec:"league-chat-poll",elm:"cmmt_pollset",product:"create poll",itc:"1",subsec:i})})))}(b,w,E,t,C,T)},asset:d().default,formattedMessageId:"CREATE_A_POLL","data-testid":"create-poll-button",i13nModel:{slk:"create poll intent",sec:"league-chat",elm:"cmmt_poll",product:"create poll",itc:"1",milestone:"step 1 poll intent",subsec:T},iconSize:M}))},e.exports=t.default},16591:(e,t,n)=>{"use strict";function r(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));return r=function(){return e},e}function a(){var e=n(8604);return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MessageSearch=void 0;var i,o=n(1084),s=(i=n(71252))&&i.__esModule?i:{default:i};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(null,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function m(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}var y=t.MessageSearch=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(n=function(e,t,n){return t=h(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,n||[],h(e).constructor):t.apply(e,n))}(this,t,[e]),"searchTimeout",void 0),m(n,"updateSearchQuery",(function(e){e&&e.target&&n.setState({searchQuery:e.target.value},(function(){n.searchTimeout&&clearTimeout(n.searchTimeout),n.searchTimeout=setTimeout((function(){return n.searchMessages()}),500)}))})),m(n,"searchMessages",(function(){var e=n.props.chatObj,t=n.state.searchQuery;(0,o.sbMessageSearchQuery)(e,t).then((function(e){return n.setState({messageResults:e})})).catch((function(e){}))})),n.state={searchQuery:void 0},n.updateSearchQuery=n.updateSearchQuery.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,e),function(e,t){return t&&d(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this,t=(this.props||{}).intl,n=this.state||{},a=n.searchQuery,i=n.messageResults;return r().default.createElement("div",null,r().default.createElement("div",{className:"Pt(30px) Ta(c)"},r().default.createElement("input",{placeholder:t.formatMessage({id:"MESSAGE_SEARCH"}),className:"C(black) P(3px) Mx(a) W(95%) Bdrs(3px) Bdc(border-color) Bdw(1px) Bds(s)",onChange:this.updateSearchQuery,type:"text",value:a,"data-testid":"searchQuery"})),r().default.createElement("div",null,i?r().default.createElement(r().default.Fragment,null,i.map((function(t){return r().default.createElement(s.default,u({},e.props,{message:t,key:t.id}))}))):null))}}])}(r().Component);t.default=(0,a().injectIntl)(y)},51723:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(67467);return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MessageThread=void 0;var o=n(70197),s=l(n(24));function c(){var e=l(n(72554));return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(null,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function h(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}var y=t.MessageThread=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=m(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}(this,t,[e])).state={replies:[],loading:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(t,e),n=t,(i=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.parentMessage,r=t.saveLoadedMessages,a=t.chatUrl,i=(0,c().default)(n,["threadInfo","replyCount"]);this.setState({loading:!0},(function(){n.getThreadedMessagesByTimestamp(0,{nextResultSize:i||20,isInclusive:!0,reverse:!0,includeParentMessageInfo:!0,includeMetaArray:!0}).then((function(t){var n=t.threadedMessages||[];r(n,a),e.setState({replies:n.map((function(e){return e.messageId})),loading:!1})})).catch((function(t){return e.setState({loading:!1})}))}))}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=this.state,a=r.loading,i=r.replies,o=n.parentMessage,s=n.saveLoadedMessages,l=n.chatUrl,u=(0,c().default)(o,["threadInfo","replyCount"]);!a&&u&&u!==i.length&&this.setState({loading:!0},(function(){o.getThreadedMessagesByTimestamp(0,{nextResultSize:u,isInclusive:!1,reverse:!0,includeParentMessageInfo:!0,includeMetaArray:!0}).then((function(e){var n=e.threadedMessages||[];s(n,l),t.setState({replies:n.map((function(e){return e.messageId})),loading:!1})})).catch((function(e){return t.setState({loading:!1})}))}))}},{key:"render",value:function(){var e=this.props,t=e.parentMessage,n=e.updated,r=e.messagesById,i=e.replyCount,c=this.state.replies,l=void 0===c?[]:c,u=l.length&&(0,o.sbAdjustMessageList)(l.map((function(e){return r[e]})))||[];return a().default.createElement("div",{className:"D(f) Fxd(c) H(100%) W(100%)"},a().default.createElement("div",{className:"Ovy(a) Fxg(1)"},a().default.createElement(s.default,d({key:"".concat(t.messageId,"-").concat(n,"-").concat(i),isThread:!0,replies:u},this.props,{parentMessage:t}))))}}])&&f(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(a().Component);t.default=(0,i().connect)((function(e,t){var n=e.chat,r=t.parentMessageId,a=t.chatUrl,i=n.channelMessagesById[a]||{},o=i[r]||{};return{parentMessage:o,replyCount:(0,c().default)(o,["threadInfo","replyCount"]),updated:o.updatedAt,messagesById:i}}),{})(y)},64924:(e,t,n)=>{"use strict";function r(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=p(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));return r=function(){return e},e}function a(){var e=n(67467);return a=function(){return e},e}function i(){var e=f(n(40166));return i=function(){return e},e}function o(){var e=f(n(93207));return o=function(){return e},e}function s(){var e=n(72218);return s=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PinnedMessages=void 0;var c=n(70197),l=f(n(71252));function u(){var e=n(8604);return u=function(){return e},e}function d(){var e=f(n(46942));return d=function(){return e},e}function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(null,arguments)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){var t=function(e){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}var w=t.PinnedMessages=function(e){function t(e){var n,r,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t,n){return t=g(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,y()?Reflect.construct(t,n||[],g(e).constructor):t.apply(e,n))}(this,t,[e]),r=n,o=function(){var e=n.props,t=e.chatObj,r=e.chatUrl,a=e.pinnedMessageIds,o=void 0===a?[]:a,s=e.saveLoadedMessages,c=i().default.instance||{},l=[];o&&o.length&&n.setState({isLoading:!0},(function(){o.forEach((function(e){c.message.getMessage({channelUrl:t.url,channelType:"group",messageId:e,includeMetaArray:!0,includeThreadInfo:!0,includeParentMessageInfo:!0}).then((function(e){l.push(e.messageId),s([e],r),n.setState({pinnedMessages:l})})).finally((function(){return n.setState({isLoading:!1})}))}))}))},(a=b(a="getPinnedMessages"))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,n.state={pinnedMessages:[],isLoading:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){this.getPinnedMessages()}},{key:"componentDidUpdate",value:function(e){var t=e.pinnedMessageIds||[],n=this.props.pinnedMessageIds||[];t.length!==n.length&&this.getPinnedMessages()}},{key:"render",value:function(){var e=this,t=this.props,n=t.chatObj,a=void 0===n?{}:n,i=t.messagesById,o=t.isEmbed,s=this.state,u=s.pinnedMessages,d=void 0===u?[]:u,f=s.isLoading,h=d.length&&(0,c.sbAdjustMessageList)(d.map((function(e){return i[e]})))||[];return r().default.createElement("div",{className:"D(f) Fxd(c) H(100%) W(100%) Ovy(a) Bds(s) Bdstartw(0) Bdendw(0px) Bdbw(1px) Bdtw(1px) Bgc(white) ChatDarkTheme_Bgc($c-fuji-grey-l) ChatDarkTheme_C(white) Bdc(grey-9)"},f?r().default.createElement("div",{className:"D(f) Ai(c) Jc(c) W(100%) H(100%)"},r().default.createElement("img",{alt:"Loading",width:"50px",src:"https://s.yimg.com/dh/ap/sbsq/blue-28@2x.gif"})):h.length?h.map((function(t){return r().default.createElement("div",{key:"".concat(t&&t.messageId,"-").concat(t&&t.updatedAt),className:"W(100%) Py(8px) Fxs(0) Ovy(a) Bds(s) Bdw(0) Bdbw(1px) Bgc(white) ChatDarkTheme_Bgc($c-fuji-grey-l) ChatDarkTheme_C(white) Bdc(grey-9)"},r().default.createElement(l.default,m({},e.props,{message:t,chatObj:a,fantasyMetadata:a.metaData,memberMap:a.memberMap,forceShowSender:!0,showThreads:!0,isPinList:!0})))})):r().default.createElement(k,{isEmbed:o}))}}])&&_(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a}(r().Component),k=function(e){var t=e.isEmbed;return r().default.createElement("div",{className:"W(100%) ChatDarkTheme_Bgc($c-fuji-grey-l) ChatDarkTheme_C(white) H(100%) D(f) Ai(c) Jc(c) Ta(c)","data-tst":"empty-pinned-messages"},r().default.createElement("div",{className:(0,d().default)("D(f) Fxd(c) Jc(c) Ai(c)",{"Maw(300px)":!t})},r().default.createElement("div",{className:"W(72px) H(72px) Bdrs(50%)  D(f) Jc(c) Ai(c) Bgc(grey-9)"},r().default.createElement(s().Icon,{role:"button",className:"Cur(p)!",color:"#5B636A",asset:o().default,height:"28",width:"28"})),r().default.createElement("div",{className:"Fz(16px) EmbeddedDraft_Fz(13px) C($c-batcave) Fw(600) Lh(24px) Tal(c) Pt(24px)"},r().default.createElement(u().FormattedMessage,{id:"THIS_CHAT_DOES_NOT_HAVE_ANY_PINNED_MESSAGES"})),r().default.createElement("div",{className:"Fz(14px) EmbeddedDraft_Fz(12px) C($c-batcave) Lh(20px) Tal(c) Pt(12px)"},r().default.createElement(u().FormattedMessage,{id:"HOVER_OVER_A_MESSAGE_FOR_THE_OPTION_TO_PIN"}))))};t.default=(0,a().connect)((function(e,t){var n=e.chat,r=t.chatUrl,a=t.chatObj,i=void 0===a?{}:a;return{messagesById:n.channelMessagesById[r]||{},pinnedMessageIds:i.pinnedMessageIds||[]}}),{})(w)},98293:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(67467);return i=function(){return e},e}function o(){var e=n(8604);return o=function(){return e},e}function s(){var e=g(n(51945));return s=function(){return e},e}function c(){var e=n(31491);return c=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RecentMessages=void 0;var l=n(2778),u=n(54654),d=n(70197),f=g(n(44144)),h=g(n(9890)),p=n(16310),m=g(n(2539)),_=g(n(16416)),y=g(n(34473));function g(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var w=t.RecentMessages=function(e){var t,n,r=e.embeddedChannel,i=e.getChannelByUrl,l=e.createChatHandler,u=e.chatObj,d=e.setPrevMessages,y=e.showReactions,g=e.messages,v=void 0===g?[]:g,w=e.hideTimestamps,E=e.user,S=e.intl,C=e.error,T=(t=(0,a().useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),I=T[0],M=T[1];if((0,a().useEffect)((function(){if(i(r,S),u){M(!0);var e=Date.now();u.getMessagesByTimestamp(e,{prevResultSize:1,includeMetaArray:y,senderUserIdsFilter:u.realUserIds}).then((function(e){d(e,r,!1)})).finally((function(){return M(!1)}))}}),[r,i,l,u,d,y,S]),I)return a().default.createElement(m.default,null);if(C)return a().default.createElement(o().FormattedMessage,{id:"RECENT_MESSAGES_ERROR"});if(v&&v.length&&v[v.length-1]){var O=v[v.length-1],A=O.sender,N=void 0===A?{}:A,P=u.metaData,x=u.memberMap;return a().default.createElement("div",{className:"Bdc(grey-9) Bdrs(8px) Bds(s) Bdw(1px) Py(8px) Px(16px) Mih(64px) Cur(p)"},a().default.createElement("div",{className:"D(f) Jc(sb) Fz(14px) H(100%)"},a().default.createElement("div",{className:"D(f) H(100%) Ai(c)"},a().default.createElement(h.default,{width:"40px",height:"40px",member:N,metadata:P})),a().default.createElement("div",{className:"D(f) Fxd(c) Pstart(16px) Ovx(h) Lh(20px) Ac(b) Fxg(1)"},a().default.createElement("div",{className:"D(f) Jc(fs) Whs(nw) Cur(d)"},a().default.createElement("span",{title:N.nickname?N.nickname:null,className:"Fw(700) ChatDarkTheme_C(grey-secondary) Ell"},N.nickname?N.nickname:null),!w&&a().default.createElement("span",{className:"Fz(12px) C(grey-11) ChatDarkTheme_C(grey-secondary) Mstart(2px)",title:(0,p.getCreatedAtDateString)(O)}," ",a().default.createElement(o().FormattedRelative,{value:O.createdAt}))),a().default.createElement(k,{message:O,intl:S}),y?a().default.createElement("div",{className:"Maw(100%)"},a().default.createElement(_.default,{className:"Mt(4px)",chatObj:u,message:O,metaArrays:O.metaArrays,user:E,disableInteractions:!0,memberMap:x,intl:S})):null),a().default.createElement("div",{className:"Miw(150px) D(f) Ai(c) Jc(fe) Mstart(16px)"},a().default.createElement("span",{className:"C(blue-1c) Pend(8px) Fz(14px)"},a().default.createElement(o().FormattedMessage,{id:"VIEW_LEAGUE_CHAT"})),a().default.createElement(c().Icon,{role:"button",className:"Cur(p)!",color:"#0063EB",asset:s().default,height:"20",width:"20"}))))}return a().default.createElement(f.default,{chat:u})},k=function(e){var t=e.message,n=e.intl,r=t.message;return"file"===t.messageType?r="gif"===t.customType?"[ GIF ]":"[ Image ]":t._poll&&(r=a().default.createElement(y.default,{intl:n})),a().default.createElement("div",{className:"Ell Ovx(h)"},r)};t.default=(0,o().injectIntl)((0,i().connect)((function(e,t){var n=e.groupChannel,r=e.chat,a=n||{},i=a.channels,o=a.error,s=i[t.embeddedChannel],c=r.channelMessagesById||{},l=(r||{}).list;return{chatObj:s,messages:(0,d.mapMessagesFromMessageIds)(l,c)[t.embeddedChannel],channelMessagesById:r.channelMessagesById,error:o}}),{getChannelByUrl:l.getChannelByUrl,markAsRead:l.markAsRead,setPrevMessages:u.setPrevMessages})(w))},7614:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(70356);return i=function(){return e},e}function o(){var e=u(n(46942));return o=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=u(n(37261)),c=u(n(41345));function l(){var e=n(8604);return l=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e.poll,n=e.intl,r=[];t.allowMultipleVotes&&r.push(n.formatMessage({id:"MULTI_SELECT"})+".");var i=r.join(" "),o=t.closeAt>-1&&t.closeAt-Math.floor(Date.now()/1e3)<3600;return a().default.createElement("div",{className:"Fz(12px) Fw(500) C(grey-11)"},t.closeAt>-1&&a().default.createElement("span",{className:o?"C(slasher)":""},a().default.createElement(l().FormattedMessage,{id:"POLL_CLOSES_ON",values:{datetime:m(new Date(1e3*t.closeAt))}})),i)},m=function(e){return a().default.createElement(a().default.Fragment,null,a().default.createElement(l().FormattedDate,{value:e})," ",a().default.createElement(l().FormattedTime,{value:e}))};t.default=function(e){var t=e.chatObj,n=e.user,r=e.changeOverlay,l=e.hideOverlay,u=e.isEmbed,d=e.rapidInstance,h=e.embeddedType,m=e.readOnly,_=e.intl,y=e.poll,g=e.setPoll,v=e.openPollViewOverlay,b=e.filter,w=(0,a().useRef)(null),k=f((0,a().useState)(!1),2),E=k[0],S=k[1],C=f((0,a().useState)(y.options),2),T=C[0],I=C[1];return(0,a().useEffect)((function(){I(y.options),"recentMessages"===h&&(y.options.length>3&&S(!0),I(y.options.slice(0,3)))}),[y,h]),a().default.createElement(i().I13nButton,{onClick:function(e){return!m&&v(e,r,l,t,y,u,d)},key:y.updatedAt,className:(0,o().default)("Bgc(white) ChatDarkTheme_Bgc(black) ChatDarkTheme_C(white) Bds(s) Bdw(1px) Bdc(grey-9) Bdrs(8px) P(16px) EmbeddedDraft_P(8px) Cur(p) W(100%) ".concat(c.default.noStyleButton),{"Cur(d)!":m}),ref:w,"data-testid":"poll-message",role:"button",tabIndex:"0",onKeyDown:function(e){return 13===e.keyCode&&!m&&v(e,r,l,t,y,u,d)}},a().default.createElement("div",{className:"Mb(16px)"},a().default.createElement("div",{className:"Fz(20px) EmbeddedDraft_Fz(15px) Fw(700)"},y.title),a().default.createElement(p,{poll:y,intl:_})),T.map((function(e,r){var i=e.text,o=e.voteCount,c=e.id;return a().default.createElement(s.default,{key:c,isLast:r!==T.length-1,setPoll:g,chatObj:t,poll:y,option:e,text:i,voteCount:o,user:n,"data-poll-option":!0,rapidInstance:d,embeddedType:h,readOnly:m,filter:b})})),E&&a().default.createElement("div",{className:"W(100%) D(f) Jc(c)"},a().default.createElement("button",{className:"Tal(c) Cur(p) W(30px) P(8px) ".concat(c.default.noStyleButton),onClick:function(){return function(e,t,n){e(!1),t(n.options)}(S,I,y)},"data-testid":"show-all-options-button"},"...")))},e.exports=t.default},61804:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(31491);return i=function(){return e},e}function o(){var e=n(8604);return o=function(){return e},e}function s(){var e=n(70356);return s=function(){return e},e}function c(){var e=u(n(46942));return c=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=u(n(41345));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t=e.winningOptions,n=e.winningVoteCount;return a().default.createElement("div",{className:"Px(13px) Ta(c)"},a().default.createElement("div",{className:"Pt(16px) Fz(12px) EmbeddedDraft_Fz(11px) Fw(500) C(grey-11)"},a().default.createElement(o().FormattedMessage,{id:"TOP_ANSWER_WITH_NUM_VOTES",values:{num:n}})),a().default.createElement("div",null,t.map((function(e){var t=e.text,n=e.id;return a().default.createElement("div",{className:"Fz(18px) Fw(600) Pt(16px)",key:n},t)}))))},p=function(){return a().default.createElement("div",{className:"Pt(16px) Fz(12px) EmbeddedDraft_Fz(11px) Fw(500) Px(13px) C(grey-11)"},a().default.createElement(o().FormattedMessage,{id:"POLL_CLOSED_NO_VOTES"}))};t.default=function(e){var t,n=e.chatObj,r=e.changeOverlay,u=e.hideOverlay,d=e.isEmbed,m=e.rapidInstance,_=e.embeddedType,y=e.intl,g=e.poll,v=e.openPollViewOverlay,b=(0,a().useRef)(null),w=Math.max.apply(Math,function(e){if(Array.isArray(e))return f(e)}(t=g.options.map((function(e){return e.voteCount})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),k=g.options.filter((function(e){return e.voteCount===w}));return a().default.createElement("div",{className:"Bgc(white) Bds(s) Bdw(1px) Bdc(grey-9) Bdrs(8px) W(100%) Ta(c) ChatDarkTheme_Bgc(black) ",ref:b,"data-testid":"closed-poll-message"},a().default.createElement("div",{className:"P(16px) EmbeddedDraft_P(8px)"},a().default.createElement(i().Badge,{type:"agnostic"},y.formatMessage({id:"POLL_IS_CLOSED"})),a().default.createElement("div",{className:"Fz(20px) EmbeddedDraft_Fz(15px) Fw(700) Pt(18.5px)"},g.title),w>0&&a().default.createElement(h,{poll:g,winningOptions:k,winningVoteCount:w}),0===w&&a().default.createElement(p,null)),"recentMessages"!==_&&a().default.createElement(s().I13nButton,{className:(0,c().default)("W(100%) Bgc(grey-default) H(44px) D(f) Ai(c) Cur(p) Jc(c) ChatDarkTheme_Bgc($c-fuji-grey-l) Bdrsbstart(8px) Bdrsbend(8px) "+l.default.noStyleButton,{"Cur(d)!":"recentMessages"===_}),onClick:function(e){return"recentMessages"!==_&&v(e,r,u,n,g,d,m)},"data-testid":"poll-view-details-button"},a().default.createElement("div",{className:"Fz(14px) EmbeddedDraft_Fz(12px) C(blue-1c)"},a().default.createElement(o().FormattedMessage,{id:"VIEW_DETAILS"}))))},e.exports=t.default},34473:(e,t,n)=>{"use strict";function r(){var e,t=(e=n(96540))&&e.__esModule?e:{default:e};return r=function(){return t},t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){var t=e.leagueChatLink,n=e.intl;return r().default.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer","data-testid":"empty-poll-message-link"},n.formatMessage({id:"VIEW_IN_NEW_WINDOW"}))};t.default=function(e){var t=e.leagueUrl,n=e.intl,i=t?"".concat(t,"/messages"):null;return i?r().default.createElement(r().default.Fragment,null,"[ ",n.formatMessage({id:"POLL"})," ]",r().default.createElement("br",null),r().default.createElement(a,{leagueChatLink:i,intl:n})):"[ ".concat(n.formatMessage({id:"POLL"})," ]")},e.exports=t.default},89291:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(31491);return i=function(){return e},e}function o(){var e=n(8604);return o=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,c=(s=n(2539))&&s.__esModule?s:{default:s};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(){u=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),s=new P(r||[]);return i(o,"_invoke",{value:M(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",m="suspendedYield",_="executing",y="completed",g={};function v(){}function b(){}function w(){}var k={};d(k,s,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(x([])));S&&S!==n&&a.call(S,s)&&(k=S);var C=w.prototype=v.prototype=Object.create(k);function T(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,s,c){var l=h(e[i],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function M(t,n,r){var a=p;return function(i,o){if(a===_)throw Error("Generator is already running");if(a===y){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=_;var l=h(t,n,r);if("normal"===l.type){if(a=r.done?y:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=y,r.method="throw",r.arg=l.arg)}}}function O(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=h(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(a.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=w,i(C,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=d(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},T(I.prototype),d(I.prototype,c,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new I(f(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(C),d(C,l,"Generator"),d(C,s,(function(){return this})),d(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=x,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;N(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function d(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=function(){var e,t=(e=u().mark((function e(t,n,r,a,i,o){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,t.closePoll(n);case 4:r(),o(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a(i.formatMessage({id:"POLL_CLOSE_ERROR"}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){d(i,r,a,o,s,"next",e)}function s(e){d(i,r,a,o,s,"throw",e)}o(void 0)}))});return function(e,n,r,a,i,o){return t.apply(this,arguments)}}();t.default=function(e){var t=e.chatObj,n=e.pollId,r=e.hideOverlay,s=e.intl,l=f((0,a().useState)(null),2),u=l[0],d=l[1],h=f((0,a().useState)(!1),2),m=h[0],_=h[1];return a().default.createElement("div",{className:"Bgc(white) ChatDarkTheme_Bgc($c-fuji-grey-l) W(85%) Bdrs(6px) Ovy(a) Maw(380px) D(f) Fxd(c) P(16px) EmbeddedDraft_P(8px) Z(2)"},a().default.createElement("div",{className:"Tal(c) Fz(16px) EmbeddedDraft_Fz(13px) Pb(16px)"},a().default.createElement(o().FormattedMessage,{id:"CONFIRM_CLOSE_POLL"})),a().default.createElement("div",{className:"D(f) Jc(c)"},a().default.createElement("div",{className:"Mend(8px)"},a().default.createElement(i().Button,{type:"destructive",size:"small",onClick:function(){return p(t,n,r,d,s,_)}},m&&a().default.createElement(c.default,{width:"14px"}),a().default.createElement(o().FormattedMessage,{id:"YES"}))),a().default.createElement("div",{className:"Mstart(8px)"},a().default.createElement(i().Button,{type:"agnostic",onClick:r,size:"small"},a().default.createElement(o().FormattedMessage,{id:"CANCEL"})))),u?a().default.createElement("div",{className:"C(slasher) Ta(c) Pt(16px)"},u):null)},e.exports=t.default},17603:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(8604);return i=function(){return e},e}function o(){var e=n(31491);return o=function(){return e},e}function s(){var e,t=(e=n(46942))&&e.__esModule?e:{default:e};return s=function(){return t},t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(37211);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e,t,n,r){r&&r.beaconClick("league-chat-poll",n,null,{sec:"league-chat-poll",elm:"cmmt_pollset",product:"create poll",milestone:"step 2 poll setting",itc:"1"}),_(e,t)},m=function(e,t,n){var r=u(t);r.splice(e,1),(1===r.length||r.length===c.maxOptions-1&&""!==r[r.length-1])&&r.push(""),n(r)},_=function(e,t){t(e)};t.default=function(e){var t=e.changeView,n=e.chatObj,r=e.intl,l=e.isEmbed,f=e.embeddedType,h=e.sendPollMessage,_=e.rapidInstance,y=d((0,a().useState)(""),2),g=y[0],v=y[1],b=d((0,a().useState)(!1),2),w=b[0],k=b[1],E=d((0,a().useState)(["",""]),2),S=E[0],C=E[1],T=d((0,a().useState)(!1),2),I=T[0],M=T[1],O=d((0,a().useState)(!1),2),A=O[0],N=O[1],P=d((0,a().useState)([]),2),x=P[0],D=P[1],U=d((0,a().useState)(-1),2),L=U[0],z=U[1];return a().default.createElement("form",{id:"polls-create-modal",className:"Mih(80px) Bgc(grey-default) ChatDarkTheme_Bgc($c-fuji-grey-l) W(100%) Bdrs(6px) H(100%)"},a().default.createElement("div",{className:(0,s().default)("Mx(12px)",{"H(100%) Ovy(a)":"draft"===f,"H(553px)":"draft"!==f})},a().default.createElement("div",{className:(0,s().default)("",{"H(85%)!":l&&"draft"!==f,"H(75%) Ov(a)":!l})},a().default.createElement("div",{className:"Bgc(white) ChatDarkTheme_Bgc($c-fuji-grey-l) Mt(16px) Mx(4px)"},a().default.createElement("input",{className:(0,s().default)("Fz(16px) EmbeddedDraft_Fz(13px) Fw(585) Bgc(white) ChatDarkTheme_Bgc(black) ChatDarkTheme_C(white) H(56px) Bds(n) Bdbs(s) Bdrststart(8px) Bdrstend(8px) W(100%) P(16px) EmbeddedDraft_P(8px) Bdw(1px) Bdc(grey-9) Mb(1px)",{"Bdc(red)! Bds(s)":w&&!g}),placeholder:r.formatMessage({id:"ENTER_QUESTION_OR_TOPIC"}),value:g,onChange:function(e){return v(e.target.value)},onBlur:function(){return k(!0)},"data-testid":"poll-title"}),S.map((function(e,t){var n=t===S.length-1;return a().default.createElement("input",{key:t,className:(0,s().default)("Fz(14px) EmbeddedDraft_Fz(12px) Bgc(white) ChatDarkTheme_Bgc(black) ChatDarkTheme_C(white) H(56px) Bds(n) W(100%) P(16px) EmbeddedDraft_P(8px) Mb(1px)",{"Bdrsbstart(8px) Bdrsbend(8px)":n}),placeholder:r.formatMessage({id:"ADD_OPTION"}),value:e,onChange:function(e){return function(e,t,n,r){if(""===e)m(t,n,r);else{var a=u(n);a[t]=e,""!==a[n.length-1]&&a.length<c.maxOptions&&a.push(""),r(a)}}(e.target.value,t,S,C)},"data-testid":"poll-option-".concat(t)})}))),a().default.createElement("div",{className:"Py(4px)"},x.map((function(e,t){return a().default.createElement("div",{key:e,className:"Fz(14px) EmbeddedDraft_Fz(12px) C(red) Ta(c)"},e)}))),a().default.createElement("br",null),a().default.createElement(o().Divider,{type:"horizontal"},a().default.createElement(o().Badge,{type:"agnostic"},r.formatMessage({id:"POLL_SETTINGS"}))),a().default.createElement("br",null),a().default.createElement("div",{className:"D(f) Jc(sb) Ai(c) W(100%) Pb(8px) Px(4px)"},a().default.createElement(o().FormDropdown,{onChange:z,placeholder:"Select duration",label:r.formatMessage({id:"POLL_DURATION"}),options:[{text:r.formatMessage({id:"UNLIMITED"}),value:-1},{text:r.formatMessage({id:"1_DAY"}),value:1},{text:r.formatMessage({id:"2_DAYS"}),value:2},{text:r.formatMessage({id:"3_DAYS"}),value:3},{text:r.formatMessage({id:"1_WEEK"}),value:7},{text:r.formatMessage({id:"2_WEEKS"}),value:14},{text:r.formatMessage({id:"30_DAYS"}),value:30}],selectedValue:L,"data-testid":"poll-duration-dropdown"})),a().default.createElement("div",{className:"Pb(8px) Px(4px)"},a().default.createElement(o().FormSwitch,{onChange:function(e){return p(e,M,"pin poll ".concat(I?"off":"on"),_)},selected:I,"data-testid":"pin-poll-toggle",value:I,label:r.formatMessage({id:"PIN_POLL"})})),a().default.createElement("div",{className:"Pb(8px) Px(4px)"},a().default.createElement(o().FormSwitch,{onChange:function(e){return p(e,N,"allow multiple votes ".concat(A?"off":"on"),_)},selected:A,value:A,label:r.formatMessage({id:"MULTIPLE_VOTES"}),"data-testid":"allow-multiple-votes-toggle"}))),a().default.createElement("div",{className:(0,s().default)("Px(16px) D(f) Fxd(c) Jc(c)",{"H(20%)!":l&&"draft"!==f,"H(20%)":!l})},a().default.createElement("div",{className:"Ta(c) Py(16px) ChatDarkTheme_C(white)"},a().default.createElement(i().FormattedMessage,{id:"POLL_CREATION_WARNING",className:"Ta(c)"})),a().default.createElement("div",{className:"D(f) Jc(c)"},a().default.createElement(o().Button,{onClick:function(e){e.preventDefault(),function(e,t,n,r,a,i){t=t.filter((function(e){return""!==e}));var o,s=[];return e||s.push(r.formatMessage({id:"TITLE_REQUIRED"})),o=t,new Set(o).size!==o.length&&s.push(r.formatMessage({id:"POLL_OPTIONS_UNIQUE"})),t.length<2&&s.push(r.formatMessage({id:"POLL_OPTIONS_MIN"})),a&&i.pinnedMessageIds&&i.pinnedMessageIds.length&&i.pinnedMessageIds.length>=30&&s.push(r.formatMessage({id:"PINNED_MESSAGE_LIMIT"})),n(s),0===s.length}(g,S,D,r,I,n)&&function(e,t,n,r,a,i,o,s,c){r=r.filter((function(e){return""!==e}));var l=null;if(-1!=(o=+o)){var u=new Date;u.setDate(u.getDate()+o),l=Math.floor(u.getTime()/1e3)}e(t,n,r,a,i,l),c&&c.beaconClick("league-chat-poll","create poll submit",null,{sec:"league-chat-poll",elm:"cmmt_pollset",product:"create poll",milestone:"step 3 poll submit",itc:"1"}),s("CHAT")}(h,n,g,S,A,I,L,t,_)},size:"large",type:"primary",className:"W(100%)","data-testid":"create-poll-button",chatObj:n},a().default.createElement(i().FormattedMessage,{id:"CREATE_POLL"}))))))},e.exports=t.default},34908:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(n(7614)),o=l(n(61804)),s=l(n(34473)),c=n(21385);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e,t,n,r,a,i,o){var s=document.querySelectorAll('[data-poll-option="true"]'),c=!1;s.forEach((function(t){t.contains(e.target)&&(c=!0)})),c||t("VIEW_POLL",{chatObj:r,hideOverlay:n,poll:a,isEmbed:i,rapidInstance:o})};t.default=function(e){var t,n,r=e.chatObj,l=e.message,u=e.user,h=e.changeOverlay,p=e.hideOverlay,m=e.isEmbed,_=e.rapidInstance,y=e.embeddedType,g=e.readOnly,v=e.intl,b=e.filter,w=e.allowPolls,k=(t=(0,a().useState)(l._poll),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),E=k[0],S=k[1];if((0,a().useEffect)((function(){S(l._poll)}),[l._poll]),E){var C=(0,c.isPollActive)(E);if(!w){var T,I="draft"===y?null==r||null===(T=r.metaData)||void 0===T?void 0:T.leagueUrl:null;return a().default.createElement(s.default,{leagueUrl:I,intl:v})}return C?a().default.createElement(i.default,{chatObj:r,message:l,user:u,changeOverlay:h,hideOverlay:p,isEmbed:m,rapidInstance:_,embeddedType:y,readOnly:g,intl:v,poll:E,setPoll:S,openPollViewOverlay:f,filter:b}):a().default.createElement(o.default,{chatObj:r,changeOverlay:h,hideOverlay:p,isEmbed:m,rapidInstance:_,embeddedType:y,readOnly:g,intl:v,poll:E,openPollViewOverlay:f})}return null},e.exports=t.default},37261:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(70356);return i=function(){return e},e}function o(){var e=u(n(46942));return o=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=u(n(56391)),c=n(21385),l=["isLast","chatObj","poll","option","text","setPoll","voteCount","readOnly","rapidInstance","filter"];function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),s=new P(r||[]);return i(o,"_invoke",{value:M(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",m="suspendedYield",_="executing",y="completed",g={};function v(){}function b(){}function w(){}var k={};u(k,s,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(x([])));S&&S!==n&&a.call(S,s)&&(k=S);var C=w.prototype=v.prototype=Object.create(k);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,s,c){var l=h(e[i],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function M(t,n,r){var a=p;return function(i,o){if(a===_)throw Error("Generator is already running");if(a===y){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=_;var l=h(t,n,r);if("normal"===l.type){if(a=r.done?y:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=y,r.method="throw",r.arg=l.arg)}}}function O(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=h(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(a.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=w,i(C,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},T(I.prototype),u(I.prototype,c,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new I(d(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(C),u(C,l,"Generator"),u(C,s,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=x,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;N(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function h(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){h(i,r,a,o,s,"next",e)}function s(e){h(i,r,a,o,s,"throw",e)}o(void 0)}))}}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(null,arguments)}var _=function(){var e=p(f().mark((function e(t,n,r,a,i){var o,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.allowMultipleVotes,s=o?Array.from(i.add(r.id)):[r.id],y(s,t,n,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),y=function(){var e=p(f().mark((function e(t,n,r,a){var i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.votePoll(r.id,t);case 2:i=e.sent,r.applyPollVoteEvent(i),a((0,s.default)(r));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.default=function(e){var t=e.isLast,n=e.chatObj,r=e.poll,s=e.option,u=e.text,d=e.setPoll,f=e.voteCount,h=e.readOnly,p=(e.rapidInstance,e.filter),g=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,l),v=(0,a().useRef)(null);(0,a().useEffect)((function(){v.current&&(v.current.style.width="".concat(s.voteCount/Math.max(1,(0,c.getVoteTotal)(r))*100,"%"))}),[r,s]);var b=new Set(r.votedPollOptionIds);return a().default.createElement(i().I13nButton,m({i13nModel:{slk:b.has(s.id)?"remove vote on poll":"vote on poll",sec:"league-chat",subsec:p,elm:"cmmt_more",filter:p,itc:"1"},className:(0,o().default)('Bgc(white) ChatDarkTheme_Bgc($c-fuji-grey-l) D(f) Jc(sb) Bg(n) C(i) P(0) Ta(start) Bds(s) Bdw(1px) Bdc(grey-9) Bdrs(26px) Cur(p) Pos(r) H(50px) Ov(h) W(100%) Ta(start) Cnt("")::b D(b)::b Pos(a)::b W(100%)::b H(100)',{"Cur(d)!":h,"Mb(12px)":t}),onClick:h?null:b.has(s.id)?function(){return function(e,t,n,r,a){var i;if(t.allowMultipleVotes){var o=a;o.delete(n.id),i=Array.from(o)}else i=[];y(i,e,t,r)}(n,r,s,d,b)}:function(){return _(n,r,s,d,b)}},g,{"data-testid":"poll-message-option"}),a().default.createElement("div",{className:(0,o().default)("fill-poll-message-option W(0) H(100%) Bgc(grey-9) Trs(width-1s-ease) H(100%) Trs(width-1s-ease) ChatDarkTheme_Bgc(grey-11)",{"Bgc($c-blue-highlight)! ChatDarkTheme_Bgc(grey-8)!":b.has(s.id)}),ref:v}),a().default.createElement("div",{className:"Pos(a) W(100%) D(f) Jc(sb) Ai(c) Trf(translate-50-50) T(50%) Start(50%) Px(16px) H(24px) ChatDarkTheme_C(white) Fz(14px) EmbeddedDraft_Fz(12px) "},a().default.createElement("div",{className:"W(90%) Ov(h)",title:u},u),a().default.createElement("span",null,f)))},e.exports=t.default},31506:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(8604);return i=function(){return e},e}function o(){var e=p(n(46942));return o=function(){return e},e}function s(){var e=n(72218);return s=function(){return e},e}function c(){var e=p(n(52178));return c=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=p(n(46434)),u=n(53539),d=p(n(2539)),f=n(21385),h=p(n(38011));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){_=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),s=new P(r||[]);return i(o,"_invoke",{value:M(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",g={};function v(){}function b(){}function w(){}var k={};u(k,s,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(x([])));S&&S!==n&&a.call(S,s)&&(k=S);var C=w.prototype=v.prototype=Object.create(k);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,s,c){var l=f(e[i],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function M(t,n,r){var a=h;return function(i,o){if(a===m)throw Error("Generator is already running");if(a===y){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===h)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var l=f(t,n,r);if("normal"===l.type){if(a=r.done?y:p,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=y,r.method="throw",r.arg=l.arg)}}}function O(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(a.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=w,i(C,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},T(I.prototype),u(I.prototype,c,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new I(d(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(C),u(C,l,"Generator"),u(C,s,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=x,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;N(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function y(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=e.hideOverlay,n=e.chatObj,r=e.poll,p=e.isEmbed,m=e.embeddedType,v=g((0,a().useState)(""),2),b=v[0],w=v[1],k=g((0,a().useState)(!1),2),E=k[0],S=k[1];(0,a().useEffect)((function(){var e=function(){var e,t=(e=_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.t0=w,e.next=4,(0,u.setVotersOnPoll)(r,n.url,n.channelType);case 4:e.t1=e.sent,(0,e.t0)(e.t1),S(!1);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){y(i,r,a,o,s,"next",e)}function s(e){y(i,r,a,o,s,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[r,n,t]),(0,a().useEffect)((function(){var e=function(e){"Escape"!==e.key&&27!==e.keyCode||t()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[t]);var C=b.options,T=C?C.reduce((function(e,t){return t.voteCount>e?t.voteCount:e}),0):null;return a().default.createElement("div",{className:(0,o().default)("Mih(80px) Bgc(white) ChatDarkTheme_Bgc($c-fuji-grey-l) W(95%) Bdrs(6px) Mah(590px) ChatDarkTheme_C(white)",{"Mah(680px)!":p,"H(100%) Ovy(s)":"draft"===m})},a().default.createElement(h.default,{header:r.title,title:r.title,hideOverlay:t,embeddedType:m}),a().default.createElement("div",{className:"P(16px) EmbeddedDraft_P(8px) Ovy(a) Mah(520px)"},!E&&a().default.createElement("div",null,a().default.createElement("div",{className:"C(grey-11) Ta(c)"},a().default.createElement(s().Icon,{color:"#5B636A",asset:c().default,height:"16",width:"16",className:"Mend(5px) Cur(d)!"}),(0,f.isPollClosed)(r)?a().default.createElement(i().FormattedMessage,{id:"POLL_CLOSED"}):a().default.createElement(i().FormattedMessage,{id:"POLL_OPEN"})),C&&C.length&&C.map((function(e,t){var r=e.text,s=e.voteCount,c=e.voters,u=e.id;return a().default.createElement("div",{key:u,className:"D(f) Fxd(c) Py(16px) Bdbs(s) Bdbw(1px) Bdbc(grey-9)","data-testid":"poll-view-option-".concat(t)},a().default.createElement("div",{className:(0,o().default)("D(f) W(100%) Fw(400)",{"Fw(700)!":s===T&&s>0})},a().default.createElement("div",{className:"W(90%) Fz(18px) Ov(h)","data-testid":"poll-view-option-".concat(t,"-text")},r),a().default.createElement("div",{className:"W(10%) Fz(14px) EmbeddedDraft_Fz(12px) Ta(end) D(f) Ai(c) Jc(e)","data-testid":"poll-view-option-".concat(t,"-votecount")},s)),a().default.createElement("div",{className:"D(f) W(100%) Fxd(c)","data-testid":"poll-view-option-".concat(t,"-voters")},c.map((function(e){return a().default.createElement("div",{key:e.id,className:"D(f) Ai(c) Pt(16px) W(100%)"},a().default.createElement("img",{src:(0,l.default)(n.metaData,e),alt:e.nickname,className:"W(24px) H(24px) Bdrs(50%) Mend(8px)"}),a().default.createElement("span",{className:"Tov(e) Whs(nw) Ov(h)"},e.nickname))})),0===c.length&&a().default.createElement("div",{className:"Pt(16px) W(100%)"},a().default.createElement(i().FormattedMessage,{id:"NO_VOTES_FOR_THIS_OPTION"}))))}))),E&&a().default.createElement(d.default,null)))},e.exports=t.default},31821:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var c=i?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(a,s,c):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(8604);return i=function(){return e},e}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function c(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=u(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props.messageData,t=void 0===e?{}:e,n=t.cost,r=t.pickId,o=t.playerId,s=t.playerName,c=t.playerPosition,l=t.playerTeam,u=t.teamName,d=o?o.split(".")[2]:void 0;return a().default.createElement("div",{"data-id":d,className:"ys-player W(100%) Bgc(grey-default) ChatDarkTheme_Bgc(dark-bubble-background) Bdrs(8px) Bds(s) Bdw(1px) Bdc(grey-secondary) Pos(r)"},a().default.createElement("div",{className:"D(f) Jc(fs) Ai(c) P(5px)"},a().default.createElement("div",{className:"Fxb(0) Fxg(3)"},a().default.createElement("div",{className:"Fz(10px) C(grey-8) ChatDarkTheme_C(grey-secondary)"},u),a().default.createElement("div",{className:"Mt(2px) Mend(5px)"},a().default.createElement("span",{className:"Fz(13px) C(black) ChatDarkTheme_C(white)"},s)),a().default.createElement("div",{className:"D(i)"},a().default.createElement("span",{className:"Fz(10px) C(grey-8) ChatDarkTheme_C(grey-secondary)"},l+" - "+c))),a().default.createElement("div",{className:"Fz(18px) C(black) ChatDarkTheme_C(white) Fxb(0) Fxg(1)"},n?a().default.createElement(i().FormattedNumber,{value:n,style:"currency",currency:"USD",minimumFractionDigits:0}):a().default.createElement(i().FormattedMessage,{values:{number:r},id:"ORDINAL"}))))}}])&&s(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(a().Component);t.default=f,e.exports=t.default},44144:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(70197);function o(){var e=n(8604);return o=function(){return e},e}var s=n(16310);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=f(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,n||[],f(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(t,e),n=t,(c=[{key:"render",value:function(){var e=this.props.chat||{},t=e.members||[],n=(0,s.getRealUsersFromMembers)(t),r=(0,i.isLeagueChannel)(e);return a().default.createElement("div",{className:"W(100%)"},a().default.createElement("div",{className:"Ta(c)"},a().default.createElement("img",{alt:"Profile",className:"Bdrs(50%)",src:e.display_coverUrl,width:"75px",height:"75px"}),a().default.createElement("div",{className:"Pt(10px) Fz(16px) EmbeddedDraft_Fz(13px)"},e.display_name),r?a().default.createElement("div",{className:"Fz(11px) C(#26282a) Pt(3px)"},n.length," Members"):null,a().default.createElement("div",{className:"Pt(10px)"},a().default.createElement(o().FormattedMessage,{id:"START_CHATTING_NOW"}))))}}])&&l(n.prototype,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,c}(a().Component);t.default=p,e.exports=t.default},86267:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var c=i?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(a,o,c):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(8604);return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(62662);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=d(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),n=t,(s=[{key:"componentDidMount",value:function(){(0,o.positionChatList)()}},{key:"render",value:function(){var e=(this.props.error||{}).error||{};return a().default.createElement("div",{className:"W(100%) Whs(pl)"},a().default.createElement("div",{id:"ChatList",className:"W(250px) Ta(s) D(ib) Va(t) D(n)! Pos(a) Z(100000) Bxsh(chat-list-box-shadow)"},a().default.createElement("div",{className:"Bgc(normal-black) C(white) Px(10px) Va(m) H(35px) D(f)"},a().default.createElement("div",{className:"Pos(a) T(-15px) Start(110px) W(0px) H(0px) Bds(s) Bdc(t) Bdbc(normal-black) Bdendw(15px) Bdstartw(15px) Bdbw(15px)"})),e.description?a().default.createElement("div",{className:"Py(20px) Px(5px) C(error-color) Bgc(white)"},a().default.createElement("h3",null,a().default.createElement(i().FormattedMessage,{id:"THERE_WAS_AN_ERROR"})),a().default.createElement("h4",{className:"Pt(10px) Fw(n) Fz(13px)"},a().default.createElement(i().FormattedMessage,{id:"ERROR_MESSAGE",values:{errorMessage:e.description}}))):a().default.createElement("div",{className:"Py(20px) Px(5px) Bgc(white) Ta(c)"},a().default.createElement("img",{alt:"Loading",width:"50px",src:"https://s.yimg.com/dh/ap/sbsq/blue-28@2x.gif"}))))}}])&&c(n.prototype,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,s}(a().Component);t.default=h,e.exports=t.default},47580:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(70356);return i=function(){return e},e}function o(){var e=n(72218);return o=function(){return e},e}function s(){var e=f(n(46942));return s=function(){return e},e}function c(){var e=f(n(79466));return c=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=f(n(71252)),u=f(n(81494)),d=f(n(68697));function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var p=function(e){e&&e.stopPropagation&&e.stopPropagation()};t.default=function(e){var t=e.intl,n=e.user,r=e.fantasyMetadata,f=e.reportMessage,h=e.deleteMessage,m=e.startChat,_=e.blockChatUser,y=e.unBlockChatUser,g=e.keyPressHandler,v=e.fileUploadHandler,b=e.onChangeHandler,w=e.selectMessage,k=e.showReactions,E=e.showEmojiPicker,S=e.removeReaction,C=e.addReaction,T=e.memberMap,I=e.hideFocusedImageMedia,M=e.message,O=void 0===M?{}:M,A=e.chatName,N=e.imageRef,P=e.processing,x=e.readStatusMap,D=e.isDirectMessage,U=e.isEmbed,L=e.members,z=e.mentionMember,R=e.selectedMentionMember,j=e.onCloseModal,F=e.showMentionList,B=e.textMessage,H=e.clickMessageInput,G=e.fileInputRef,V=e.setSelectedMember,q=e.movingWithArrowKeys;return(0,a().useEffect)((function(){var e=function(e){var t=document.getElementById("focused-image-media-modal");t&&!t.contains(e.target)&&I(e)};return document.body.addEventListener("click",e),function(){document.body.removeEventListener("click",e)}}),[I]),a().default.createElement(i().I13nDiv,{className:"Pos(f) H(100%) W(100%) Z(2147483648) D(f) Ai(c) Jc(sa) T(0) B(0) Start(0) End(0) Bgc(bg-overlay) Cur(p)","data-testid":"focused-image-media",id:"focused-image-media"},a().default.createElement(i().I13nDiv,{className:"Pos(r)",onClick:p,id:"focused-image-media-modal"},a().default.createElement("div",{className:"Pos(r) H(35px) Bgc(#333) Bdrs(chat-border-radius)"},a().default.createElement("div",{className:"C(white) Fz(15px) Px(20px) Py(8px)"},A),a().default.createElement(i().I13nButton,{onClick:I,className:"Cur(p)! Va(t)! Pos(a) T(8px) End(8px) Bgc(t) Bd(n)","data-testid":"hide-focused-image-media-button"},a().default.createElement(o().Icon,{color:"#fff",asset:c().default,height:"18",width:"18"}))),a().default.createElement("div",{className:"Bgc(white) ChatDarkTheme_Bgc(#26282a) ChatDarkTheme_C(white) Pb(10px) Bdrsbstart(8px) Bdrsbend(8px)"},a().default.createElement("img",{src:O.url,alt:O.name,className:(0,s().default)("Maw(600px) Mah(600px) Miw(310px)",{"Op(.5)":P}),ref:N}),P?a().default.createElement("img",{id:"processing",className:"Pos(a) M(a) Start(0) End(0) T(0) B(0)",alt:"Loading",width:"40px",src:"https://s.yimg.com/dh/ap/sbsq/blue-28@2x.gif"}):null,O.preview?a().default.createElement("div",{className:"W(90%) Mstart(5%) Mt(5px) H(30px)"},a().default.createElement("div",{className:"ysf-message-input H(100%) Pos(r) D(ib) W(80%) Va(m)"},a().default.createElement(u.default,{name:"focused-image-message-input",onChangeHandler:b,keyPressHandler:g,onClickHandler:H,textMessage:B,inputRef:G})),a().default.createElement("div",{className:"W(20%) H(100%) D(ib) Va(m)"},a().default.createElement(i().I13nButton,{disabled:P,onClick:v,className:"W(100%) H(100%) Bd(n) C(white) Bgc(blue-1a)"},t.formatMessage({id:"UPLOAD"})))):a().default.createElement("div",{className:"Px(5px)"},a().default.createElement(l.default,{key:"message-"+O.messageId+O.updatedAt,intl:t,message:O,user:n,fantasyMetadata:r,reportMessage:f,deleteMessage:h,startChat:m,blockChatUser:_,unBlockChatUser:y,selectMessage:w,showReactions:k,showEmojiPicker:E,removeReaction:S,addReaction:C,memberMap:T,readStatusMap:x,isDirectMessage:D,focusedMediaOverride:!0,forceShowSender:!0,hideOptions:!0}))),a().default.createElement(a().default.Fragment,null,F?a().default.createElement(d.default,{isEmbed:U,members:L,mentionMember:z,onCloseModal:j,selectedMember:R,setSelectedMember:V,movingWithArrowKeys:q,fantasyMetadata:r}):null)))},e.exports=t.default},64687:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(70356);return i=function(){return e},e}function o(){var e=n(72218);return o=function(){return e},e}function s(){var e=l(n(79466));return s=function(){return e},e}function c(){var e=l(n(46942));return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var _=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=p(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}(this,t,[e])).openChatHandler=n.openChatHandler.bind(n),n.closeChatHandler=n.closeChatHandler.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),n=t,(l=[{key:"openChatHandler",value:function(e,t){t&&this.props.openChatHandler(e,t)}},{key:"closeChatHandler",value:function(e){e&&this.props.closeChatHandler(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hiddenChats||[],r=t.chatList||{},l=[],u=t.showHiddenChatPanel&&n.length;return n.forEach((function(t){var n=r[t]||{},c=n.display_name;l.push(a().default.createElement("div",{key:"hiddenChatRow-"+t,className:"D(f) W(100%)"},a().default.createElement(i().I13nDiv,{i13nModel:{slk:"chat_open_hidden_chats"},bindClickEvent:!0,className:"Cur(p) Bgc(dark-grey):h P(3px) D(b) Cur(p) As(c)",onClick:function(){return e.openChatHandler(n,t)}},c),a().default.createElement(i().I13nDiv,{i13nModel:{slk:"chat_close_hidden_chat"},bindClickEvent:!0,className:"O(n):f Cur(p) As(c)",onClick:function(){return e.closeChatHandler(t)}},a().default.createElement(o().Icon,{role:"button",className:"Cur(p)!",color:"black",asset:s().default,height:"15",width:"15"}))))})),a().default.createElement("div",{className:(0,c().default)("ysf-hiddenChatPanel","Ta(s)","P(10px)","Bdrs(3px)","Whs(nw)",{"D(n)":!u})},l)}}])&&d(n.prototype,l),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,l}(a().Component);t.default=_,e.exports=t.default},2539:(e,t,n)=>{"use strict";function r(){var e,t=(e=n(96540))&&e.__esModule?e:{default:e};return r=function(){return t},t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){var t=e.width;return r().default.createElement("div",{className:"D(f) Ai(c) Jc(c) W(100%) H(100%)","data-testid":"loading-indicator"},r().default.createElement("img",{alt:"Loading",width:t||"50px",src:"https://s.yimg.com/dh/ap/sbsq/blue-28@2x.gif"}))},e.exports=t.default},68697:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=s(n(46942));return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n(46434));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}t.default=function(e){var t=e.isEmbed,n=e.members,r=void 0===n?[]:n,s=e.mentionMember,c=e.onCloseModal,l=e.setSelectedMember,u=e.selectedMember,d=e.movingWithArrowKeys,f=e.fantasyMetaData;return(0,a().useEffect)((function(){var e=function(e){var t=document.querySelectorAll('[data-mention="true"]'),n=!0;t.forEach((function(t){t.contains(e.target)&&(n=!1)})),n&&c()};document.body.addEventListener("click",e);var t=document.getElementById("focused-image-media");return document.getElementById("focused-image-media")&&t.addEventListener("click",e),function(){document.body.removeEventListener("click",e),t&&t.removeEventListener("click",e)}}),[c]),r.length?a().default.createElement("div",{id:"mention-list-modal","data-testid":"mention-list-modal","data-mention":"true",className:(0,i().default)("Ovy(h) Bxsh(gif-picker-box-shadow) Fz(16px) EmbeddedDraft_Fz(13px) Bdrs(8px) Bgc(white) Pos(a) Z(2147483647) B(50px) End(10px) ChatDarkTheme_Bgc(normal-black) D(f) Fld(c)",{"Mah(90%) W(90%)":t,"Mah(150px) W(300px)":!t})},a().default.createElement("div",{className:"Ovy(a)"},r.map((function(e){return a().default.createElement("button",{key:e.userId,id:"mention-member-".concat(e.userId,"-button"),"data-testid":"mention-member-".concat(e.userId,"-button"),className:(0,i().default)("W(100%) M(0) Bgc(white) Bd(n) Tal(start) Fz(14px) EmbeddedDraft_Fz(12px) ChatDarkTheme_Bgc(normal-black) H(30px)",{"Bgc(grey-9)! ChatDarkTheme_Bgc(grey-default)!":u&&e.userId===u.userId}),onClick:function(){return s(e)},onMouseOver:function(t){d||l(e)},onFocus:function(){return l(e)}},a().default.createElement("div",{className:"D(f) Ai(c)"},a().default.createElement("img",{src:(0,o.default)(f,e),className:(0,i().default)("Bdrs(50%) Mend(3px)",{"Cur(p)":e.metaData}),alt:"Profile",width:"20px",height:"20px"}),a().default.createElement("span",{className:(0,i().default)("Tov(e) Ovx(h) Whs(pw) ChatDarkTheme_C(white)",{"ChatDarkTheme_C(normal-black)":u&&e.userId===u.userId})},e.nickname)))})))):null},e.exports=t.default},71252:(e,t,n)=>{"use strict";function r(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=b(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));return r=function(){return e},e}function a(){var e=n(8604);return a=function(){return e},e}function i(){var e=n(70356);return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=g(n(16416));function s(){var e=g(n(46942));return s=function(){return e},e}var c=g(n(92981)),l=g(n(70497)),u=n(37204),d=g(n(53319));function f(){var e=n(72218);return f=function(){return e},e}function h(){var e=g(n(68060));return h=function(){return e},e}function p(){var e=g(n(4193));return p=function(){return e},e}function m(){var e=g(n(93207));return m=function(){return e},e}var _=n(21385),y=g(n(41345));function g(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function C(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){var t=function(e){if("object"!=b(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(t)?t:t+""}var I=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C(n=function(e,t,n){return t=E(t),function(e,t){if(t&&("object"==b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,k()?Reflect.construct(t,n||[],E(e).constructor):t.apply(e,n))}(this,t,[e]),"openEmojiPicker",(function(){n.props.changeOverlay("REACTION_PICKER",{selectedMessage:n.props.message})})),C(n,"openReportOverlay",(function(){n.props.changeOverlay("REPORT_MESSAGE",{selectedMessage:n.props.message})})),C(n,"deleteMessage",(function(){var e=n.props,t=e.chatObj,r=e.message,a=e.intl;r&&n.props.deleteMessage(r,t,a)})),C(n,"showUserOverlay",(function(e){(e.hasOwnProperty("isMe")&&!e.isMe||!(0,u.isUserMe)(e))&&n.props.changeOverlay("USER",{selectedUserId:e.userId})})),C(n,"openMessageThread",(function(){var e=n.props.rapidInstance;n.props.changeView("THREAD",{parentMessageId:n.props.message.messageId,backCallback:function(){e&&e.beaconClick("league-chat","hide reply",null,{elm:"cmmt_more",itc:"1"})}})})),C(n,"openParentMessageThread",(function(){var e=n.props.message.parentMessage,t=void 0===e?{}:e;n.props.changeView("THREAD",{parentMessageId:t.messageId})})),C(n,"getReadReceiptIds",(function(){var e=n.props,t=e.readStatusMap,r=e.message,a=void 0===r?{}:r,i=e.followingMessageCreatedAt,o=a.createdAt;return t&&Object.keys(t).filter((function(e){var n=t[e].readAt;return!!(i&&i>o&&o<=n&&n<i)||!i&&(n>=o||0===n)}))})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(t,e),n=t,g=[{key:"render",value:function(){var e=this,t=this.props,n=t.readOnly,g=t.embeddedType,v=t.user,b=t.showReactions,w=t.hideOptions,k=t.message||{},E=t.fantasyMetadata||{},S=Object.keys(E).length,C=k.sender||{},T=C.metaData||{},I=t.chatObj||{};if(!k.messageId||C.isBlockedByMe)return null;var M=(0,u.isUserMe)(C)&&!n,O=!M&&!n&&!T.isBot,A=k&&(0,u.isUserMe)(k.sender||{})&&k._poll&&(0,_.isPollActive)(k._poll),N=k.metaArrays||[],P=C.userId,x=E["userTeamName_"+P],D=E["userTeamLogoUrl_"+P],U=C.nickname,L=D||(C.plainProfileUrl?C.plainProfileUrl:l.default.DEFAULT_AVATAR),z=k.replyToChannel,R=C.isShow||t.forceShowSender||z,j=b&&!n&&N.length<20&&!w,F=t.isEmbed,B=t.memberMap,H=k.parentMessage||t.parentMessage||{},G=H.sender||{},V=H.messageId,q=k.threadInfo||{},W=t.isThread,K=this.getReadReceiptIds(),Q=t.showThreads&&q.replyCount&&k.messageId!==V;M=M&&!q.replyCount;var Y=(I.pinnedMessageIds||[]).indexOf(k.messageId)>-1,Z=t.isPinList,J="direct_message"===I.customType;return r().default.createElement("div",{className:(0,s().default)("ysf-message Pos(r) Bgc(grey-special-use-hover):h ChatDarkTheme_Bgc(bg-overlay):h ChatDarkTheme_C(white):h C(black):h",{"Bgc($c-blue-highlight) ChatDarkTheme_Bgc(grey-8)":Y&&!Z,"Py(8px)":R}),"data-testid":"message_".concat(k.messageId)},Y&&!Z?r().default.createElement("div",{className:"D(f) Ai(c) Jc(fs) Py(3px) Mstart(72px) C(grey-11) Fw(500)"},r().default.createElement(f().Icon,{asset:m().default,className:"Mend(4px)",height:"12",color:"#5b636a"}),r().default.createElement(a().FormattedMessage,{id:"PINNED"})):null,z?r().default.createElement(i().I13nDiv,{className:"Pstart(16px) Py(3px) Fz(14px) EmbeddedDraft_Fz(12px) EmbeddedDraft_Fz(11px) Fw(400) C(#5b636a) Cur(p)",onClick:this.openParentMessageThread},W?r().default.createElement(r().default.Fragment,null,r().default.createElement(f().Icon,{asset:p().default,width:"40",height:"18",color:"#5b636a"}),r().default.createElement("span",{className:"D(ib) W(80%) Ov(h) Whs(nw) Tov(e) Pstart(16px)"},J?r().default.createElement(a().FormattedMessage,{id:"ALSO_SENT_AS_DIRECT_MESSAGE"}):r().default.createElement(a().FormattedMessage,{id:"THREAD_SENT_TO_CHANNEL",values:{leagueName:r().default.createElement("span",{className:"Fw(700)"},I.name)||r().default.createElement(a().FormattedMessage,{id:"CHANNEL"})}}))):r().default.createElement(r().default.Fragment,null,r().default.createElement(f().Icon,{asset:h().default,width:"40",height:"18",color:"#5b636a"}),r().default.createElement("span",{className:"D(ib) W(80%) Ov(h) Whs(nw) Tov(e) Pstart(16px)"},G.nickname,": ",H.message||H.name))):null,r().default.createElement("div",{className:"D(f) Pstart(16px) Pend(16px) EmbeddedDraft_Pstart(8px) EmbeddedDraft_Pend(8px)"},R?r().default.createElement("div",{className:"D(ib) W(40px) Va(t)"},r().default.createElement("span",{onKeyDown:S?function(){return e.showUserOverlay(C)}:null,role:"button",tabIndex:0,onClick:S?function(){return e.showUserOverlay(C)}:null},r().default.createElement("img",{src:L,className:(0,s().default)("Bdrs(50%)",{"Cur(p)":S}),alt:"Profile",width:"40px",height:"40px"}))):r().default.createElement("div",{className:"D(ib) W(40px) Va(t)"}),r().default.createElement(c.default,{chatObj:t.chatObj,isShow:R,firstName:U,teamName:x,message:k,showFocusedImageMedia:t.showFocusedImageMedia,showDeleteBtn:M,showReportBtn:O,showClosePollBtn:A,deleteMessage:this.deleteMessage,openReportOverlay:this.openReportOverlay,openEmojiPicker:this.openEmojiPicker,canAddReaction:j,hideOptions:w,focusedMediaOverride:t.focusedMediaOverride,isEmbed:F,openMessageThread:this.openMessageThread,showThreads:t.showThreads&&!W,isThread:W,changeOverlay:t.changeOverlay,hideOverlay:t.hideOverlay,memberMap:B,allowPins:t.allowPins,pinMessage:t.pinMessage,unpinMessage:t.unpinMessage,isMessagePinned:Y,showReactions:b,user:t.user,intl:t.intl,onMediaFocus:t.onMediaFocus,filter:t.filter,hideTimestamps:t.hideTimestamps,embeddedType:g,allowPolls:t.allowPolls,rapidInstance:t.rapidInstance,readOnly:t.readOnly})),b?r().default.createElement("div",{className:(0,s().default)("Mstart(56px) Maw(300px)",{"Maw(100%)!":F})},r().default.createElement(o.default,{className:"Pstart(16px) Mt(8px)",chatObj:t.chatObj,message:t.message,metaArrays:N,user:v,addReaction:t.addReaction,removeReaction:t.removeReaction,openEmojiPicker:this.openEmojiPicker,canAddReaction:j,disableInteractions:w,memberMap:B,intl:t.intl})):null,Q?r().default.createElement(i().I13nButton,{className:"Mstart(56px) C(#0063eb) Px(16px) Py(8px) Cur(p) ".concat(y.default.noStyleButton),onClick:this.openMessageThread,"data-tst":"see-thread-replies",i13nModel:{slk:"open reply",sec:"league-chat",subsec:t.filter,elm:"cmmt_more",itc:"1"}},q.mostRepliedUsers.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r().default.createElement("img",{src:E["userTeamLogoUrl_"+e.userId]||l.default.DEFAULT_AVATAR,className:"Bdrs(50%) Va(m) Mend(-5px)",alt:"Profile",width:"24px",height:"24px",key:e.userId})})),r().default.createElement("span",{className:"Lh(24px) Fz(16px) EmbeddedDraft_Fz(13px) Mstart(12px) Va(m)"},r().default.createElement(a().FormattedMessage,{id:q.replyCount>1?"SEE_THREAD_REPLIES":"SEE_THREAD_REPLY",values:{num:q.replyCount}}))):null,K&&K.length&&!W&&!Z?r().default.createElement("div",{className:"W(100%) Ta(end) Pend(20px) Fz(12px) EmbeddedDraft_Fz(11px) C(grey-8) ChatDarkTheme_C(grey-secondary) Bxz(bb)"},r().default.createElement(d.default,{intl:t.intl,readReceiptIds:K,memberMap:B,isDirectMessage:t.isDirectMessage})):null)}}],g&&w(n.prototype,g),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,g}(r().Component);t.default=I,e.exports=t.default},92981:(e,t,n)=>{"use strict";function r(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=y(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));return r=function(){return e},e}function a(){var e=n(8604);return a=function(){return e},e}function i(){var e=m(n(46942));return i=function(){return e},e}function o(){var e=n(70356);return o=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=m(n(59344)),c=m(n(70992)),l=m(n(47580)),u=m(n(34908)),d=m(n(11189)),f=m(n(27598)),h=m(n(31821)),p=n(16310);function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function k(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}var S=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k(n=function(e,t,n){return t=b(t),function(e,t){if(t&&("object"==y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v()?Reflect.construct(t,n||[],b(e).constructor):t.apply(e,n))}(this,t,[e]),"getImageMaxSize",(function(){var e=n.props,t=e.isEmbed,r=e.embeddedType;return t&&"draft"===r?160:300})),k(n,"showFocusedImageMedia",(function(e){if(e&&e.url){n.setState({focusedImageMedia:e}),document.addEventListener("keydown",n.hideFocusedImageMedia,!1);var t=n.props.onMediaFocus;t&&t(!0)}})),k(n,"hideFocusedImageMedia",(function(e){if("Escape"===e.key||"click"===e.type){n.setState({focusedImageMedia:null}),document.removeEventListener("keydown",n.hideFocusedImageMedia,!1);var t=n.props.onMediaFocus;t&&t(!1)}})),n.state={dimensions:{width:"".concat(n.getImageMaxSize(),"px"),height:"".concat(n.getImageMaxSize(),"px")},focusedImageMedia:null},n.onImgLoad=n.onImgLoad.bind(n),n.onImageClick=n.onImageClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(t,e),n=t,d=[{key:"onImgLoad",value:function(e){var t=e.target,n=t.offsetWidth,r=t.offsetHeight,a=this.getImageMaxSize(),i=a/n,o=a/r,s=i<=o?i:o;s>1&&(s=1);var c=n*s,l=r*s;this.setState({dimensions:{height:l,width:c}})}},{key:"onImageClick",value:function(e){e&&e.preventDefault&&e.preventDefault(),this.showFocusedImageMedia(this.props.message)}},{key:"render",value:function(){var e,t=this,n=this.state,d=this.props,f=d.chatObj,h=void 0===f?{}:f,m=d.filter,_=d.embeddedType,y=d.isThread,g=d.allowPolls,v=n.focusedImageMedia,b=n.dimensions||{},w=b.width,k=b.height,E=d.isShow,S=d.isEmbed,I=d.firstName,M=d.teamName,O=d.message||{},A=O.messageType,N=O.customType;e=O.data?(0,s.default)(O.data)||{}:"";var P="file"===A&&O.url,x=d.focusedMediaOverride,D=[];if(O._poll)D=r().default.createElement(u.default,{chatObj:h,messageData:e,message:O,changeOverlay:this.props.changeOverlay,hideOverlay:this.props.hideOverlay,metadata:h.metaData,memberMap:this.props.memberMap,user:this.props.user,isEmbed:S,rapidInstance:this.props.rapidInstance,embeddedType:this.props.embeddedType,readOnly:this.props.readOnly,intl:this.props.intl,allowPolls:g});else if(T[N]){var U=T[N];D=r().default.createElement(U,{chatObj:h,messageData:e,message:O,changeOverlay:this.props.changeOverlay,hideOverlay:this.props.hideOverlay,metadata:h.metaData,memberMap:this.props.memberMap,user:this.props.user,isEmbed:S,rapidInstance:this.props.rapidInstance,embeddedType:this.props.embeddedType,readOnly:this.props.readOnly,intl:this.props.intl,filter:this.props.filter})}else!P&&O.message&&(D=O.message.split(" ").map((function(e,t){return n=e,new RegExp("^(https://|http://)","i").test(n)?r().default.createElement(o().I13nAnchor,{key:t+"message"+O.messageId,href:e,target:"_blank"},t?" "+e:e):r().default.createElement("span",{key:t+"message"+O.messageId},t?" "+e:e);var n})));return r().default.createElement("div",{className:"ysf-messagecontainer D(ib) Pos(r) Va(t) W(full-width-minus-image-width) Pstart(16px) EmbeddedDraft_Pstart(8px)"},E?S?r().default.createElement("div",{className:(0,i().default)("D(f) Fxd(c) Ai(fs) Jc(fs) Whs(nw) Cur(d) Mstart(1px)",{"Fxd(r)":"UPDATES"===m})},r().default.createElement("span",{className:"Fw(b) Fz(16px) EmbeddedDraft_Fz(13px) Ell"},I||null),r().default.createElement("span",{title:M||null,className:"Fz(14px) EmbeddedDraft_Fz(12px) C(grey-11) ChatDarkTheme_C(grey-secondary) Ell Mt(2px)"},M||null,!d.hideTimestamps&&r().default.createElement("span",{className:"Fz(14px) EmbeddedDraft_Fz(12px) C(grey-11) ChatDarkTheme_C(grey-secondary)",title:(0,p.getCreatedAtDateString)(O)}," - ",r().default.createElement(a().FormattedRelative,{value:O.createdAt})))):r().default.createElement("div",{className:"D(f) Ai(c) Jc(fs) Whs(nw) Cur(d)"},r().default.createElement("span",{title:I||null,className:"Fw(b) Fz(16px) EmbeddedDraft_Fz(13px) Ell"},I||null),r().default.createElement("span",{title:M||null,className:"Fz(14px) EmbeddedDraft_Fz(12px) C(grey-11) ChatDarkTheme_C(grey-secondary) Mstart(4px) Ell"},M||null),!d.hideTimestamps&&r().default.createElement("span",{className:"Fz(14px) EmbeddedDraft_Fz(12px) C(grey-11) ChatDarkTheme_C(grey-secondary)",title:(0,p.getCreatedAtDateString)(O)}," - ",r().default.createElement(a().FormattedRelative,{value:O.createdAt}))):null,d.hideOptions?null:r().default.createElement(c.default,{chatObj:h,message:O,showDeleteBtn:d.showDeleteBtn,showReportBtn:d.showReportBtn,deleteMessage:d.deleteMessage,showClosePollBtn:d.showClosePollBtn,openReportOverlay:d.openReportOverlay,openEmojiPicker:d.openEmojiPicker,canAddReaction:d.canAddReaction,canOpenThread:!O.parentMessageId&&d.showThreads,canPin:d.allowPins,openMessageThread:d.openMessageThread,pinMessage:d.pinMessage,unpinMessage:d.unpinMessage,isMessagePinned:d.isMessagePinned,intl:d.intl,changeOverlay:d.changeOverlay,hideOverlay:d.hideOverlay,filter:d.filter,embeddedType:d.embeddedType}),r().default.createElement("div",{className:(0,i().default)({"Mt(4px)":E&&"file"!==A,"Mt(8px)":E&&"file"===A})},P?r().default.createElement(C,{messageData:e,focusedMediaOverride:x,imageWidth:w,imageHeight:k,message:O,onImageClick:this.onImageClick,onImgLoad:this.onImgLoad}):O.message?r().default.createElement("div",{className:(0,i().default)("Wow(bw)","D(ib)","W(100%)","Fz(16px) EmbeddedDraft_Fz(13px)",{"Py(2px)":!E}),"data-tst":"message-text","data-hasmentions":!!(O.mentionedUsers&&O.mentionedUsers.length>0)||void 0,"data-isthread":y},D):null),r().default.createElement(r().default.Fragment,null,v&&"recentMessages"!==_?r().default.createElement(l.default,{imageRef:function(e){return t.mediaElement=e},hideFocusedImageMedia:this.hideFocusedImageMedia,intl:d.intl,message:v,user:d.user,fantasyMetadata:h.metaData,showFocusedImageMedia:this.showFocusedImageMedia,selectMessage:this.selectMessage,showReactions:d.showReactions,chatName:h.display_name,memberMap:h.memberMap}):null))}}],d&&g(n.prototype,d),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,d}(r().Component),C=function(e){var t=e.messageData,n=e.focusedMediaOverride,i=e.imageWidth,s=e.imageHeight,c=e.message,l=e.onImageClick,u=e.onImgLoad;return r().default.createElement("div",null,t.message?r().default.createElement("div",{className:"Wow(bw) Maw(100%) Fz(14px) EmbeddedDraft_Fz(12px) Py(2px)"},t.message):n?r().default.createElement("div",{className:"Fs(i) C(grey-8) ChatDarkTheme_C(grey-secondary) Pb(5px)"},r().default.createElement(a().FormattedMessage,{id:"SHARED_FILE"})):null,n?null:r().default.createElement(o().I13nDiv,{style:{width:i,height:s},className:"D(ib) Maw(100%) Cur(p)",onClick:l},r().default.createElement("img",{onLoad:u,onError:u,src:c.url,alt:c.name,width:"100%",className:"Bdrs(6px)"}),t.source?r().default.createElement("span",{className:"D(b) C(grey-8) CharDarkTheme_C(grey-secondary) Fz(11px) Ta(s)"},r().default.createElement(a().FormattedMessage,{id:"VIA_X",values:{source:t.source}})):null))},T={bot_draft_pick:h.default,bot_transaction_freeagent:d.default,bot_transaction_overnight:f.default};t.default=S,e.exports=t.default},81494:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var c=i?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(a,s,c):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(8604);return i=function(){return e},e}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=(0,i().injectIntl)((function(e){var t=e.intl,n=e.inputRef,r=e.name,i=e.keyPressHandler,o=e.clickHandler,s=e.onChangeHandler,c=e.textMessage;return(0,a().useEffect)((function(){n&&n.current&&n.current.focus()}),[n]),a().default.createElement("div",{className:"W(100%) D(f) Ai(c)"},a().default.createElement("textarea",{placeholder:t.formatMessage({id:"ADD_A_MESSAGE"}),rows:"1",ref:n,id:r,"data-testid":r,name:r,onKeyDown:function(e){return i(e,document.getElementById(r)?document.getElementById(r).selectionStart:void 0)},value:c,onClick:o?function(e){return o(e,document.getElementById(r).selectionStart)}:void 0,onChange:function(e){return s(e,document.getElementById(r)?document.getElementById(r).selectionStart:void 0)},className:"Bdrs(16px) Bdc(grey-9) P(5px) O(n) Bgc(grey-default) W(100%) Bds(s) Bdw(1px) Fz(14px) EmbeddedDraft_Fz(12px) C(black) M(0)! Bgc(grey-default) Px(12px) Mah(200px) Ovy(a) Rsz(n) ChatDarkTheme_Bgc(black) ChatDarkTheme_C(white)"}))})),e.exports=t.default},70992:(e,t,n)=>{"use strict";function r(){var e=p(n(96540));return r=function(){return e},e}function a(){var e=p(n(46942));return a=function(){return e},e}function i(){var e=n(72218);return i=function(){return e},e}function o(){var e=p(n(79751));return o=function(){return e},e}function s(){var e=p(n(68926));return s=function(){return e},e}function c(){var e=p(n(8017));return c=function(){return e},e}function l(){var e=p(n(2390));return l=function(){return e},e}function u(){var e=p(n(11832));return u=function(){return e},e}function d(){var e=p(n(93207));return d=function(){return e},e}function f(){var e=p(n(44892));return f=function(){return e},e}function h(){var e=n(70356);return h=function(){return e},e}function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){var t=e.canAddReaction,n=e.canOpenThread,p=e.canPin,m=e.openReportOverlay,_=e.showDeleteBtn,y=e.showReportBtn,g=e.deleteMessage,v=e.openEmojiPicker,b=e.openMessageThread,w=e.chatObj,k=e.message,E=e.pinMessage,S=e.unpinMessage,C=e.isMessagePinned,T=e.intl,I=e.hideOverlay,M=e.changeOverlay,O=e.showClosePollBtn,A=e.filter,N=e.embeddedType;if(!(t||_||n||p||y||O))return null;var P="draft"===N?"14":"17";return r().default.createElement("div",{className:"Va(t) Pos(a) H(36px) EmbeddedDraft_H(28px) End(-13px) T(-16px) Ta(e) D(n) P(2px) ysf-message:h_D(ib)! Bgc(white) Bdc(grey-9) Bdrs(8px) Bds(s) Bdw(1px) Z(1)","data-tst":"message-options"},t?r().default.createElement(h().I13nButton,{i13nModel:{elm:"MessageOptions",slk:"Add Emoji Button"},className:"H(100%) Bgc(grey-default):h Bgc(t) Va(m) Bd(n) Bdrs(8px) W(36px) EmbeddedDraft_W(28px)",onClick:v,"data-tst":"options-add-reaction-btn","data-testid":"options-add-reaction-btn_".concat(k.messageId),title:T.formatMessage({id:"ADD_REACTION"})},r().default.createElement(i().Icon,{asset:c().default,height:P,width:P,className:"My(4px)"})):null,n?r().default.createElement(h().I13nButton,{i13nModel:{elm:"MessageOptions",slk:"Open Thread"},className:"H(100%) Bgc(grey-default):h Bgc(t) Va(m) Bd(n) Bdrs(8px) W(36px) EmbeddedDraft_W(28px)",onClick:b,"data-tst":"options-open-thread-btn","data-testid":"options-open-thread-btn_".concat(k.messageId),title:T.formatMessage({id:"OPEN_THREAD"})},r().default.createElement(i().Icon,{asset:l().default,height:P,width:P,className:"My(4px)"})):null,p?r().default.createElement(h().I13nButton,{i13nModel:{slk:C?"unpin message":"pin message",sec:"league-chat",subsec:A,elm:"cmmt_pin",itc:"1"},className:(0,a().default)("H(100%) Bgc(grey-default):h Bgc(t) Va(m) Bd(n) Bdrs(8px) W(36px) EmbeddedDraft_W(28px)",{}),onClick:function(){return function(e,t,n,r,a){e?t(r,a):n(r,a)}(C,S,E,w,k)},"data-tst":C?"options-unpin-message-btn":"options-pin-message-btn","data-testid":C?"options-unpin-message-btn_".concat(k.messageId):"options-pin-message-btn_".concat(k.messageId),title:T.formatMessage({id:C?"UNPIN_MESSAGE":"PIN_MESSAGE"})},r().default.createElement(i().Icon,{asset:C?d().default:u().default,height:P,width:P,className:"My(4px)"})):null,_?r().default.createElement(h().I13nButton,{i13nModel:{slk:"chat_delete_message_click"},className:"H(100%) Bgc(grey-default):h Bgc(t) Va(m) Bdrs(8px) Bdw(0px) W(36px) EmbeddedDraft_W(28px)",onClick:g,"data-tst":"options-delete-message-btn","data-testid":"options-delete-message-btn_".concat(k.messageId),title:T.formatMessage({id:"DELETE_MESSAGE"})},r().default.createElement(i().Icon,{asset:o().default,height:P,width:P,className:"My(4px)"})):null,y?r().default.createElement(h().I13nButton,{i13nModel:{slk:"chat_report_message_click"},className:"H(100%) Bgc(grey-default):h Bgc(t) Va(m) Bdrs(8px) Bdw(0px) W(36px) EmbeddedDraft_W(28px)",onClick:m,"data-tst":"options-report-message-btn","data-testid":"options-report-message-btn_".concat(k.messageId),title:T.formatMessage({id:"REPORT_MESSAGE"})},r().default.createElement(i().Icon,{asset:s().default,height:P,width:P,className:"My(4px)"})):null,O?r().default.createElement(h().I13nButton,{i13nModel:{slk:"chat_report_message_click"},className:"H(100%) Bgc(grey-default):h Bgc(t) Va(m) Bdrs(8px) Bdw(0px) W(36px) EmbeddedDraft_W(28px)",onClick:function(){return function(e,t,n,r,a){e("CONFIRM_CLOSE_POLL",{hideOverlay:t,chatObj:n,pollId:r,intl:a})}(M,I,w,k._poll.id,T)},"data-tst":"close-poll-message-btn","data-testid":"close-poll-message-btn_".concat(k.messageId),title:"Close Poll"},r().default.createElement(i().Icon,{asset:f().default,height:P,width:P,className:"My(4px)"})):null)},e.exports=t.default},38011:(e,t,n)=>{"use strict";function r(){var e=l(n(96540));return r=function(){return e},e}function a(){var e=l(n(46942));return a=function(){return e},e}function i(){var e=l(n(79466));return i=function(){return e},e}function o(){var e=n(72218);return o=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=l(n(41345)),c=n(16310);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.hideOverlay,n=e.header,l=e.title,u=e.embeddedType;return r().default.createElement("div",{className:(0,a().default)("D(f) Pos(r) Ai(c) Cur(p) Bdbs(s) Bdbw(1px) Bdbc(grey-9) Bdrststart(6px) Bdrstend(6px) ChatDarkTheme_Bgc($c-fuji-grey-l) ChatDarkTheme_C(white)",{"Mih(60px)":"draft"!==u,"Mih(30px)":"draft"===u})},r().default.createElement("div",{className:"D(f) Fz(18px) EmbeddedDraft_Fz(15px) Fw(585) Ai(c) H(100%) Fw(b) W(95%) ",title:l},r().default.createElement("span",{className:"Ta(c) W(100%) H(100%) Ovx(h) Tov(e) Pstart(16px) D(f) Ai(c) Jc(c)"},n)),r().default.createElement("button",{className:(0,a().default)("O(n):f Mx(5px) Cur(p) ysf-close-chat Pos(a) T(0) End(0) Pend(10px) "+s.default.noStyleButton,{"Pt(10px)":"draft"!==u}),onClick:t},r().default.createElement(o().Icon,{role:"button",className:"Cur(p)!",color:(0,c.isDarkTheme)()?"white":"black",asset:i().default,height:"24",width:"24"})))},e.exports=t.default},53391:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var c=o?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(a,s,c):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){var t=(0,a().useRef)(null),n=e.children,r=e.hideOverlay;return(0,a().useEffect)((function(){var e=function(e){var n=t.current&&t.current.childNodes?t.current.childNodes[0]:null;n&&!n.contains(e.target)&&r()};return document.body.addEventListener("click",e),function(){document.body.removeEventListener("click",e)}}),[r]),a().default.createElement("div",{className:"Pos(a) T(0) B(0) Start(0) End(0) D(f) Jc(c) Ai(c) Bgc(bg-overlay) Ov(h)",ref:t,"data-testid":"overlay"},n)},e.exports=t.default},9890:(e,t,n)=>{"use strict";function r(){var e,t=(e=n(96540))&&e.__esModule?e:{default:e};return r=function(){return t},t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(16310);t.default=function(e){var t=e.metadata,n=e.member,i=void 0===n?{}:n,o=e.width,s=e.height;return r().default.createElement("img",{src:(0,a.getProfilePicture)(t,i),alt:"Profile",className:"Bdrs(50%)",width:o,height:s})},e.exports=t.default},1432:(e,t,n)=>{"use strict";function r(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=c(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));return r=function(){return e},e}function a(){var e,t=(e=n(46942))&&e.__esModule?e:{default:e};return a=function(){return t},t}function i(){var e=n(70356);return i=function(){return e},e}function o(){var e=n(8604);return o=function(){return e},e}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function h(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(n=function(e,t,n){return t=d(t),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}(this,t,[e]),"showTooltip",(function(){n.setState({showTooltip:!0})})),h(n,"hideTooltip",(function(){n.setState({showTooltip:!1})})),n.state={showTooltip:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),n=t,o=[{key:"render",value:function(){var e=this.props,t=e.reactionObj,n=e.addReaction,o=e.removeReaction,s=e.message,c=e.disableInteractions,l=this.state.showTooltip;return t&&t.emoji?r().default.createElement("span",{className:"Pos(r) D(ib)",onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip},l&&t.users?r().default.createElement("div",{className:"Px(16px) Fz(12px) EmbeddedDraft_Fz(11px) Bgc(black) C(white) Ta(c) Bds(n) Bdrs(5px) P(7px) Pos(a) B(33px) Z(1) Start(50%) TranslateX(-50%)","data-testid":"reactor-list-tooltip"},r().default.createElement(_,{reactionObj:t,memberMap:this.props.memberMap}),r().default.createElement("span",{className:"Pos(a) T(100%) Start(50%) Mstart(-5px) Bdw(5px) Bds(s) Bdtc(black) Bdbc(t) Bdstartc(t) Bdendc(t)"})):null,r().default.createElement("span",null,this.state.showTooltip),r().default.createElement(i().I13nButton,{i13nModel:{elm:"ReactionList",action:t.reactedByUser?"Removed":"Added",slk:"reaction"},"data-testid":"reaction-".concat(t.code),key:t.code,className:(0,a().default)("Miw(40px) H(23px) P(1px) Mb(4px) Cur(p) Bds(s) Bdw(t) Bdrs(20px) Ta(c) Mend(4px) D(f) Jc(c) Ai(c)",{"Bgc(grey-default) Bdc(blue-1a) ChatDarkTheme_Bdc(blue-1b) ysf-message:h_Bgc(white)!":t.reactedByUser,"Bgc(grey-default) Bdc(grey-default) ysf-message:h_Bgc(grey-reaction-hover)! ysf-message:h_Bdc(grey-reaction-hover)!":!t.reactedByUser}),onClick:c?null:t.reactedByUser?function(e){return o(e,t.code,s)}:function(e){return n(e,t.code,s)}},r().default.createElement("div",{className:"Fz(15px) Lh(20px) Mend(2px)--highRes Fz(13px)!--highRes D(ib) W(20px)"},t.emoji),r().default.createElement("span",{className:(0,a().default)("Fz(12px) EmbeddedDraft_Fz(11px) Va(tb)",{"C(blue-1a) ChatDarkTheme_C(blue-1b)":t.reactedByUser})},t.users?t.users.length:null))):null}}],o&&l(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(r().Component),_=function(e){var t=e.reactionObj,n=e.memberMap,a=void 0===n?{}:n,i=t.users.map((function(e){return a[e]&&a[e].nickname}));return t.users.map((function(e,t){var n=a[e];if(!n)return null;var s=n.nickname;return t===i.length-1&&i.length>1?r().default.createElement("div",{key:e,className:"Whs(nw)"},r().default.createElement(o().FormattedMessage,{id:"AND"})," ",s):r().default.createElement("div",{key:e,className:"Whs(nw)"},s,i.length<3&&t===i.length-2||1===i.length?"":",")}))};t.default=m,e.exports=t.default},16416:(e,t,n)=>{"use strict";function r(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=d(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));return r=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(24222));function i(){var e=n(70356);return i=function(){return e},e}function o(){var e=n(72218);return o=function(){return e},e}var s=l(n(1432));function c(){var e=l(n(8017));return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function _(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}var g=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_(n=function(e,t,n){return t=p(t),function(e,t){if(t&&("object"==d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}(this,t,[e]),"addReactionToMessage",(function(e,t,r){e&&e.stopPropagation();var a=n.props,i=a.chatObj,o=a.user,s=a.intl,c=a.rapidInstance,l=a.addReaction,u=o.userId;c&&c.beaconClick("fantasy-chat","chat_select_reaction_click"),l(i,r,t,u,s)})),_(n,"removeReactionFromMessage",(function(e,t,r){e&&e.stopPropagation();var a=n.props,i=a.chatObj,o=a.user,s=a.intl,c=o.userId;n.props.removeReaction(i,r,t,c,s)})),n.state={reactionList:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),n=t,l=[{key:"componentDidMount",value:function(){var e=this.props,t=e.metaArrays,n=e.user;if(t&&t.length){for(var r=n.userId,i=[],o=function(){var e=t[s].key,n=-1!==t[s].value.indexOf(r);if(e){var o=a.default.find((function(t){return"rxn_".concat(t.name)===e}));o&&i.push({emoji:o.char,code:e,users:t[s].value,reactedByUser:n})}},s=0;s<t.length;s++)o();this.setState({reactionList:i.sort((function(e,t){return e.users.length-t.users.length}))})}}},{key:"render",value:function(){var e=this.state.reactionList;if(!e||!e.length)return null;var t=this.props,n=t.intl,a=t.canAddReaction,l=t.openEmojiPicker,u=t.message,d=t.memberMap,f=t.disableInteractions,h=this.addReactionToMessage,p=this.removeReactionFromMessage,m=[];return e.forEach((function(e,t){e.emoji&&m.unshift(r().default.createElement(s.default,{key:e.code,intl:n,reactionObj:e,removeReaction:p,addReaction:h,message:u,memberMap:d,disableInteractions:f}))})),r().default.createElement("div",{className:this.props.className,"data-hasreactions":!(!e||!e.length)||void 0},m,a?r().default.createElement(i().I13nButton,{i13nModel:{elm:"ReactionList",slk:"Add Emoji Button"},className:"W(30px) H(23px) Va(b) P(1px) Mb(4px) Cur(p) D(ib) Bgc(grey-default) Bdc(grey-default) ysf-message:h_Bgc(grey-reaction-hover)! ysf-message:h_Bdc(grey-reaction-hover)! Bds(s) Bdw(t) Bdrs(10px) Ta(c) Mend(5px)",onClick:function(e){return l(e)},"data-tst":"add-reaction-button"},r().default.createElement(o().Icon,{asset:c().default,height:"18",width:"18",color:"#6e7780"})):null)}}],l&&f(n.prototype,l),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,l}(r().Component);t.default=g,e.exports=t.default},53319:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var c=i?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(a,o,c):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(72218);return i=function(){return e},e}function o(){var e,t=(e=n(91471))&&e.__esModule?e:{default:e};return o=function(){return t},t}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=d(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),n=t,(s=[{key:"render",value:function(){var e,t,n=this.props,r=n.isDirectMessage,s=n.readReceiptIds,c=void 0===s?[]:s,l=n.memberMap,u=n.intl,d=c.filter((function(e){return!!l[e]&&!((l[e]||{}).metaData||{}).isBot}));if(!d.length)return null;if(r)t=e=u.formatMessage({id:"SEEN"});else{var f=d.map((function(e){return l[e].nickname}));f.sort((function(e,t){return e.localeCompare(t,void 0,{sensitivity:"base"})}));var h=f.pop();t=f.length?u.formatMessage({id:"TERM1_AND_TERM2"},{term1:f.join(", "),term2:h}):h,e=f.length<3?t:u.formatMessage({id:"TERM1_AND_TERM2"},{term1:f.slice(0,2).join(", "),term2:u.formatMessage({id:"N_MORE"},{num:f.length-1})})}return a().default.createElement("span",{className:"ReadReceipt C(grey-8) ChatDarkTheme_C(grey-secondary) Fz(11px)"},a().default.createElement(i().Icon,{className:"",color:"#787d82",asset:o().default,height:"12",width:"12"}),a().default.createElement("span",{className:"Mstart(3px) ReadReceipt:h_D(n)!","data-testid":"receipt-read-list"},e),a().default.createElement("span",{className:"Mstart(3px) D(n) ReadReceipt:h_D(i)!","data-testid":"receipt-read-full-list"},t))}}])&&c(n.prototype,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,s}(a().Component);t.default=h,e.exports=t.default},57410:(e,t,n)=>{"use strict";function r(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));return r=function(){return e},e}function a(){var e=n(8604);return a=function(){return e},e}function i(){var e=n(70356);return i=function(){return e},e}function o(){var e=n(72218);return o=function(){return e},e}function s(){var e,t=(e=n(79466))&&e.__esModule?e:{default:e};return s=function(){return t},t}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function p(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var _=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(n=function(e,t,n){return t=f(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,n||[],f(e).constructor):t.apply(e,n))}(this,t,[e]),"updateReportingReason",(function(e){e&&e.target&&n.setState({reportingReason:e.target.value})})),p(n,"reportMessage",(function(){var e=n.state.reportingReason,t=n.props.selectedMessage||{},r=t.messageId,a=t.channelUrl;if(r&&a){var i=n.props,o=i.env,s=void 0===o?{}:o,c=i.user,l=void 0===c?{}:c,u=i.intl;n.props.reportMessage(r,a,e,s.env,l.crumb,u),n.props.hideOverlay()}})),n.state={reportingReason:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(t,e),n=t,c=[{key:"render",value:function(){var e=this,t=this.props.hideOverlay,n=this.state.reportingReason;return r().default.createElement("div",{className:"Bgc(white) Bdrs(3px) W(85%) Maw(500px) Mx(a) P(10px)"},r().default.createElement(i().I13nDiv,{i13nModel:{slk:"chat_close_block_overlay"},bindClickEvent:!0,className:"O(n):f Cur(p) Ta(e)",onClick:t},r().default.createElement(o().Icon,{role:"button",className:"Cur(p)!",color:"#787d82",asset:s().default,height:"15",width:"15"})),r().default.createElement("div",{className:"Fz(15px) Pb(7px) Ta(c) C($c-batcave)"},r().default.createElement(a().FormattedMessage,{id:"REPORT_MESSAGE"}),r().default.createElement("div",{className:"Pt(10px) Fz(11px)"},r().default.createElement(a().FormattedMessage,{id:"REASON_FOR_REPORTING"})),r().default.createElement("div",{className:"Pt(5px)"},r().default.createElement("input",{className:"Mx(a) W(95%) C(black)",onChange:function(t){return e.updateReportingReason(t)},type:"text",value:n,"data-testid":"report-input",id:"reportingReason"})),r().default.createElement("div",{className:"Ta(c) Pt(15px)"},r().default.createElement(i().I13nDiv,{i13nModel:{slk:"chat_report_message"},bindClickEvent:!0,onClick:function(){return e.reportMessage()},"data-testid":"report-button",className:"D(b) Cur(p) Bgc(#0078ff) Bgc(#3393ff):h Py(10px) Px(8px) W(70%) Mx(a) C(white) Bdrs(3px)"},r().default.createElement(a().FormattedMessage,{id:"REPORT"})))))}}],c&&u(n.prototype,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,c}(r().Component);t.default=_,e.exports=t.default},75454:(e,t,n)=>{"use strict";function r(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=y(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));return r=function(){return e},e}function a(){var e=m(n(46942));return a=function(){return e},e}function i(){var e=n(70356);return i=function(){return e},e}function o(){var e=n(8604);return o=function(){return e},e}function s(){var e=n(72218);return s=function(){return e},e}function c(){var e=m(n(2483));return c=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(37204),u=n(70197),d=m(n(70497)),f=m(n(41345)),h=n(16310);function p(){var e=m(n(72602));return p=function(){return e},e}function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function k(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}var S=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k(n=function(e,t,n){return t=b(t),function(e,t){if(t&&("object"==y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v()?Reflect.construct(t,n||[],b(e).constructor):t.apply(e,n))}(this,t,[e]),"blockSelectedUser",(function(e,t){var r=n.props,a=r.blockUser,i=r.intl;t&&a(t,i)})),k(n,"unBlockSelectedUser",(function(e,t){var r=n.props,a=r.unBlockUser,i=r.intl;t&&a(t,i)})),k(n,"showBotsOverlay",(function(){var e=n.props.chatObj,t=e.members,r=e.intl;n.props.changeOverlay("BOTS",{bots:(0,h.getBotsFromMembers)(t),blockSelectedUser:n.blockSelectedUser,unBlockSelectedUser:n.unBlockSelectedUser,intl:r})})),n.state={selectedUser:{}},n.showUserOverlay=n.showUserOverlay.bind(n),n.getOtherUserInChat=n.getOtherUserInChat.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(t,e),n=t,m=[{key:"showUserOverlay",value:function(e){(e.hasOwnProperty("isMe")&&!e.isMe||!(0,l.isUserMe)(e))&&this.props.changeOverlay("USER",{selectedUserId:e.userId})}},{key:"getOtherUserInChat",value:function(e){var t={};return e.some((function(e){return!((!e.hasOwnProperty("isMe")||e.isMe)&&(0,l.isUserMe)(e)||(t=e,0))})),t}},{key:"render",value:function(){var e=this,t=this,n=this.state,l=this.props.chatObj||{},m=l.metaData||{},_=l.members||[],y=(0,u.isLeagueChannel)(l),g=[],v=(y?n.selectedUser:this.getOtherUserInChat(_))||{},b=v.nickname,w=v.isBlockedByMe;return(_=(0,h.getRealUsersFromMembers)(_)).forEach((function(e){var n=e.userId||"",o=m["userTeamName_"+n]||"",l=m["userTeamLogoUrl_"+n]||d.default.DEFAULT_AVATAR,u=e.nickname,f=e.isBlockedByMe,h=(e.metaData||{}).isBot,p=e.plainProfileUrl||d.default.DEFAULT_AVATAR;g.push(r().default.createElement(i().I13nButton,{i13nModel:{slk:"chat_user_click"},bindClickEvent:!0,key:"memberrow-"+n,"data-tst":f?"settings-unblock-user-btn":"settings-block-user-btn",onClick:function(){return t.showUserOverlay(e)},className:(0,a().default)("D(b)","Py(8px)","Ta(s)","Px(5px)","Whs(nw)","Tov(e)","Ovx(h) W(100%) Bg(n) Bd(n) ",{"Bgc(hover-blue):h Cur(p)":!e.isMe})},r().default.createElement("div",{className:"D(ib) W(90%) Whs(nw) Tov(e) Ovx(h) Va(m)"},r().default.createElement("span",null,r().default.createElement("img",{alt:"Profile",className:"Bdrs(50%) Va(m)",src:y&&!h?l:p,width:"25px",height:"25px"})),r().default.createElement("span",{className:"Fw(b) Mx(5px) Va(m) Tov(e) ChatDarkTheme_C(white)"},u),y?r().default.createElement("span",{className:"Mend(3px) C(#787d82) Va(m)"},o):null),r().default.createElement("div",{className:"D(ib) W(10%) Ta(c) Va(m)"},f?r().default.createElement("span",null,r().default.createElement(s().Icon,{color:"#787d82",asset:c().default,height:"12",width:"12"})):null)))})),r().default.createElement("div",{className:"ysf-SettingsPanel ChatDarkTheme_Bgc($c-fuji-grey-l) ChatDarkTheme_C(white) H(100%) W(100%) Ovy(s) Py(5px) Bgc(white) Ovy(h) Pos(r)"},r().default.createElement("div",{className:"D(f) Fxd(c) Ta(c) Pt(10px)"},r().default.createElement("div",null,r().default.createElement("img",{alt:"Profile",className:"Bdrs(50%)",src:l.display_coverUrl,width:"75px",height:"75px"}),r().default.createElement("div",{className:"Pt(10px) Fz(16px)"},l.display_name),y?r().default.createElement("div",{className:"Fz(11px) C(#26282a) Pt(3px)"},_.length," Members"):null),y?r().default.createElement("div",{className:"Bdtw(1px) Bdtc(#787d82) Bdts(s) Mt(10px) Ovy(s)"},r().default.createElement("button",{className:"Bg(n) Bd(n) P(0) Cur(p) W(100%) H(40px) Bdbw(1px) Bdbc(#787d82) Bdbs(s) D(f) Jc(sb) Ai(c) Py(10px) Px(5px)",onClick:this.showBotsOverlay},r().default.createElement("span",{className:"D(f) Ai(c)"},r().default.createElement("img",{alt:"Profile",className:"Bdrs(50%) Va(m)",src:"https://s.yimg.com/cv/apiv2/fantasy/chat/bot.png",width:"25px",height:"25px"}),r().default.createElement("div",{className:"Fw(600) Mstart(5px) ChatDarkTheme_C(white)"},r().default.createElement(o().FormattedMessage,{id:"YAHOO_FANTASY_UPDATES"}))),r().default.createElement(s().Icon,{role:"button",className:"Cur(p)!",color:"black",asset:p().default,height:"20",width:"20"})),g):r().default.createElement("div",{className:"P(10px)"},r().default.createElement("div",{className:"Ta(c) Pt(7px)"},r().default.createElement(i().I13nButton,{i13nModel:{slk:"chat_info_block"},bindClickEvent:!0,"data-tst":w?"settings-unblock-user-btn":"settings-block-user-btn",onClick:w?function(t){return e.unBlockSelectedUser(t,v,b)}:function(t){return e.blockSelectedUser(t,v,b)},className:y?f.default.secondaryButton:f.default.primaryButton+" W(100%) Bg(n) Bd(n)"},r().default.createElement(o().FormattedMessage,{id:w?"UNBLOCK_USER_X":"BLOCK_USER_X",values:{userName:b}}))))))}}],m&&g(n.prototype,m),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,m}(r().Component);t.default=S,e.exports=t.default},28163:(e,t,n)=>{"use strict";function r(){var e=c(n(96540));return r=function(){return e},e}function a(){var e=c(n(91763));return a=function(){return e},e}function i(){var e=c(n(59092));return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(16310),s=c(n(42976));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.messageData,n=void 0===t?{}:t,c=e.metadata,l=e.memberMap;return r().default.createElement("div",{className:"D(f) Fxd(c) Jc(fs) Ai(c) P(5px)"},r().default.createElement("div",{className:"Fz(14px) EmbeddedDraft_Fz(12px) Pstart(25px) C(grey-11) ChatDarkTheme_C(grey-secondary) W(100%)"},(0,o.getNicknameWithTeamname)(n.teamId,c,l)),n&&n.pidAdd&&r().default.createElement(s.default,{name:n.pnameAdd,team:n.pteamAdd,position:n.ppositionAdd,iconColor:"#1ac567",icon:a().default}),n&&n.pidDrop&&r().default.createElement(s.default,{name:n.pnameDrop,team:n.pteamDrop,position:n.ppositionDrop,iconColor:"#f0162f",icon:i().default}))},e.exports=t.default},13398:(e,t,n)=>{"use strict";function r(){var e=d(n(96540));return r=function(){return e},e}function a(){var e=n(72218);return a=function(){return e},e}function i(){var e=d(n(79466));return i=function(){return e},e}function o(){var e=d(n(75528));return o=function(){return e},e}function s(){var e=d(n(46942));return s=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(16310),l=d(n(9890));function u(){var e=n(8604);return u=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.bids,n=void 0===t?[]:t,d=e.metadata,f=e.memberMap,h=e.hideOverlay,p=e.player,m=e.bidType,_=e.filter,y=n.length?n[0]:null;return m?r().default.createElement("div",{className:"Mih(80px) Bgc(white) ChatDarkTheme_Bgc($c-fuji-grey-l) W(85%) Bdrs(6px)"},r().default.createElement("div",{className:"D(f) Jc(c) Pos(r) H(50px) Ai(b) Cur(p) Bdbs(s) Bdbw(1px) Bdbc(grey-9) Bdrststart(6px) Bdrstend(6px)"},r().default.createElement("div",{className:"Pt(10px) D(f) Fxd(c) Ta(c)"},r().default.createElement("span",{className:"Fz(14px) EmbeddedDraft_Fz(12px) Fw(b)"},p),r().default.createElement("span",{className:"Fz(12px) EmbeddedDraft_Fz(11px) C(grey-11)"},n.length," waiver ","faab"===m?"offers":"claims")),r().default.createElement(o().default,{i13nModel:{slk:"hide offer",sec:"league-chat",subsec:_,elm:"cmmt_more",itc:"1"},bindClickEvent:!0,className:"O(n):f Mx(5px) Cur(p) ysf-close-chat Pos(a) T(0) End(0) Pt(10px) Pend(10px) ",onClick:h},r().default.createElement(a().Icon,{role:"button",className:"Cur(p)!",color:"black",asset:i().default,height:"24",width:"24"}))),n.length&&n.map((function(e){var t=e.teamId,n=e.bid,a=f[(0,c.getUserIdFromTeamIdAndMetadata)(t,d)];return r().default.createElement("div",{key:"".concat(t," bid or waiver"),className:"D(f) H(50px) P(5px) Jc(sb)"},r().default.createElement("div",{className:(0,s().default)("D(f)",{"W(85%)":"faab"===m,"W(75%)":"waiver"===m})},r().default.createElement(l.default,{width:"40px",height:"40px",member:a,metadata:d}),r().default.createElement("div",{className:"Pstart(5px) ChatDarkTheme_C(grey-secondary) D(f) Fxd(c) Jc(c)"},r().default.createElement("span",{className:"Fz(14px) EmbeddedDraft_Fz(12px)"},r().default.createElement("span",{className:"Fw(600)"},a.nickname),"faab"===m&&t!==y.teamId&&n===y.bid&&r().default.createElement("span",{className:"Fz(12px) EmbeddedDraft_Fz(11px) C(grey-11) Pstart(2px) ChatDarkTheme_C(grey-9)"},"(",r().default.createElement(u().FormattedMessage,{id:"LOWER_WAIVER_PRIORITY"}),")")),r().default.createElement("span",{className:"Fz(12px) EmbeddedDraft_Fz(11px) C(grey-11) ChatDarkTheme_C(grey-9)"},(0,c.getTeamnameFromTeamId)(t,d)))),"faab"===m&&r().default.createElement("div",{className:"W(15%) Tal(end) D(f) Ai(c) Jc(fe) ChatDarkTheme_C(white)"},"$",n),"waiver"===m&&r().default.createElement("div",{className:"W(25%) Tal(end) D(f) Ai(c) Jc(fe) ChatDarkTheme_C(white)"},r().default.createElement(u().FormattedMessage,{values:{number:n},id:"ORDINAL"})," ",r().default.createElement(u().FormattedMessage,{id:"PRIORITY"})))}))):null},e.exports=t.default},65631:(e,t,n)=>{"use strict";function r(){var e=u(n(96540));return r=function(){return e},e}function a(){var e=n(70356);return a=function(){return e},e}function i(){var e=u(n(91763));return i=function(){return e},e}function o(){var e=u(n(59092));return o=function(){return e},e}function s(){var e=u(n(46942));return s=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(16310),l=u(n(42976));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.messageData,n=void 0===t?{}:t,u=e.changeOverlay,d=e.metadata,f=e.memberMap,h=e.showMoreButtonText,p=e.bids,m=void 0===p?[]:p,_=e.bidType,y=e.filter,g=n.pnameAdd,v=void 0===g?"":g,b=n.pteamAdd,w=void 0===b?"":b,k=n.ppositionAdd,E=void 0===k?"":k,S=n.pnameDrop,C=void 0===S?"":S,T=n.pteamDrop,I=void 0===T?"":T,M=n.ppositionDrop,O=void 0===M?"":M,A=n.pidAdd,N=void 0===A?null:A,P=n.pidDrop,x=void 0===P?null:P,D=n.winningBid,U=void 0===D?void 0:D,L=n.winningTeamId,z=void 0===L?"":L;return r().default.createElement("div",{className:"Ai(c) P(5px)"},r().default.createElement("div",{className:"D(f)"},r().default.createElement("div",{className:(0,s().default)("D(f) Fxd(c) Jc(sb)",{"W(85%)":null!==U})},r().default.createElement("span",{className:"Fz(14px) EmbeddedDraft_Fz(12px) Pstart(25px) C(grey-11) ChatDarkTheme_C(grey-secondary) Ell"},(0,c.getNicknameWithTeamname)(z,d,f)),n&&N&&r().default.createElement(l.default,{name:v,team:w,position:E,iconColor:"#1ac567",icon:i().default}),n&&x&&r().default.createElement(l.default,{name:C,team:I,position:O,iconColor:"#f0162f",icon:o().default})),U&&r().default.createElement("div",{className:"W(15%) Tal(end) D(f) Ai(c) Jc(fe)"},"$",U)),h&&r().default.createElement(a().I13nButton,{i13nModel:{slk:"open offer",sec:"league-chat",subsec:y,elm:"cmmt_more",itc:"1"},className:"Pstart(25px) Fz(14px) EmbeddedDraft_Fz(12px) C(notification-color) Bg(n) Bd(n) P(0) Bgc(n) Cur(p)",onClick:function(){return function(e,t,n,r,a,i,o){e("FAAB_LOSING_BIDS",{bids:t,metadata:n,memberMap:r,player:a,bidType:i,filter:o})}(u,m,d,f,v,_,y)},"data-testid":"show-losing-bids-button"},h))},e.exports=t.default},25486:(e,t,n)=>{"use strict";function r(){var e=o(n(96540));return r=function(){return e},e}function a(){var e=n(8604);return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(65631));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t,n=e.messageData,o=void 0===n?{}:n,c=e.changeOverlay,l=e.metadata,u=e.memberMap,d=e.filter,f=o.winningBid,h=void 0===f?void 0:f,p=o.losingBids,m=void 0===p?[]:p,_=o.winningTeamId,y=[{bid:h,teamId:void 0===_?"":_}].concat(function(e){if(Array.isArray(e))return s(e)}(t=m)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return y.sort((function(e,t){return+t.bid-+e.bid})),r().default.createElement(i.default,{messageData:o,changeOverlay:c,metadata:l,memberMap:u,showMoreButtonText:r().default.createElement(a().FormattedMessage,{id:"NUM_OTHER_ITEMS",values:{num:m.length,item:"offer"}}),bids:y,bidType:"faab",filter:d})},e.exports=t.default},52112:(e,t,n)=>{"use strict";function r(){var e=i(n(96540));return r=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(65631));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t,n=e.messageData,i=void 0===n?{}:n,s=e.changeOverlay,c=e.metadata,l=e.memberMap,u=i.winningTeamId,d=void 0===u?"":u,f=i.winningPriority,h=void 0===f?void 0:f,p=i.losingPriorities,m=void 0===p?[]:p,_=m.map((function(e){return{bid:e.priority,teamId:e.teamId}})),y=[{bid:h,teamId:d}].concat(function(e){if(Array.isArray(e))return o(e)}(t=_)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());y.sort((function(e,t){return+e.bid-+t.bid}));var g="".concat(m.length," other claim").concat(m.length>1?"s":"");return r().default.createElement(a.default,{messageData:i,changeOverlay:s,metadata:c,memberMap:l,showMoreButtonText:g,bids:y,bidType:"waiver"})},e.exports=t.default},69388:(e,t,n)=>{"use strict";function r(){var e=s(n(96540));return r=function(){return e},e}function a(){var e=s(n(51238));return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(42976)),o=n(16310);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.name,n=e.team,o=e.position;return r().default.createElement(i.default,{key:"".concat(n,"-").concat(t,"-").concat(o),team:n,name:t,position:o,iconColor:"#0078FF",icon:a().default})};t.default=function(e){var t=e.messageData,n=e.metadata,a=e.memberMap;if(!(t&&t.pidsTradee&&t.pidsTradee.length&&t.pidsTrader&&t.pidsTrader.length))return null;var i=t.teamIdTrader,s=t.teamIdTradee;return r().default.createElement("div",null,r().default.createElement("span",{className:"Fz(14px) EmbeddedDraft_Fz(12px) Pstart(25px) C(grey-11) ChatDarkTheme_C(grey-secondary) D(ib)"},(0,o.getNicknameWithTeamname)(i,n,a)," received"),t.pidsTradee.map(c),r().default.createElement("span",{className:"Fz(14px) EmbeddedDraft_Fz(12px) Pstart(25px) C(grey-11) ChatDarkTheme_C(grey-secondary) D(ib)"},(0,o.getNicknameWithTeamname)(s,n,a)," received"),t.pidsTrader.map(c))},e.exports=t.default},42976:(e,t,n)=>{"use strict";function r(){var e,t=(e=n(96540))&&e.__esModule?e:{default:e};return r=function(){return t},t}function a(){var e=n(72218);return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){var t=e.name,n=e.team,i=e.position,o=e.iconColor,s=e.icon;return r().default.createElement("div",{className:"D(f) Ai(c) W(100%) P(5px)","data-testid":"transaction-line"},r().default.createElement(a().Icon,{className:"Cur(d)! Z(0)",color:o,asset:s,height:"15",width:"15"}),r().default.createElement("div",{className:"Fz(14px) EmbeddedDraft_Fz(12px) C(normal-black) ChatDarkTheme_C(grey-secondary) Pstart(5px) Fw(500)"},r().default.createElement("span",null,t)),r().default.createElement("div",{className:"Fz(12px) EmbeddedDraft_Fz(11px) C(grey-8) ChatDarkTheme_C(grey-secondary) Pstart(5px)"},r().default.createElement("span",null,n)," - ",r().default.createElement("span",null,i)))},e.exports=t.default},47330:(e,t,n)=>{"use strict";function r(){var e,t=(e=n(96540))&&e.__esModule?e:{default:e};return r=function(){return t},t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){var t=e.children;return r().default.createElement("div",{className:"ys-player W(100%) Bgc(grey-default) ChatDarkTheme_Bgc(dark-bubble-background) Bdrs(8px) Bds(s) Bdw(1px) Bdc(grey-secondary) Pos(r)"},t)},e.exports=t.default},27598:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(96540));return a=function(){return e},e}function i(){var e=n(8604);return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(n(6912)),s=l(n(47330));function c(){var e=n(70356);return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t=e.messageData,n=e.setShowAll,r=e.filter;return a().default.createElement(c().I13nButton,{className:"Pstart(25px) Fz(14px) EmbeddedDraft_Fz(12px) C(notification-color) Bg(n) Bd(n) P(0) Bgc(n) Cur(p)",onClick:function(){return n(!1)},i13nModel:{slk:"hide transaction",subsec:r,sec:"league-chat",elm:"cmmt_more",itc:"1"}},a().default.createElement(i().FormattedMessage,{id:"HIDE_NUM_ITEMS",values:{num:t.length-1,item:"transaction"}}))},h=function(e){var t=e.messageData,n=e.setShowAll,r=e.filter;return a().default.createElement(c().I13nButton,{className:"Pstart(25px) Fz(14px) EmbeddedDraft_Fz(12px) C(notification-color) Bg(n) Bd(n) P(0) Bgc(n) Cur(p)",onClick:function(){return n(!0)},i13nModel:{slk:"open transaction",subsec:r,sec:"league-chat",elm:"cmmt_more",itc:"1"}},a().default.createElement(i().FormattedMessage,{id:"VIEW_NUM_ITEMS",values:{num:t.length-1,item:"transaction"}}))};t.default=function(e){var t,n,r=e.message,i=e.messageData,c=void 0===i?[]:i,l=e.changeOverlay,u=e.metadata,p=e.memberMap,m=e.filter,_=(e.chatObj,t=(0,a().useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=_[0],g=_[1];return a().default.createElement(a().default.Fragment,null,a().default.createElement("div",{className:"Fz(16px) EmbeddedDraft_Fz(13px) Mb(5px)"},r&&r.message?r.message:""),a().default.createElement(s.default,null,a().default.createElement("div",{className:"Pt(5px) Pb(5px)"},y?a().default.createElement(a().default.Fragment,null,c.map((function(e,t){return a().default.createElement(o.default,{key:t,message:r,messageData:e,changeOverlay:l,metadata:u,memberMap:p,filter:m})})),c.length>1&&a().default.createElement(f,{messageData:c,setShowAll:g,filter:m})):a().default.createElement(a().default.Fragment,null,a().default.createElement(o.default,{message:r,messageData:c&&c[0]?c[0]:{},changeOverlay:l,metadata:u,memberMap:p,filter:m}),c.length>1&&a().default.createElement(h,{messageData:c,setShowAll:g,filter:m})))))},e.exports=t.default},11189:(e,t,n)=>{"use strict";function r(){var e=o(n(96540));return r=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(6912)),i=o(n(47330));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return r().default.createElement("div",null,r().default.createElement("div",{className:"Fz(16px) EmbeddedDraft_Fz(13px) Mb(5px)"},e.message&&e.message.message?e.message.message:""),r().default.createElement(i.default,null,r().default.createElement(a.default,e)))},e.exports=t.default},6912:(e,t,n)=>{"use strict";function r(){var e=c(n(96540));return r=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(28163)),i=c(n(69388)),o=c(n(25486)),s=c(n(52112));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.messageData,n=e.changeOverlay,c=e.metadata,l=e.memberMap,u=e.filter;if(t&&t.transactionType)switch(t.transactionType){case"bot_transaction_failed_waivers":return r().default.createElement(s.default,{messageData:t,changeOverlay:n,metadata:c,memberMap:l});case"bot_transaction_faab":return r().default.createElement(o.default,{messageData:t,changeOverlay:n,metadata:c,memberMap:l,filter:u});case"bot_transaction_completed_trade":return r().default.createElement(i.default,{messageData:t,metadata:c,memberMap:l});case"FM":case"bot_transaction_waiver_move":return r().default.createElement(a.default,{messageData:t,metadata:c,memberMap:l});default:return null}return null},e.exports=t.default},39978:(e,t,n)=>{"use strict";function r(){var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=f(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));return r=function(){return e},e}function a(){var e=n(8604);return a=function(){return e},e}function i(){var e=n(70356);return i=function(){return e},e}function o(){var e=n(72218);return o=function(){return e},e}function s(){var e=u(n(79466));return s=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=u(n(41345)),l=n(37204);function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function y(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}var v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(n=function(e,t,n){return t=m(t),function(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}(this,t,[e]),"blockSelectedUser",(function(e,t){t&&n.props.blockUserById(t.userId,n.props.intl)})),y(n,"unBlockSelectedUser",(function(e,t){t&&n.props.unBlockUserById(t.userId,n.props.intl)})),n.openNewDirectMessage=n.openNewDirectMessage.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(t,e),n=t,(u=[{key:"openNewDirectMessage",value:function(e){var t=(0,l.getMyUserObj)();if(e&&e.userId&&t&&t.userId){var n=e.nickname+" - "+t.nickname;this.props.startNewChat([e.userId,t.userId],n)}this.props.hideOverlay()}},{key:"render",value:function(){var e=this,t=this.props,n=t.chatObj||{},l=n.metaData||{},u=(n.memberMap||{})[t.selectedUserId]||{},d=u.userId||"",f=u.nickname,h=l["userTeamName_"+d],p=u.isBlockedByMe,m=u.metaData||{},_=!t.isEmbed&&!m.isBot;return r().default.createElement("div",{className:"Bgc(white) Bdrs(3px) W(85%) Mx(a) P(10px) Pos(r) Maw(400px)"},r().default.createElement(i().I13nButton,{i13nModel:{slk:"chat_close_block_overlay"},bindClickEvent:!0,className:"O(n):f Pos(a) T(0) End(0) Pt(10px) Pend(10px) Bg(n) Bd(n)",onClick:this.props.hideOverlay},r().default.createElement(o().Icon,{role:"button",className:"Cur(p)!",color:"#787d82",asset:s().default,height:"15",width:"15"})),r().default.createElement("div",{className:"Fz(13px) C(#787d82) Pb(7px) Ta(c) Maw(80%)! Mx(a) Ell Whs(nw)"},r().default.createElement("span",{className:"Mend(3px)"},f),r().default.createElement("span",null,"(",h,")")),_?r().default.createElement("div",{className:"Ta(c) Pt(7px)"},r().default.createElement(i().I13nButton,{i13nModel:{slk:"chat_open_direct_message_click"},bindClickEvent:!0,onClick:function(t){return e.openNewDirectMessage(u)},className:c.default.primaryButton,"data-tst":"modal-direct-message-btn","data-testid":"open-direct-message"},r().default.createElement(a().FormattedMessage,{id:"OPEN_DIRECT_MESSAGE"}))):null,r().default.createElement(b,{selectedUserName:f,isSelectedUserBlocked:p,selectedUser:u,blockSelectedUser:this.blockSelectedUser,unBlockSelectedUser:this.unBlockSelectedUser}))}}])&&h(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}(r().Component),b=function(e){var t=e.selectedUserName,n=e.isSelectedUserBlocked,o=e.selectedUser,s=e.unBlockSelectedUser,l=e.blockSelectedUser;return r().default.createElement("div",{className:"Ta(c) Pt(7px)"},r().default.createElement(i().I13nButton,{i13nModel:{slk:"chat_info_block"},bindClickEvent:!0,onClick:n?function(e){return s(e,o,t)}:function(e){return l(e,o,t)},className:n?c.default.successButton:c.default.errorButton,"data-testid":n?"unblock-user-button":"block-user-button"},r().default.createElement(a().FormattedMessage,{id:n?"UNBLOCK_USER_X":"BLOCK_USER_X",values:{userName:t}})))};t.default=v,e.exports=t.default},41345:e=>{"use strict";e.exports={primaryButton:"D(b) Cur(p) Bgc(#0078ff) Bdrs(3px) Bdw(1px) Bds(s) Bdc(#0078ff) C(#fff) Px(20px) Py(9px) Bgc(#3393ff):h C(#fff):h Td(n)! Ell W(100%)",secondaryButton:"D(b) Cur(p) Bgc(#fff) Bdrs(3px) Bdw(1px) Bds(s) Bdc(#0078ff) C(#0078ff) Px(20px) Py(9px) Bgc(#0078ff):h C(#fff):h Td(n)! Ell W(100%)",errorButton:"D(b) Cur(p) Bgc(#cc0e25) Bdrs(3px) Bdw(1px) Bds(s) Bdc(#cc0e25) C(#fff) Px(20px) Py(9px) Bgc(#db5666):h C(#fff):h Td(n)! Ell W(100%)",successButton:"D(b) Cur(p) Bgc(#00e15e) Bdrs(3px) Bdw(1px) Bds(s) Bdc(#00e15e) C(#fff) Px(20px) Py(9px) Bgc(#4cea8e):h C(#fff):h Td(n)! Ell W(100%)",chatHeaderWrapper:"Bgc(white) C(black) Px(10px) Va(m) H(35px) D(f)",chatPointer:"Pos(a) T(-15px) Start(110px) W(0px) H(0px) Bds(s) Bdc(t) Bdbc(normal-black) Bdendw(15px) Bdstartw(15px) Bdbw(15px)",chatListWrapper:"W(400px) Bdrs(16px) Bgc(white) Ov(h) Ta(s) Va(t) Pos(a) Z(2147483647) Bxsh(chat-list-box-shadow) D(n)!",unreadIndicator:"Anim(pulse) Z(2147483640) Pos(a) Pstart(1px) Va(m) Fw(b) Bgc(notification-color) Bdrs(50%) H(11px) W(11px) Fz(11px) C(white)",unreadIndicatorCount:"Z(2147483640) Pos(a) Fw(b) Bgc(notification-color-count) Bdrs(50%) W(17px) H(17px) P(2px) Fz(11px) C(white) D(f) Jc(c) Ai(c)",unreadIndicatorRed:"Z(2147483640) Pos(a) Va(m) Fw(b) Bgc(notification-color-count) Bdrs(50%) W(17px) H(17px) P(2px) Fz(11px) C(white)",noStyleButton:"Bg(n) C(i) Bd(n) P(0) Ta(start)"}},37211:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numRecentMessages=t.maxOptions=void 0,t.maxOptions=10,t.numRecentMessages=3},9496:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={environments:{default:{host:"data.mail.yahoo.com",rootPath:"/psearch/v3/",protocol:"https",credentials:"include",format:"json"}},resources:{items:{path:"items",defaults:{format:"json"},query:["appid","filetype","limit","query","source","wssid","ymreqid"]}}},e.exports=t.default},92671:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={environments:{default:{host:"pub-api-chat.fantasysports.yahoo.com",rootPath:"/chat/v1/",protocol:"https",credentials:"include",format:"json"},dev:{host:"fan-stage-bf1-4080.sports.yahoo.com",rootPath:"/chat/v1/",protocol:"https",credentials:"include",format:"json"}},resources:{user:{path:"users/{guid}/",defaults:{format:"json"},query:["provider"]},report:{path:"report_abuse",defaults:{format:"json"},query:["provider","crumb"]}}},e.exports=t.default},56628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(92671)),a=o(n(9496)),i=o(n(47565));function o(e){return e&&e.__esModule?e:{default:e}}t.default={fantasy:r.default,bootcamp:a.default,uploader:i.default},e.exports=t.default},47565:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={environments:{default:{host:"pub-api-uploader.sports.yahoo.com",rootPath:"/v1/",protocol:"https",credentials:"include",format:"json"},dev:{host:"pub-api-uploader.sports.yahoo.com",rootPath:"/v1/",protocol:"https",credentials:"include",format:"json"}},resources:{auth:{path:"user/auth",query:["upload_preset"]}}},e.exports=t.default},70497:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={MAX_OPEN_CHATS:2,CHAT_WIDTH_PIXELS:390,CHAT_SPACING_BETWEEN:10,RIGHT_PADDING:20,RIGHT_PADDING_FIXED:60,DEFAULT_AVATAR:"https://ct.yimg.com/cy/1768/39361574426_98028a_64sq.jpg",GIF_SOURCE:"www@tenor",GIF_APPID:"fantasy-sports-chat",GIF_FILETYPE:"gif",GIF_DEFAULTQUERY:"sports",SURVEY_LINK:"https://www.surveymonkey.com/r/YRT7Q3Y"},e.exports=t.default},55780:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.params,a=t.errorBeacon,i=e?d(e,t.env):{},o=n||f(i,r);return fetch(o,{credentials:i.credentials,mode:i.mode}).then(h).then((function(e){return"text"===i.format?e.text().then((function(e){return e.split("\n")})):e.json()})).catch((function(t){throw a&&a(e+".fail",o),console.warn("error",t),t}))},t.post=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.params,r=t.errorBeacon,a=d(e,t.env),i=f(a,n);return fetch(i,{credentials:a.credentials,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(h).then((function(e){return"text"===a.format?e.text().then((function(e){return e.split("\n")})):e.json()})).catch((function(t){throw r&&r(e+".fail",i),console.warn("error",t),t}))};var r=s(n(56628));function a(){var e=s(n(94263));return a=function(){return e},e}function i(){var e=s(n(78030));return i=function(){return e},e}function o(){var e=s(n(91019));return o=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(){l=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),s=new P(r||[]);return a(o,"_invoke",{value:M(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",m="suspendedYield",_="executing",y="completed",g={};function v(){}function b(){}function w(){}var k={};d(k,o,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(x([])));S&&S!==n&&r.call(S,o)&&(k=S);var C=w.prototype=v.prototype=Object.create(k);function T(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(a,i,o,s){var l=h(e[a],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==c(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function M(t,n,r){var a=p;return function(i,o){if(a===_)throw Error("Generator is already running");if(a===y){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=_;var l=h(t,n,r);if("normal"===l.type){if(a=r.done?y:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=y,r.method="throw",r.arg=l.arg)}}}function O(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=h(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(c(t)+" is not iterable")}return b.prototype=w,a(C,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:b,configurable:!0}),b.displayName=d(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,u,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},T(I.prototype),d(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new I(f(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(C),d(C,u,"Generator"),d(C,o,(function(){return this})),d(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=x,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;N(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function u(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function d(e,t){var n=e.split(".",2),a=r.default[n[0]],i=a.environments,o=a.resources[n[1]];return Object.assign({},i.default,i[t],o)}function f(e,t){var n=Object.assign({},e.defaults,t);return(0,a().default)({protocol:e.protocol,host:e.host,path:(e.rootPath||"")+(0,i().default)(e.path,n),query:(0,o().default)(n,e.query)})}function h(e){return p.apply(this,arguments)}function p(){var e;return e=l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.status>=200&&t.status<300)){e.next=4;break}return e.abrupt("return",t);case 4:return e.next=6,t.json();case 6:throw e.sent;case 8:case"end":return e.stop()}}),e)})),p=function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,s,"next",e)}function s(e){u(i,r,a,o,s,"throw",e)}o(void 0)}))},p.apply(this,arguments)}},56391:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){var t=Object.getPrototypeOf(e);return Object.create(t,Object.getOwnPropertyDescriptors(e))},e.exports=t.default},79919:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new Set(["matchup_challenge_bot"]);t.default=n,e.exports=t.default},46434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProfilePicture=t.default=void 0;var r,a=(r=n(70497))&&r.__esModule?r:{default:r},i=t.getProfilePicture=function(e,t){return e||(e={}),e["userTeamLogoUrl_"+t.userId]||(t.plainProfileUrl?t.plainProfileUrl:a.default.DEFAULT_AVATAR)};t.default=i},16310:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortMembers=t.isUserBot=t.isDarkTheme=t.getUserIdFromTeamIdAndMetadata=t.getTeamnameFromTeamId=t.getRealUsersFromMembers=t.getProfilePicture=t.getNicknameWithTeamname=t.getCreatedAtDateString=t.getBotsFromMembers=void 0;var r=i(n(70497)),a=i(n(79919));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.getProfilePicture=function(e,t){return e||(e={}),e["userTeamLogoUrl_"+t.userId]||(t.plainProfileUrl?t.plainProfileUrl:r.default.DEFAULT_AVATAR)};var s=/^userTeamId_([A-Za-z0-9]+)/,c=(t.getNicknameWithTeamname=function(e,t,n){var r=new Map;for(var a in t)if(s.test(a)){var i=a.match(s)[1],o=t["userTeamName_".concat(i)];r.set(t[a],{userId:i,teamName:o})}var c="";if(!r.get(e))return"";var l=r.get(e).userId,u=n[l]&&n[l].nickname;u&&(c+=u);var d=r.get(e).teamName;return d&&(c+=" (".concat(d,")")),c},t.getUserIdFromTeamIdAndMetadata=function(e,t){var n=/^userTeamId_([A-Za-z0-9]+)/;for(var r in t)if(n.test(r)){var a=r.match(n)[1];if(t[r]===e)return a}return null},t.getTeamnameFromTeamId=function(e,t){var n=/^userTeamId_([A-Za-z0-9]+)/;for(var r in t)if(n.test(r)){var a=r.match(n)[1];if(t[r]===e)return t["userTeamName_".concat(a)]}return null},t.isUserBot=function(e){return!(!e||!e.metaData||"1"!==e.metaData.isBot&&!0!==e.metaData.isBot&&1!==e.metaData.isBot)}),l=t.sortMembers=function(e){return(t=e,function(e){if(Array.isArray(e))return o(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort((function(e,t){return(e.nickname||"").localeCompare(t.nickname||"",void 0,{sensitivity:"base"})}));var t};t.getBotsFromMembers=function(e){return l(e.filter((function(e){return c(e)&&!a.default.has(e.userId)})))},t.getRealUsersFromMembers=function(e){return l(e.filter((function(e){return!c(e)&&!a.default.has(e.userId)})))},t.isDarkTheme=function(){return document.body.querySelectorAll(".ChatDarkTheme").length>0},t.getCreatedAtDateString=function(e){return e.createdAt?new Date(e.createdAt).toLocaleString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}):void 0}},62624:(e,t)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.testingExports=t.makeMentionsMarkup=t.iterateMentionsMarkup=t.insertMentionIntoText=t.getPlainTextFromMarkupText=t.getMentionUserIdsFromText=t.findStartOfMentionInPlainText=t.applyChangeToMarkupText=void 0;var r=/(@\[([^\]]+?)\]\(([^\)]+?)\))/g,a=function(e,t){return"@".concat(t||e)},i=(t.applyChangeToMarkupText=function(e,t,n,r,a){var o=t.slice(n,a),s=Math.min(n,a),c=r,l=i(e,s,"start"),u=i(e,c,"end");return"".concat(e.substring(0,l)).concat(o).concat(e.substring(u))},function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"start";return"number"!=typeof t?t:(o(e,(function(e,a,i,o){void 0===n&&i+o.length>t&&(n=null===r?null:a+("end"===r?e.length:0))}),(function(e,r,a){void 0===n&&a+e.length>=t&&(n=r+t-a)})),void 0===n?e.length:n)}),o=(t.getPlainTextFromMarkupText=function(e){var t="";return o(e,(function(e,n,r,a){t+=a}),(function(e){t+=e})),t},t.iterateMentionsMarkup=function(e,t){for(var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=0,s=0;null!==(n=r.exec(e));){var c=n[3],l=a(c,n[2]),u=e.substring(o,n.index);i(u,o,s),s+=u.length,t(n[0],n.index,s,l),s+=l.length,o=r.lastIndex}o<e.length&&i(e.substring(o),o,s)}),s=t.makeMentionsMarkup=function(e,t,n){return e.replace("__userId__",t).replace("__nickname__",n)};t.insertMentionIntoText=function(e,t,n,r){t=t?"".concat(t.slice(0,n)).concat(t.slice(n,t.length)):"",n=i(t,Math.max(n-1,0),"start"),r=i(t,r,"end");var a=e.nickname,o=e.userId,c=s("@[__nickname__](__userId__)",o,a);return"".concat(t.substring(0,n)).concat(c," ").concat(t.substring(r,t.length))},t.getMentionUserIdsFromText=function(e){var t,a=e.match(r);return a?function(e){if(Array.isArray(e))return n(e)}(t=new Set(a.map((function(e){return e.replace(r,"$3")}))))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():[]},t.findStartOfMentionInPlainText=function(e,t){var n=t,r=!1;if(o(e,(function(e,a,i,o){i<=t&&i+o.length>t&&(n=i,r=!0)})),r)return n},t.testingExports={displayTransform:a,getIndexFromPlainText:i,iterateMentionsMarkup:o}},21385:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPollClosed=t.isPollActive=t.getVoteTotal=void 0;var n=t.isPollClosed=function(e){return-1!==e.closeAt&&Math.floor(Date.now()/1e3)>=e.closeAt};t.isPollActive=function(e){return!n(e)},t.getVoteTotal=function(e){return e.options.reduce((function(e,t){return e+t.voteCount}),0)}},59344:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;try{t=JSON.parse(e)}catch(e){}return t},e.exports=t.default},37503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(70362),i=(r=n(56391))&&r.__esModule?r:{default:r};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={list:{},channelMessagesById:{},toutError:null,toutMsg:"",reloadChat:!1};t.default=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,r=arguments.length>1?arguments[1]:void 0,o=r.channelUrl,c=n.list,l=r.payload,d=(r.channel||{}).url,h=c[d]||[],p=u({},n.channelMessagesById);switch(r.type){case a.ADD_REACTION_SUCCESS:case a.CREATE_REACTION_SUCCESS:case a.REMOVE_REACTION_SUCCESS:case a.DELETE_REACTION_SUCCESS:case a.MESSAGE_UPDATED:var m=r.payload;p[d]||(p[d]={});var _=u({},p[d]);_[m.messageId]=m;var y=u({},p);return y[d]=_,u(u({},n),{},{channelMessagesById:y,toutError:!1});case a.BLOCK_USER:for(var g in p)if(p.hasOwnProperty(g)){var v=p[g];for(var b in v)if(v.hasOwnProperty(b)){var w=v[b];w.sender&&w.sender.userId===r.userId&&(w.sender.isBlockedByMe=!0)}}return u(u({},n),{},{toutError:!1,toutMsg:r.message,reloadChat:!0});case a.UNBLOCK_USER:for(var k in p)if(p.hasOwnProperty(k)){var E=p[k];for(var S in E)if(E.hasOwnProperty(S)){var C=E[S];C.sender&&C.sender.userId===r.userId&&(C.sender.isBlockedByMe=!1)}}return u(u({},n),{},{toutError:!1,toutMsg:r.message,reloadChat:!0});case a.BLOCK_USER_FAILURE:case a.ADD_REACTION_FAILURE:case a.REMOVE_REACTION_FAILURE:case a.CREATE_REACTION_FAILURE:case a.DELETE_REACTION_FAILURE:case a.ERROR:return u(u({},n),{},{toutError:!0,toutMsg:r.message});case a.CLOSE_CHAT_SUCCESS:return c[o]=[],u(u({},n),{},{list:c});case a.INIT_CHAT_SCREEN:return u(u({},n),f);case a.CREATE_CHAT_HANDLER_SUCCESS:case a.CREATE_CHAT_HANDLER_FAIL:return u({},n);case a.MESSAGE_LIST_SUCCESS:var T=r.messageList.map((function(e){var t=e.messageId,n=e.parentMessageId,r=e.parentMessage;return p[o]||(p[o]={}),p[o][t]=e,n&&r&&!p[o][n]&&(p[o][n]=r),t})),I=c[o]||[];return c[o]=(e=r.init?s(T):[].concat(s(I),s(T)),t={},e.filter((function(e){return!t[e]&&(t[e]=!0,!0)}))),u(u({},n),{},{list:c,channelMessagesById:p});case a.MESSAGE_LIST_FAIL:return u({},n);case a.MESSAGE_RECEIVED:var M=l.messageId;return c[d]=c[d]?[M].concat(s(c[d])):[],p[d]||(p[d]={}),p[d][M]=l,u(u({},n),{},{list:c,channelMessagesById:p});case a.DELETE_MESSAGE_SUCCESS:return u(u({},n),{},{toutError:!1,toutMsg:r.message});case a.DELETE_MESSAGE_FAILURE:return u(u({},n),{},{toutError:!0,toutMsg:r.message});case a.MESSAGE_DELETED:return c[d]=h.filter((function(e){return parseFloat(e)!==parseFloat(l)})),p[d][l]=void 0,u(u({},n),{},{list:c,channelMessagesById:p});case a.REPORT_MESSAGE_SUCCESS:return u(u({},n),{},{toutError:!1,toutMsg:r.message});case a.REPORT_MESSAGE_FAILURE:return u(u({},n),{},{toutError:!0,toutMsg:r.message});case a.POLL_VOTED:var O=r.pollEvent,A=r.channelUrl,N=p[A][O.messageId],P=(0,i.default)(N._poll);if(P.applyPollVoteEvent(O),N._poll=P,P){var x=u({},p[A]);x[O.messageId]=N;var D=u({},p);return D[A]=x,u(u({},n),{},{channelMessagesById:D,toutError:!1})}case a.POLL_UPDATED:var U=r.pollEvent,L=r.channelUrl,z=p[L][U.messageId],R=(0,i.default)(z._poll);if(R.applyPollUpdateEvent(U),z._poll=R,R){var j=u({},p[L]);j[U.messageId]=z;var F=u({},p);return F[L]=j,u(u({},n),{},{channelMessagesById:F,toutError:!1})}case a.RESET_TOUT:return u(u({},n),{},{toutError:null,toutMsg:"",reloadChat:!1});case a.MESSAGES_LOAD_SUCCESS:return r.messages.forEach((function(e){var t=e.messageId,n=e.parentMessageId,r=e.parentMessage;p[o]||(p[o]={}),p[o][t]=e,n&&r&&!p[o][n]&&(p[o][n]=r)})),u(u({},n),{},{channelMessagesById:p});case a.SEND_MESSAGE_SUCCESS:var B=r.message||{},H=B.messageId;return H&&(p[o]||(p[o]={}),p[o][H]=B,c[o]=c[o]?[H].concat(s(c[o])):[H]),u(u({},n),{},{list:c,channelMessagesById:p});case a.SEND_MESSAGE_FAIL:return u({},n);case a.THREAD_INFO_UPDATED:var G=r.payload,V=p[d][G.targetMessageId];return V&&V.applyThreadInfoUpdateEvent&&V.applyThreadInfoUpdateEvent(G),u(u({},n),{},{channelMessagesById:p,toutError:!1});case a.UNBLOCK_USER:return u(u({},n),{},{toutError:!1,toutMsg:r.message,reloadChat:!0});case a.UNBLOCK_USER_FAILURE:return u(u({},n),{},{toutError:!0,toutMsg:r.message});case a.UPLOAD_AUTH_ATTEMPT:return u(u({},n),{},{processingUpload:!0});case a.UPLOAD_FAILURE:case a.UPLOAD_AUTH_FAILURE:return u(u({},n),{},{toutError:!0,toutMsg:r.message,processingUpload:!1});case a.UPLOAD_SUCCESS:return u(u({},n),{},{processingUpload:!1});default:return n}},e.exports=t.default},86476:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(70362);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={env:"default"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return t.type===r.INIT_SUCCESS?o(o({},e),{},{env:t.env}):e},e.exports=t.default},48031:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(70362);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u={gifItems:[],extendUrl:"",queryText:""};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;if(t.type===a.GIF_LIST_SUCCESS){var n=e.queryText===t.queryText?[].concat(c(e.gifItems),c(t.gifItems)):t.gifItems;return o(o({},e),{},{gifItems:n,extendUrl:t.extendUrl,queryText:t.queryText})}return e},e.exports=t.default},35815:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=n(70362),o=(a=n(56391))&&a.__esModule?a:{default:a};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f={channels:{},channelsOrder:[],activeChats:[],error:null},h=function(e,t){var n;return n=e.filter((function(e){return e!==t})),[t].concat(u(n))};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r={},a=e.activeChats,s=e.channelsOrder,l=t.channel||{};l.firstLoad=!1;var d=t.channelUrl||l.url,p=e.channels;switch(t.type){case i.BLOCK_USER:var m=function(){if(!p.hasOwnProperty(_))return 1;var e=p[_],n=e.members,r=void 0===n?[]:n,a=e.memberMap,i=void 0===a?{}:a;r.forEach((function(e){e.userId===t.userId&&(e.isBlockedByMe=!0,i[e.userId]=c(c({},i[e.userId]),{},{isBlockedByMe:!0}))})),p[_]=(0,o.default)(e)};for(var _ in p)m();return c(c({},e),{},{channels:c({},p)});case i.UNBLOCK_USER:var y=function(){if(!p.hasOwnProperty(g))return 1;var e=p[g],n=e.members,r=void 0===n?[]:n,a=e.memberMap,i=void 0===a?{}:a;r.forEach((function(e){e.userId===t.userId&&(e.isBlockedByMe=!1,i[e.userId]=c(c({},i[e.userId]),{},{isBlockedByMe:!1}))})),p[g]=(0,o.default)(e)};for(var g in p)y();return c(c({},e),{},{channels:c({},p)});case i.NEW_GROUP_CHANNEL_LIST_SUCCESS:return c(c({},e),{},{channelsOrder:u(t.channelsOrder),channels:c(c({},e.channels),t.channels)});case i.GROUP_CHANNEL_LIST_SUCCESS:return c(c({},e),{},{channelsOrder:[].concat(u(e.channelsOrder),u(t.channelsOrder)),channels:c(c({},e.channels),t.channels)});case i.GROUP_CHANNEL_LIST_FAIL:return e;case i.OPEN_CHAT_SUCCESS:return Array.isArray(d)?c(c({},e),{},{activeChats:d}):(l.firstLoad=!0,l.isMinimized=!1,n=h(a,d),r[l.url]=l,c(c({},e),{},{channels:c(c({},e.channels),r),activeChats:u(n)}));case i.OPEN_CHAT_FAILURE:return e;case i.CLOSE_CHAT_SUCCESS:var v=a.filter((function(e){return e!==d}));return c(c({},e),{},{activeChats:v});case i.TOGGLE_CHAT_MINIMIZE_SUCCESS:return d&&e.channels&&e.channels[d]&&(e.channels[d].isMinimized=!e.channels[d].isMinimized),c(c({},e),{},{channels:c({},e.channels)});case i.START_NEW_CHAT_SUCCESS:var b=l||{};return r[b.url]=b,c(c({},e),{},{channels:c(c({},e.channels),r)});case i.SEND_MESSAGE_SUCCESS:return n=h(s,d),c(c({},e),{},{channelsOrder:u(n),channels:c(c({},e.channels),l)});case i.MESSAGE_RECEIVED:case i.MESSAGE_UPDATED:return n=h(s,d),r[l.url]=l,c(c({},e),{},{channelsOrder:u(n),channels:c(c({},e.channels),r)});case i.MARK_AS_READ:case i.LOAD_CHANNEL_SUCCESS:case i.PINNED_MESSAGES_UPDATED:return r[l.url]=l,c(c({},e),{},{channels:c(c({},e.channels),r)});case i.TYPING_STATUS_UPDATED:return d&&e.channels&&e.channels[d]&&(e.channels[d].typingMembers=t.payload),c(c({},e),{},{channels:c({},e.channels)});case i.LOAD_CHANNEL_FAILURE:return c(c({},e),{},{error:t.message});default:return d&&e.channels&&e.channels[d]?(e.channels[d].firstLoad=!!t.init,c(c({},e),{},{channels:c({},e.channels)})):e}},e.exports=t.default},28009:(e,t,n)=>{"use strict";function r(){var e=n(47459);return r=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n(98610)),i=u(n(35815)),o=u(n(37503)),s=u(n(86476)),c=u(n(48031)),l=u(n(43606));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r().combineReducers)({login:a.default,groupChannel:i.default,chat:o.default,env:s.default,gif:c.default,view:l.default}),e.exports=t.default},98610:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(70362);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={error:"",user:null,loggedIn:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.LOGIN_SUCCESS:return o(o({},e),{},{user:t.payload,loggedIn:!0});case r.LOGIN_FAIL:return o(o({},e),{},{error:t.payload,loggedIn:!1});case r.SET_WSSID:return o(o({},e),{},{wssid:t.payload});default:return e}},e.exports=t.default},43606:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(70362);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={views:{},condensedHeaders:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0,n=t.payload||{},a=e.views,i=a[n.chatUrl];switch(t.type){case r.CHANGE_FOCUSED_VIEW:return a[n.chatUrl]={currentView:n.view,viewData:n.data},o(o({},e),{},{views:a});case r.CHANGE_OVERLAY:return a[n.chatUrl]=o(o({},i),{},{currentOverlay:n.overlay,overlayData:n.data}),o(o({},e),{},{views:a});default:return e}},e.exports=t.default},1084:(e,t,n)=>{"use strict";function r(){var e,t=(e=n(40166))&&e.__esModule?e:{default:e};return r=function(){return t},t}function a(){var e=n(87067);return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.sbSendTextMessage=t.sbSendFileMessage=t.sbRemoveMessageMetaArrayValue=t.sbMessageSearchQuery=t.sbGetMessageList=t.sbDeleteMetaArrayKey=t.sbDeleteMessage=t.sbCreatePreviousMessageListQuery=t.sbCreateMetaArrayKey=t.sbAddMessageMetaArrayValue=void 0,t.sbCreatePreviousMessageListQuery=function(e,t){return new Promise((function(e,n){t?e(t.createPreviousMessageListQuery()):n("Channel is Undefined")}))},t.sbGetMessageList=function(e){return e.includeMetaArray=!0,new Promise((function(t,n){e.load(30,!0).then((function(e,r){r?n(r):t(e)}))}))},t.sbSendTextMessage=function(e,t,n,r,a,i,o,s,c){var l={};l.message=t,l.data=JSON.stringify(n),r&&(l.parentMessageId=r,l.isReplyToChannel=a),i&&i.length>0&&(l.mentionedUserIds=i),e.sendUserMessage(l).onSucceeded((function(e){o(e)})).onPending((function(e){s(e)})).onFailed((function(e){c(e)}))},t.sbSendFileMessage=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,c={};c.data=JSON.stringify(r),c.thumbnailSizes=[{maxWidth:160,maxHeight:160}],c.fileUrl=t,"gif"===n?(c.customType="gif",c.mimeType="image/gif",c.fileName="tenor.gif"):(c.customType=n,c.mimeType="image/"+n,c.fileName=t);var l=a.parentMessageId,u=a.isReplyToChannel,d=a.mentionedUserIds;l&&(c.parentMessageId=l,c.isReplyToChannel=u||!1,c.mentionedUserIds=d||[]),d&&d.length&&(c.mentionedUserIds=d&&d.length>0?d:void 0),e.sendFileMessage(c).onSucceeded((function(e){i(e)})).onPending((function(e){o(e)})).onFailed((function(e){s(e)}))},t.sbDeleteMessage=function(e,t,n,r){e.deleteMessage(t).then((function(){return n()})).catch((function(){return r}))},t.sbAddMessageMetaArrayValue=function(e,t,n,r,i){var o=[new(a().MessageMetaArray)({key:n,value:[r]})];e.addMessageMetaArrayValues(t,o).then((function(e){i(e)})).catch((function(e){return i({},e)}))},t.sbCreateMetaArrayKey=function(e,t,n,r){e.createMessageMetaArrayKeys(t,[n]).then((function(e){r(e)})).catch((function(e){return r({},e)}))},t.sbRemoveMessageMetaArrayValue=function(e,t,n,r,i){var o=[new(a().MessageMetaArray)({key:n,value:[r]})];e.removeMessageMetaArrayValues(t,o).then((function(e){i(e)})).catch((function(e){return i({},e)}))},t.sbDeleteMetaArrayKey=function(e,t,n,r){e.deleteMessageMetaArrayKeys(t,[n]).then((function(e){r(e)})).catch((function(e){return r({},e)}))},t.sbMessageSearchQuery=function(e,t){var n=r().default.instance,a={};return a.keyword=t,a.channelUrl=e.url,a.limit=20,a.exactMatch=!1,a.order="score",n.createMessageSearchQuery(a).next()}},44104:(e,t,n)=>{"use strict";function r(){var e,t=(e=n(40166))&&e.__esModule?e:{default:e};return r=function(){return t},t}Object.defineProperty(t,"__esModule",{value:!0}),t.sbMarkChannelAsTyping=t.sbMarkChannelAsRead=t.sbMarkChannelAsDoneTyping=t.sbGetGroupChannelList=t.sbGetChannelMetadata=t.sbGetChannelByUrl=t.sbCreateGroupChannelListQuery=t.sbCreateGroupChannel=void 0;var a=n(70197);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.sbCreateGroupChannelListQuery=function(){var e=(r().default.instance||{}).groupChannel,t=e?e.createMyGroupChannelListQuery():{};return t.includeEmpty=!0,t};var o=t.sbGetChannelMetadata=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.members||[],n={},r=[],a=[],i=t.reduce((function(e,t){var i=t.userId;return n[i]=t,t.metaData&&t.metaData.isBot?a.push(t.userId):r.push(t.userId),e.push("userTeamLogoUrl_"+i,"userTeamName_"+i,"userTeamId_"+i),e}),["leagueUrl"]);return e.memberMap=n,e.realUserIds=r,e.botIds=a,new Promise((function(t,n){e.getMetaData(i).then((function(e,r){r?n(r):t(e)}))}))};t.sbGetGroupChannelList=function(e){return new Promise((function(t,n){e.next().then((function(e){Promise.all(e.map((function(e){return new Promise((function(t){e=(0,a.sbSetupChannelDetails)(e),o(e).then((function(n){e.metaData=n,t(e)})).catch((function(e){return console.error(e)}))}))}))).then((function(e){return t(e)}))})).catch((function(e){return n(e)}))}))},t.sbCreateGroupChannel=function(e,t){var n=(r().default.instance||{}).groupChannel||{};return new Promise((function(r,o){var s;n.createChannelWithUserIds((s=e,function(e){if(Array.isArray(e))return i(e)}(s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),!0,t,"","","direct_message").then((function(e){e=(0,a.sbSetupChannelDetails)(e),r(e)})).catch((function(e){return o(e)}))}))},t.sbMarkChannelAsRead=function(e){return e?(e.markAsRead(),e.unreadMessageCount=0,e):{}},t.sbMarkChannelAsTyping=function(e){return e?(e.startTyping(),e):{}},t.sbMarkChannelAsDoneTyping=function(e){return e?(e.endTyping(),e):{}},t.sbGetChannelByUrl=function(e){var t=(r().default.instance||{}).groupChannel||{};return new Promise((function(n,r){t.getChannel(e).then((function(e){e=(0,a.sbSetupChannelDetails)(e),o(e).then((function(t){e.metaData=t,n(e)})).catch((function(e){return console.error(e)}))})).catch((function(e){return r(e)}))}))}},37204:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e,t=(e=n(40166))&&e.__esModule?e:{default:e};return a=function(){return t},t}function i(){i=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),s=new P(r||[]);return o(i,"_invoke",{value:M(e,n,s)}),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",m="suspendedYield",_="executing",y="completed",g={};function v(){}function b(){}function w(){}var k={};d(k,c,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(x([])));S&&S!==n&&a.call(S,c)&&(k=S);var C=w.prototype=v.prototype=Object.create(k);function T(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,s,c){var l=h(e[i],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function M(t,n,r){var a=p;return function(i,o){if(a===_)throw Error("Generator is already running");if(a===y){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=_;var l=h(t,n,r);if("normal"===l.type){if(a=r.done?y:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=y,r.method="throw",r.arg=l.arg)}}}function O(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=h(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(a.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=w,o(C,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=d(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,u,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},T(I.prototype),d(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new I(f(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(C),d(C,u,"Generator"),d(C,c,(function(){return this})),d(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=x,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;N(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function o(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){o(i,r,a,s,c,"next",e)}function c(e){o(i,r,a,s,c,"throw",e)}s(void 0)}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.sbUnBlockUserById=t.sbUnBlockUser=t.sbBlockUserById=t.sbBlockUser=t.isUserMe=t.getMyUserObj=void 0,t.sbBlockUser=function(){var e=s(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().default.instance,e.next=3,n.blockUser(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.sbBlockUserById=function(){var e=s(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().default.instance,e.next=3,n.blockUserWithUserId(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.sbUnBlockUser=function(){var e=s(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().default.instance,e.next=3,n.unblockUser(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.sbUnBlockUserById=function(){var e=s(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().default.instance,e.next=3,n.unblockUserWithUserId(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isUserMe=function(e){var t=a().default.instance;return(t&&t.currentUser||{}).userId===e.userId},t.getMyUserObj=function(){return a().default.instance.currentUser||{}}},53539:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){var e,t=(e=n(40166))&&e.__esModule?e:{default:e};return a=function(){return t},t}function i(){i=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),s=new P(r||[]);return o(i,"_invoke",{value:M(e,n,s)}),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",m="suspendedYield",_="executing",y="completed",g={};function v(){}function b(){}function w(){}var k={};d(k,c,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(x([])));S&&S!==n&&a.call(S,c)&&(k=S);var C=w.prototype=v.prototype=Object.create(k);function T(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,s,c){var l=h(e[i],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function M(t,n,r){var a=p;return function(i,o){if(a===_)throw Error("Generator is already running");if(a===y){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=_;var l=h(t,n,r);if("normal"===l.type){if(a=r.done?y:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=y,r.method="throw",r.arg=l.arg)}}}function O(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=h(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(a.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=w,o(C,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=d(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,u,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},T(I.prototype),d(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new I(f(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(C),d(C,u,"Generator"),d(C,c,(function(){return this})),d(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=x,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;N(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function o(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){o(i,r,a,s,c,"next",e)}function c(e){o(i,r,a,s,c,"throw",e)}s(void 0)}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.setVotersOnPoll=t.sbCreatePoll=void 0,t.sbCreatePoll=function(){var e=s(i().mark((function e(t,n,r,o,s,c){var l,u,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=a().default.instance||{},e.next=3,l.poll.create(n);case 3:(u=e.sent)&&u.id&&(d={message:n.title,pollId:u.id,isPinnedMessage:r},t.sendUserMessage(d).onSucceeded((function(e){o(e)})).onPending((function(e){s(e)})).onFailed((function(e){c(e)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}(),t.setVotersOnPoll=function(){var e=s(i().mark((function e(t,n,r){var o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a().default.instance||{},e.next=3,Promise.all(t.options.map((function(e){return o.createPollVoterListQuery({channelUrl:n,channelType:r,pollId:t.id,pollOptionId:e.id}).next()})));case 3:return s=e.sent,t.options.forEach((function(e,t){var n=s[t];e.voters=n.sort((function(e,t){return e.nickname.localeCompare(t.nickname)}))})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},89457:(e,t,n)=>{"use strict";function r(){var e,t=(e=n(40166))&&e.__esModule?e:{default:e};return r=function(){return t},t}function a(){var e=n(99613);return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.sbConnect=void 0,t.sbConnect=function(e,t,n){return new Promise((function(i,o){r().default.init({appId:n,modules:[new(a().GroupChannelModule)]}).connect(e,t).then((function(e){i(e)})).catch((function(e){o(e)}))}))}},70197:(e,t,n)=>{"use strict";function r(){var e=s(n(40166));return r=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.sbSetupChannelDetails=t.sbAreMessagesTenMinsApart=t.sbAdjustMessageList=t.mapMessagesFromMessageIds=t.isLeagueChannel=t.getChatName=void 0;var a=n(37204),i=s(n(70497)),o=n(62662);function s(e){return e&&e.__esModule?e:{default:e}}var c=t.sbAreMessagesTenMinsApart=function(e,t){var n=new Date(e.createdAt),r=new Date(t.createdAt),a=Math.abs(n-r);return Math.floor(a/1e3/60)<10},l=t.sbAdjustMessageList=function(e){return e.map((function(t,n){if(!t)return t;if((t.sender||t.parentMessageId)&&(t.sender.isShow=!0),t.isUserMessage()||t.isFileMessage()){var a=r().default.instance;t.isUser=t.sender.userId===a.currentUser.userId}else t.isUser=!1;if(n<e.length-1){var i=e[n+1];(t.isUserMessage()||t.isFileMessage())&&i&&(i.isUserMessage()||i.isFileMessage())&&i.sender.userId===t.sender.userId&&c(i,t)&&(t.sender.isShow=!1)}return t}))},u=t.getChatName=function(e){if("league"===e.customType)return e.name;var t=e.members,n=e.name;return t.forEach((function(e){e.isMe||(n=e.nickname)})),n};t.mapMessagesFromMessageIds=function(e,t){var n={};return Object.keys(e).forEach((function(r){var a=e[r]||[],i=t[r]||{},o=a.map((function(e){return i[e]}));n[r]=l(o)})),n},t.sbSetupChannelDetails=function(e){var t=e.members||[],n=((0,o.getChatsMapFromLocalStorage)()[e.url]||{}).isMinimized||!1;return t.map((function(t){var n=t;return n.isMe=(0,a.isUserMe)(t),n.isMe?(e.display_coverUrl||(e.display_coverUrl=e.coverUrl?e.coverUrl:i.default.DEFAULT_AVATAR),n):(e.display_coverUrl="league"!==e.customType?n.plainProfileUrl?n.plainProfileUrl:i.default.DEFAULT_AVATAR:e.coverUrl?e.coverUrl:i.default.DEFAULT_AVATAR,n)})),e.members=t,e.display_name=u(e),e.isMinimized=n,e},t.isLeagueChannel=function(e){return e.customType&&"league"===e.customType}},22831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return c.default}});var r=f(n(13518)),a=f(n(14948)),i=f(n(45073)),o=f(n(77186)),s=f(n(14808)),c=f(n(7775)),l=f(n(37037)),u=f(n(49910)),d=f(n(96792));function f(e){return e&&e.__esModule?e:{default:e}}},22311:(e,t)=>{"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function r(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t,n,a,i,o){return r((s=r(r(t,e),r(a,o)))<<(c=i)|s>>>32-c,n);var s,c}function i(e,t,n,r,i,o,s){return a(t&n|~t&r,e,t,i,o,s)}function o(e,t,n,r,i,o,s){return a(t&r|n&~r,e,t,i,o,s)}function s(e,t,n,r,i,o,s){return a(t^n^r,e,t,i,o,s)}function c(e,t,n,r,i,o,s){return a(n^(t|~r),e,t,i,o,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){const t=[],n=32*e.length,r="0123456789abcdef";for(let a=0;a<n;a+=8){const n=e[a>>5]>>>a%32&255,i=parseInt(r.charAt(n>>>4&15)+r.charAt(15&n),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let a=1732584193,l=-271733879,u=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const n=a,f=l,h=u,p=d;a=i(a,l,u,d,e[t],7,-680876936),d=i(d,a,l,u,e[t+1],12,-389564586),u=i(u,d,a,l,e[t+2],17,606105819),l=i(l,u,d,a,e[t+3],22,-1044525330),a=i(a,l,u,d,e[t+4],7,-176418897),d=i(d,a,l,u,e[t+5],12,1200080426),u=i(u,d,a,l,e[t+6],17,-1473231341),l=i(l,u,d,a,e[t+7],22,-45705983),a=i(a,l,u,d,e[t+8],7,1770035416),d=i(d,a,l,u,e[t+9],12,-1958414417),u=i(u,d,a,l,e[t+10],17,-42063),l=i(l,u,d,a,e[t+11],22,-1990404162),a=i(a,l,u,d,e[t+12],7,1804603682),d=i(d,a,l,u,e[t+13],12,-40341101),u=i(u,d,a,l,e[t+14],17,-1502002290),l=i(l,u,d,a,e[t+15],22,1236535329),a=o(a,l,u,d,e[t+1],5,-165796510),d=o(d,a,l,u,e[t+6],9,-1069501632),u=o(u,d,a,l,e[t+11],14,643717713),l=o(l,u,d,a,e[t],20,-373897302),a=o(a,l,u,d,e[t+5],5,-701558691),d=o(d,a,l,u,e[t+10],9,38016083),u=o(u,d,a,l,e[t+15],14,-660478335),l=o(l,u,d,a,e[t+4],20,-405537848),a=o(a,l,u,d,e[t+9],5,568446438),d=o(d,a,l,u,e[t+14],9,-1019803690),u=o(u,d,a,l,e[t+3],14,-187363961),l=o(l,u,d,a,e[t+8],20,1163531501),a=o(a,l,u,d,e[t+13],5,-1444681467),d=o(d,a,l,u,e[t+2],9,-51403784),u=o(u,d,a,l,e[t+7],14,1735328473),l=o(l,u,d,a,e[t+12],20,-1926607734),a=s(a,l,u,d,e[t+5],4,-378558),d=s(d,a,l,u,e[t+8],11,-2022574463),u=s(u,d,a,l,e[t+11],16,1839030562),l=s(l,u,d,a,e[t+14],23,-35309556),a=s(a,l,u,d,e[t+1],4,-1530992060),d=s(d,a,l,u,e[t+4],11,1272893353),u=s(u,d,a,l,e[t+7],16,-155497632),l=s(l,u,d,a,e[t+10],23,-1094730640),a=s(a,l,u,d,e[t+13],4,681279174),d=s(d,a,l,u,e[t],11,-358537222),u=s(u,d,a,l,e[t+3],16,-722521979),l=s(l,u,d,a,e[t+6],23,76029189),a=s(a,l,u,d,e[t+9],4,-640364487),d=s(d,a,l,u,e[t+12],11,-421815835),u=s(u,d,a,l,e[t+15],16,530742520),l=s(l,u,d,a,e[t+2],23,-995338651),a=c(a,l,u,d,e[t],6,-198630844),d=c(d,a,l,u,e[t+7],10,1126891415),u=c(u,d,a,l,e[t+14],15,-1416354905),l=c(l,u,d,a,e[t+5],21,-57434055),a=c(a,l,u,d,e[t+12],6,1700485571),d=c(d,a,l,u,e[t+3],10,-1894986606),u=c(u,d,a,l,e[t+10],15,-1051523),l=c(l,u,d,a,e[t+1],21,-2054922799),a=c(a,l,u,d,e[t+8],6,1873313359),d=c(d,a,l,u,e[t+15],10,-30611744),u=c(u,d,a,l,e[t+6],15,-1560198380),l=c(l,u,d,a,e[t+13],21,1309151649),a=c(a,l,u,d,e[t+4],6,-145523070),d=c(d,a,l,u,e[t+11],10,-1120210379),u=c(u,d,a,l,e[t+2],15,718787259),l=c(l,u,d,a,e[t+9],21,-343485551),a=r(a,n),l=r(l,f),u=r(u,h),d=r(d,p)}return[a,l,u,d]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))}},46140:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=n},14808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},96792:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(37037))&&r.__esModule?r:{default:r};t.default=function(e){if(!(0,a.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}},27656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},2858:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)};const r=new Uint8Array(16)},9042:(e,t)=>{"use strict";function n(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],a=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const i=e.length/4+2,o=Math.ceil(i/16),s=new Array(o);for(let t=0;t<o;++t){const n=new Uint32Array(16);for(let r=0;r<16;++r)n[r]=e[64*t+4*r]<<24|e[64*t+4*r+1]<<16|e[64*t+4*r+2]<<8|e[64*t+4*r+3];s[t]=n}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<o;++e){const i=new Uint32Array(80);for(let t=0;t<16;++t)i[t]=s[e][t];for(let e=16;e<80;++e)i[e]=r(i[e-3]^i[e-8]^i[e-14]^i[e-16],1);let o=a[0],c=a[1],l=a[2],u=a[3],d=a[4];for(let e=0;e<80;++e){const a=Math.floor(e/20),s=r(o,5)+n(a,c,l,u)+d+t[a]+i[e]>>>0;d=u,u=l,l=r(c,30)>>>0,c=o,o=s}a[0]=a[0]+o>>>0,a[1]=a[1]+c>>>0,a[2]=a[2]+l>>>0,a[3]=a[3]+u>>>0,a[4]=a[4]+d>>>0}return[a[0]>>24&255,a[0]>>16&255,a[0]>>8&255,255&a[0],a[1]>>24&255,a[1]>>16&255,a[1]>>8&255,255&a[1],a[2]>>24&255,a[2]>>16&255,a[2]>>8&255,255&a[2],a[3]>>24&255,a[3]>>16&255,a[3]>>8&255,255&a[3],a[4]>>24&255,a[4]>>16&255,a[4]>>8&255,255&a[4]]}},49910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=o;var r,a=(r=n(37037))&&r.__esModule?r:{default:r};const i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function o(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}t.default=function(e,t=0){const n=o(e,t);if(!(0,a.default)(n))throw TypeError("Stringified UUID is invalid");return n}},13518:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(2858))&&r.__esModule?r:{default:r},i=n(49910);let o,s,c=0,l=0;t.default=function(e,t,n){let r=t&&n||0;const u=t||new Array(16);let d=(e=e||{}).node||o,f=void 0!==e.clockseq?e.clockseq:s;if(null==d||null==f){const t=e.random||(e.rng||a.default)();null==d&&(d=o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=s=16383&(t[6]<<8|t[7]))}let h=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:l+1;const m=h-c+(p-l)/1e4;if(m<0&&void 0===e.clockseq&&(f=f+1&16383),(m<0||h>c)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,l=p,s=f,h+=122192928e5;const _=(1e4*(268435455&h)+p)%4294967296;u[r++]=_>>>24&255,u[r++]=_>>>16&255,u[r++]=_>>>8&255,u[r++]=255&_;const y=h/4294967296*1e4&268435455;u[r++]=y>>>8&255,u[r++]=255&y,u[r++]=y>>>24&15|16,u[r++]=y>>>16&255,u[r++]=f>>>8|128,u[r++]=255&f;for(let e=0;e<6;++e)u[r+e]=d[e];return t||(0,i.unsafeStringify)(u)}},14948:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(59025)),a=i(n(22311));function i(e){return e&&e.__esModule?e:{default:e}}var o=(0,r.default)("v3",48,a.default);t.default=o},59025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,n){function r(e,r,o,s){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=(0,i.default)(r)),16!==(null===(c=r)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+e.length);if(l.set(r),l.set(e,r.length),l=n(l),l[6]=15&l[6]|t,l[8]=63&l[8]|128,o){s=s||0;for(let e=0;e<16;++e)o[s+e]=l[e];return o}return(0,a.unsafeStringify)(l)}try{r.name=e}catch(e){}return r.DNS=o,r.URL=s,r};var r,a=n(49910),i=(r=n(96792))&&r.__esModule?r:{default:r};const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=o;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},45073:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(46140)),a=o(n(2858)),i=n(49910);function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();const o=(e=e||{}).random||(e.rng||a.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return(0,i.unsafeStringify)(o)}},77186:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(59025)),a=i(n(9042));function i(e){return e&&e.__esModule?e:{default:e}}var o=(0,r.default)("v5",80,a.default);t.default=o},37037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(27656))&&r.__esModule?r:{default:r};t.default=function(e){return"string"==typeof e&&a.default.test(e)}},7775:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(37037))&&r.__esModule?r:{default:r};t.default=function(e){if(!(0,a.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},45209:()=>{},28890:()=>{},98264:()=>{},37425:(e,t,n)=>{"use strict";n.d(t,{A:()=>Pe,B:()=>G,C:()=>Me,D:()=>d,E:()=>A,F:()=>r,G:()=>N,H:()=>P,I:()=>x,J:()=>He,K:()=>rt,M:()=>F,N:()=>l,O:()=>z,P:()=>nt,R:()=>I,U:()=>v,a:()=>u,b:()=>f,c:()=>h,d:()=>p,e:()=>m,f:()=>at,g:()=>O,h:()=>M,i:()=>w,j:()=>_,k:()=>S,l:()=>y,m:()=>E,n:()=>k,o:()=>c,p:()=>de,q:()=>ee,r:()=>Ee,s:()=>g,t:()=>we,u:()=>ve,v:()=>b,w:()=>me,x:()=>ye,y:()=>De,z:()=>Ae});var r,a,i=n(35115),o=n(93872),s=n(63582),c=100,l="GroupChannel",u="url",d=100,f="Message",h="messageId",p="Poll",m="pollId",_={data:null,customType:null,mentionType:i.a0.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,parentMessageId:null,isReplyToChannel:!1,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null,isPinnedMessage:!1},y=function(e){return(0,i.a)("string",e.data,!0)&&(0,i.a)("string",e.customType,!0)&&(0,i.I)(i.a0,e.mentionType)&&(0,i.l)("string",e.mentionedUserIds,!0)&&(0,i.l)(i.U,e.mentionedUsers,!0)&&(0,i.a)("string",e.mentionedMessageTemplate,!0)&&(0,i.l)(o.c,e.metaArrays,!0)&&(0,i.a)("number",e.parentMessageId,!0)&&(0,i.a)("boolean",e.isReplyToChannel)&&(0,i.I)(i.a5,e.pushNotificationDeliveryOption,!0)&&(0,i.a)(o.A,e.appleCriticalAlertOptions,!0)&&(0,i.a)("boolean",e.isPinnedMessage,!0)},g=function(e){return e?{isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption,pollId:e.pollId}:null},v=(0,i.g)((0,i.g)({},_),{message:null,translationTargetLanguages:null,pollId:null}),b=function(e){return y(e)&&(0,i.a)("string",e.message)&&(0,i.l)("string",e.translationTargetLanguages,!0)&&(0,i.a)("number",e.pollId,!0)};(a=r||(r={})).FILE="file",a.BLOB="blob",a.BLOB_LIKE_OBJECT="blobLikeObject",a.URL="url";var w,k=function(e){return"undefined"!=typeof window&&"Blob"in window&&"undefined"!=typeof Blob&&e instanceof Blob},E=function(e){return e===r.BLOB||e===r.FILE},S=function(e){return e?{file:e.file,fileKey:e.fileKey,fileType:e.fileType,isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption}:null},C=(0,i.g)((0,i.g)({},_),{file:null,fileKey:null,fileUrl:null,fileName:null,fileType:null,fileSize:null,mimeType:null,thumbnailSizes:null,requireAuth:!1}),T=function(e){return y(e)&&((0,i.i)(e.file)||(0,i.a)("string",e.fileUrl))&&(0,i.a)("string",e.fileName,!0)&&(0,i.a)("string",e.mimeType,!0)&&(0,i.a)("number",e.fileSize,!0)&&(null===e.thumbnailSizes||Array.isArray(e.thumbnailSizes)&&e.thumbnailSizes.every((function(e){return(0,i.a)("object",e)&&e.maxWidth>0&&e.maxHeight>0})))};!function(e){e.MUTED="muted",e.BANNED="banned"}(w||(w={}));var I,M=function(){function e(e){var t,n,r,a;this.restrictionType=null,this.description=null,this.endAt=-1,this.remainingDuration=-1,(0,i.I)(w,e.restriction_type)&&(this.restrictionType=e.restriction_type),this.description=null!==(t=e.description)&&void 0!==t?t:null,this.endAt=null!==(r=null!==(n=e.end_at)&&void 0!==n?n:e.muted_end_at)&&void 0!==r?r:-1,this.remainingDuration=null!==(a=e.remaining_duration)&&void 0!==a?a:-1}return e.payloadify=function(e){return e?(0,i.e)({restriction_type:e.restrictionType,description:e.description,end_at:e.endAt,remaining_duration:e.remainingDuration}):null},e}(),O=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.restrictionInfo=null,r.restrictionInfo=new M(n),r}return(0,i._)(t,e),t.payloadify=function(t){return t?(0,i.e)((0,i.g)((0,i.g)({},e.payloadify.call(this,t)),M.payloadify(t.restrictionInfo))):null},t}(i.U),A={data:null,customType:null,mentionType:i.a0.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},N=function(e){return(0,i.a)("string",e.data,!0)&&(0,i.a)("string",e.customType,!0)&&(0,i.I)(i.a0,e.mentionType)&&(0,i.l)("string",e.mentionedUserIds,!0)&&(0,i.l)(i.U,e.mentionedUsers,!0)&&(0,i.a)("string",e.mentionedMessageTemplate,!0)&&(0,i.l)(o.c,e.metaArrays,!0)&&(0,i.I)(i.a5,e.pushNotificationDeliveryOption,!0)&&(0,i.a)(o.A,e.appleCriticalAlertOptions,!0)},P=(0,i.g)((0,i.g)({},A),{message:null,translationTargetLanguages:null,pollId:null}),x=function(e){return N(e)&&(0,i.a)("string",e.message,!0)&&(0,i.l)("string",e.translationTargetLanguages,!0)&&(0,i.a)("number",e.pollId,!0)},D=(0,i.g)({},A),U=function(e){function t(t){var n=t.channelUrl,r=t.channelType,a=t.token,o=t.limit,s=e.call(this)||this;return s.method=i.A.GET,s.path="".concat((0,i.a7)(r),"/").concat(encodeURIComponent(n),"/operators"),s.params={token:a,limit:o},s}return(0,i._)(t,e),t}(i.f),L=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.operators=n.operators.map((function(e){return new i.U(t,e)})),r.token=n.next,r}return(0,i._)(t,e),t}(i.h),z=function(e){function t(t,n,r,a){return e.call(this,t,n,r,a)||this}return(0,i._)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)},t.prototype.next=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a,o,s;return(0,i.c)(this,(function(c){switch(c.label){case 0:return this._validate()?this._isLoading?[3,3]:(e=[],this._hasNext?(this._isLoading=!0,t=i.V.of(this._iid).requestQueue,n=new U((0,i.g)((0,i.g)({},this),{channelUrl:this.channelUrl,token:this._token})),[4,t.send(n)]):[3,2]):[3,5];case 1:return r=c.sent(),a=r.as(L),o=a.operators,s=a.token,this._token=s,this._hasNext=!!s,this._isLoading=!1,[2,o];case 2:return[2,e];case 3:throw i.S.queryInProgress;case 4:return[3,6];case 5:throw i.S.invalidParameters;case 6:return[2]}}))}))},t}(i.ai),R=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.limit,s=t.token;return(n=e.call(this)||this).method=i.A.GET,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/mute"),n.params={limit:o,token:s},n}return(0,i._)(t,e),t}(i.f),j=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.token=null,r.mutedUsers=[];var a=n.next,i=n.muted_list;return r.token=a,i&&i.length>0&&(r.mutedUsers=i.map((function(e){return new O(t,e)}))),r}return(0,i._)(t,e),t}(i.h),F=function(e){function t(t,n,r,a){return e.call(this,t,n,r,a)||this}return(0,i._)(t,e),t.prototype.next=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a,o;return(0,i.c)(this,(function(s){switch(s.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=i.V.of(this._iid).requestQueue,t=new R((0,i.g)((0,i.g)({},this),{token:this._token})),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=s.sent(),r=n.as(j),a=r.mutedUsers,o=r.token,this._token=o,this._hasNext=!!o,this._isLoading=!1,[2,a];case 2:return[2,[]];case 3:throw i.S.queryInProgress;case 4:return[3,6];case 5:throw i.S.invalidParameters;case 6:return[2]}}))}))},t}(i.ai),B=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.limit,s=t.token;return(n=e.call(this)||this).method=i.A.GET,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/ban"),n.params=(0,i.e)({limit:o,token:s}),n}return(0,i._)(t,e),t}(i.f),H=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.token=null,r.bannedUsers=[];var a=n.next,i=n.banned_list;return r.token=a,i&&i.length>0&&(r.bannedUsers=i.map((function(e){return new O(t,e.user)}))),r}return(0,i._)(t,e),t}(i.h),G=function(e){function t(t,n,r,a){return e.call(this,t,n,r,a)||this}return(0,i._)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)},t.prototype.next=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a,o;return(0,i.c)(this,(function(s){switch(s.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=i.V.of(this._iid).requestQueue,t=new B((0,i.g)((0,i.g)({},this),{token:this._token})),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=s.sent(),r=n.as(H),a=r.bannedUsers,o=r.token,this._token=o,this._hasNext=!!o,this._isLoading=!1,[2,a];case 2:return[2,[]];case 3:throw i.S.queryInProgress;case 4:return[3,6];case 5:throw i.S.invalidParameters;case 6:return[2]}}))}))},t}(i.ai);!function(e){e.SPAM="spam",e.HARASSING="harassing",e.SUSPICIOUS="suspicious",e.INAPPROPRIATE="inappropriate"}(I||(I={}));var V=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.operatorUserIds;return(n=e.call(this)||this).method=i.A.POST,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/operators"),n.params={operator_ids:o},n}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(i.h);var q=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.operatorUserIds;return(n=e.call(this)||this).method=i.A.DELETE,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/operators"),n.params={operator_ids:o},n}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(t,n){return e.call(this,t,n)||this}),e)}(i.h);var W=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.userId;return(n=e.call(this)||this).method=i.A.GET,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/mute/").concat(o),n}return(0,i._)(t,e),t}(i.f),K=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.isMuted=!1,r.startAt=null,r.endAt=null,r.remainingDuration=null,r.description=null;var a=n.is_muted,i=n.start_at,o=n.end_at,s=n.remaining_duration,c=n.description;return r.isMuted=a,r.startAt=i,r.endAt=o,r.remainingDuration=s,r.description=c,r}return(0,i._)(t,e),t}(i.h),Q=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.keys;return(n=e.call(this)||this).method=i.A.GET,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/metadata"),n.params={keys:o,include_ts:!0},n}return(0,i._)(t,e),t}(i.f),Y=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.ts=null;var a=n.metadata,i=n.ts;return r.metadata=a,r.ts=null!=i?i:null,r}return(0,i._)(t,e),t}(i.h),Z=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.metadata;return(n=e.call(this)||this).method=i.A.POST,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/metadata"),n.params={metadata:o,include_ts:!0},n}return(0,i._)(t,e),t}(i.f),J=function(e){function t(t,n){var r,a,i=this;return(i=e.call(this,t,n)||this).metaData=null!==(r=n.metadata)&&void 0!==r?r:{},i.ts=null!==(a=n.ts)&&void 0!==a?a:null,i}return(0,i._)(t,e),t}(i.h),X=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.metadata,s=t.upsert;return(n=e.call(this)||this).method=i.A.PUT,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/metadata"),n.params={metadata:o,include_ts:!0,upsert:null!=s&&s},n}return(0,i._)(t,e),t}(i.f),$=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.ts=null;var a=n.metadata,i=n.ts;return r.metadata=a,r.ts=null!=i?i:null,r}return(0,i._)(t,e),t}(i.h),ee=function(e){function t(t,n,r){var a=e.call(this,t,"SYEV",r)||this;return a.created=null,a.updated=null,a.deleted=null,r.data&&(a.created=r.data.created,a.updated=r.data.updated,a.deleted=r.data.deleted),a}return(0,i._)(t,e),t}(i.W),te=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.key;return(n=e.call(this)||this).method=i.A.DELETE,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/metadata/").concat(o),n.params={include_ts:!0},n}return(0,i._)(t,e),t}(i.f),ne=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.ts=null;var a=n.ts;return r.ts=null!=a?a:null,r}return(0,i._)(t,e),t}(i.h),re=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType;return(n=e.call(this)||this).method=i.A.DELETE,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/metadata"),n.params={include_ts:!0},n}return(0,i._)(t,e),t}(i.f),ae=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.ts=null;var a=n.ts;return r.ts=null!=a?a:null,r}return(0,i._)(t,e),t}(i.h),ie=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.keys;return(n=e.call(this)||this).method=i.A.GET,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/metacounter"),n.params={keys:o},n}return(0,i._)(t,e),t}(i.f),oe=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.metaCounter=n,r}return(0,i._)(t,e),t}(i.h),se=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.metaCounter;return(n=e.call(this)||this).method=i.A.POST,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/metacounter"),n.params={metacounter:o},n}return(0,i._)(t,e),t}(i.f),ce=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.metaCounter=n,r}return(0,i._)(t,e),t}(i.h),le=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.metaCounter,s=t.upsert,c=void 0!==s&&s,l=t.mode,u=void 0===l?"set":l;return(n=e.call(this)||this).method=i.A.PUT,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/metacounter"),n.params={metacounter:o,upsert:c,mode:u},n}return(0,i._)(t,e),t}(i.f),ue=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.metaCounter=n,r}return(0,i._)(t,e),t}(i.h),de=function(e){function t(t,n,r){var a=e.call(this,t,"SYEV",r)||this;return a.created=null,a.updated=null,a.deleted=null,r.data&&(a.created=r.data.created,a.updated=r.data.updated,a.deleted=r.data.deleted),a}return(0,i._)(t,e),t}(i.W),fe=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.key;return(n=e.call(this)||this).method=i.A.DELETE,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/metacounter/").concat(o),n.params=null,n}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(t,n){return e.call(this,t,n)||this}),e)}(i.h);var he=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType;return(n=e.call(this)||this).method=i.A.DELETE,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/metacounter"),n.params=null,n}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(i.h);var pe=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.userId,s=t.seconds,c=t.description;return(n=e.call(this)||this).method=i.A.POST,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/mute"),n.params={user_id:o,seconds:s,description:c},n}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(t,n){return e.call(this,t,n)||this}),e)}(i.h);var me=function(e){function t(t,n,r){var a=e.call(this,t,"SYEV",r)||this;return a.user=new O(t,r.data),a}return(0,i._)(t,e),t}(i.W),_e=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.userId;return(n=e.call(this)||this).method=i.A.DELETE,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/mute/").concat(encodeURIComponent(o)),n}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(i.h);var ye=function(e){function t(t,n,r){var a=e.call(this,t,"SYEV",r)||this;return a.user=new O(t,r.data),a}return(0,i._)(t,e),t}(i.W),ge=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.userId,s=t.seconds,c=t.description;return(n=e.call(this)||this).method=i.A.POST,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/ban"),n.params=(0,i.e)({user_id:o,seconds:s,description:c}),n}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(i.h);var ve=function(e){function t(t,n,r){var a=e.call(this,t,"SYEV",r)||this;return a.memberCount=null,a.joinedMemberCount=null,a.user=new O(t,r.data),r.data.member_count&&(a.memberCount=r.data.member_count),r.data.joined_member_count&&(a.joinedMemberCount=r.data.joined_member_count),a}return(0,i._)(t,e),t}(i.W),be=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.userId;return(n=e.call(this)||this).method=i.A.DELETE,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/ban/").concat(encodeURIComponent(o)),n}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(i.h);var we=function(e){function t(t,n,r){var a=e.call(this,t,"SYEV",r)||this;return a.user=new O(t,r.data),a}return(0,i._)(t,e),t}(i.W),ke=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.freezing;return(n=e.call(this)||this).method=i.A.PUT,n.path="".concat((0,i.a7)(a),"/").concat(encodeURIComponent(r),"/freeze"),n.params={freeze:o},n}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(i.h);var Ee=function(e){function t(t,n,r){var a=e.call(this,t,"SYEV",r)||this;return a.freeze=r.data.freeze,a}return(0,i._)(t,e),t}(i.W),Se=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.category,s=t.userId,c=t.description;return(n=e.call(this)||this).method=i.A.POST,n.path="".concat((0,i.au)(a),"/").concat(encodeURIComponent(r)),n.params={report_category:o,reporting_user_id:s,report_description:c},n}return(0,i._)(t,e),t}(i.f),Ce=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.category,s=t.userId,c=t.offendingUserId,l=t.description;return(n=e.call(this)||this).method=i.A.POST,n.path="".concat(i.av,"/users/").concat(c),n.params={channel_url:r,channel_type:a===i.M.OPEN?"open_channels":"group_channels",report_category:o,reporting_user_id:s,report_description:l},n}return(0,i._)(t,e),t}(i.f),Te=function(e){function t(t){var n=this,r=t.channelUrl,a=t.channelType,o=t.category,s=t.userId,c=t.offendingUserId,l=t.messageId,u=t.description;return(n=e.call(this)||this).method=i.A.POST,n.path="".concat((0,i.au)(a),"/").concat(encodeURIComponent(r),"/messages/").concat(l),n.params={report_category:o,reporting_user_id:s,report_description:u,offending_user_id:c},n}return(0,i._)(t,e),t}(i.f),Ie=function(e){function t(t){var n=[];return t.mentionType===i.a0.USERS&&(t.mentionedUserIds?n=t.mentionedUserIds:t.mentionedUsers&&(n=t.mentionedUsers.map((function(e){return e.userId})))),e.call(this,{code:"MESG",ackRequired:!0,payload:(0,i.e)({channel_url:t.channelUrl,message:t.message,data:t.data,custom_type:t.customType,metaarray:t.metaArrays,mention_type:t.mentionType,mentioned_user_ids:n,mentioned_message_template:t.mentionedMessageTemplate,target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption&&t.pushNotificationDeliveryOption!==i.a5.DEFAULT?t.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:t.appleCriticalAlertOptions,silent:t.silent,reply_to_channel:t.isReplyToChannel,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,req_id:t.reqId,poll_id:t.pollId,pin_message:t.isPinnedMessage})})||this}return(0,i._)(t,e),t}(i.a6),Me=function(e){function t(t,n,r){var a,s,c,l=this;(l=e.call(this,t,"MESG",r)||this).message=new o.U(t,r);var u=i.V.of(t).sdkState;return l.isMentioned=(0,i.a8)(l.message.mentionType,null!==(a=l.message.mentionedUserIds)&&void 0!==a?a:null===(s=l.message.mentionedUsers)||void 0===s?void 0:s.map((function(e){return e.userId})),u.userId),l.forceUpdateLastMessage=null!==(c=r.force_update_last_message)&&void 0!==c&&c,l}return(0,i._)(t,e),t}(i.W),Oe=function(e){function t(t){var n,r=null;return t.mentionType===i.a0.USERS&&(t.mentionedUserIds?r=t.mentionedUserIds:t.mentionedUsers&&(r=t.mentionedUsers.map((function(e){return e.userId})))),e.call(this,{code:"MEDI",ackRequired:!0,payload:(0,i.e)({channel_url:t.channelUrl,msg_id:t.messageId,message:t.message,data:t.data,custom_type:t.customType,metaarray:t.metaArrayParams,mention_type:t.mentionType,mentioned_user_ids:r,mentioned_message_template:t.mentionedMessageTemplate,apple_critical_alert_options:null===(n=t.appleCriticalAlertOptions)||void 0===n?void 0:n.serialize(),poll_id:t.pollId})})||this}return(0,i._)(t,e),t}(i.a6),Ae=function(e){function t(t,n,r){var a,s,c,l,u,d,f=this;(f=e.call(this,t,"MEDI",r)||this).message=new o.U(t,r);var h=i.V.of(t).sdkState;return f.mentionCountChange=(0,i.aw)({mentionType:null!==(s=null===(a=r.old_values)||void 0===a?void 0:a.mention_type)&&void 0!==s?s:null,mentionedUserIds:null!==(l=null===(c=r.old_values)||void 0===c?void 0:c.mentioned_user_ids)&&void 0!==l?l:[]},{mentionType:f.message.mentionType,mentionedUserIds:null!==(u=f.message.mentionedUserIds)&&void 0!==u?u:null===(d=f.message.mentionedUsers)||void 0===d?void 0:d.map((function(e){return e.userId}))},h.userId),f}return(0,i._)(t,e),t}(i.W),Ne=function(e){function t(t){var n=null;return t.mentionType===i.a0.USERS&&(t.mentionedUserIds?n=t.mentionedUserIds:t.mentionedUsers&&(n=t.mentionedUsers.map((function(e){return e.userId})))),e.call(this,{code:"FEDI",ackRequired:!0,payload:(0,i.e)({channel_url:t.channelUrl,msg_id:t.messageId,data:t.data,custom_type:t.customType,metaarray:t.metaArrayParams,mention_type:t.mentionType,mentioned_user_ids:n,apple_critical_alert_options:t.appleCriticalAlertOptions})})||this}return(0,i._)(t,e),t}(i.a6),Pe=function(e){function t(t,n,r){var a,s,c,l,u,d,f=this;(f=e.call(this,t,"FEDI",r)||this).message=new o.F(t,r);var h=i.V.of(t).sdkState;return f.mentionCountChange=(0,i.aw)({mentionType:null!==(s=null===(a=r.old_values)||void 0===a?void 0:a.mention_type)&&void 0!==s?s:null,mentionedUserIds:null!==(l=null===(c=r.old_values)||void 0===c?void 0:c.mentioned_user_ids)&&void 0!==l?l:[]},{mentionType:f.message.mentionType,mentionedUserIds:null!==(u=f.message.mentionedUserIds)&&void 0!==u?u:null===(d=f.message.mentionedUsers)||void 0===d?void 0:d.map((function(e){return e.userId}))},h.userId),f}return(0,i._)(t,e),t}(i.W),xe=function(e){function t(t){var n=e.call(this)||this;return n.method=i.A.DELETE,n.path="".concat((0,i.a7)(t.channelType),"/").concat(t.channelUrl,"/messages/").concat(t.messageId),n}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(i.h);var De=function(e){function t(t,n,r){var a=e.call(this,t,"DELM",r)||this;return a.channelUrl=r.channel_url,a.channelType=r.channel_type,a.messageId=Number(r.msg_id),a}return(0,i._)(t,e),t}(i.W),Ue=function(e){function t(t){var n=t.channelType,r=t.channelUrl,a=t.messageId,o=t.reactionKey,s=e.call(this)||this;return s.method=i.A.POST,s.path="".concat((0,i.a7)(n),"/").concat(encodeURIComponent(r),"/messages/").concat(a,"/reactions"),s.params={reaction:o},s}return(0,i._)(t,e),t}(i.f),Le=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.reactionEvent=new o.R(n),r}return(0,i._)(t,e),t}(i.h),ze=function(e){function t(t){var n=t.channelType,r=t.channelUrl,a=t.messageId,o=t.reactionKey,s=e.call(this)||this;return s.method=i.A.DELETE,s.path="".concat((0,i.a7)(n),"/").concat(encodeURIComponent(r),"/messages/").concat(a,"/reactions"),s.params={reaction:o},s}return(0,i._)(t,e),t}(i.f),Re=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.reactionEvent=new o.R((0,i.g)({},n)),r}return(0,i._)(t,e),t}(i.h),je=function(e){function t(t){var n=t.channelType,r=t.channelUrl,a=t.messageId,o=t.translationTargetLanguages,s=e.call(this)||this;return s.method=i.A.POST,s.path="".concat((0,i.a7)(n),"/").concat(encodeURIComponent(r),"/messages/").concat(encodeURIComponent(a),"/translation"),s.params={target_langs:o},s}return(0,i._)(t,e),t}(i.f),Fe=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.message=new o.U(t,n),r}return(0,i._)(t,e),t}(i.h),Be=function(e){function t(t){var n,r=this;r=e.call(this)||this;var a=[];t.mentionType===i.a0.USERS&&(t.mentionedUserIds?a=t.mentionedUserIds:t.mentionedUsers&&(a=t.mentionedUsers.map((function(e){return e.userId}))));var s=t.channelType,c=t.channelUrl;return r.method=i.A.POST,r.path="".concat((0,i.a7)(s),"/").concat(encodeURIComponent(c),"/scheduled_messages"),r.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:i.ax.USER,message:t.message,custom_type:t.customType,data:t.data,mention_type:t.mentionType,mentioned_user_ids:a,sorted_metaarray:null===(n=t.metaArrays)||void 0===n?void 0:n.map((function(e){return o.c.payloadify(e)})),apple_critical_alert_options:o.A.payloadify(t.appleCriticalAlertOptions),target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption},r}return(0,i._)(t,e),t}(i.f),He=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.message=new o.U(t,n),r}return(0,i._)(t,e),t}(i.h),Ge=function(e){function t(t){var n,r=this;r=e.call(this)||this;var a=[];t.mentionType===i.a0.USERS&&(t.mentionedUserIds?a=t.mentionedUserIds:t.mentionedUsers&&(a=t.mentionedUsers.map((function(e){return e.userId}))));var s=t.channelType,c=t.channelUrl;return r.method=i.A.POST,r.path="".concat((0,i.a7)(s),"/").concat(encodeURIComponent(c),"/scheduled_messages"),r.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:i.ax.FILE,url:t.fileUrl,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,thumbnails:t.thumbnailSizes?t.thumbnailSizes.map((function(e){return o.T.payloadify(e)})):[],custom_type:t.customType,data:t.data,require_auth:t.requireAuth,mention_type:t.mentionType,mentioned_user_ids:a,sorted_metaarray:null===(n=t.metaArrays)||void 0===n?void 0:n.map((function(e){return o.c.payloadify(e)})),apple_critical_alert_options:o.A.payloadify(t.appleCriticalAlertOptions),push_option:t.pushNotificationDeliveryOption},r}return(0,i._)(t,e),t}(i.f),Ve=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.message=new o.F(t,n),r}return(0,i._)(t,e),t}(i.h),qe=function(e){function t(t){var n=t.pollId,r=t.title,a=t.data,o=t.allowUserSuggestion,s=t.allowMultipleVotes,c=t.closeAt,l=e.call(this)||this;return l.method=i.A.PUT,l.path="".concat(i.aq,"/").concat(encodeURIComponent(n)),l.params={title:r,data:a,allow_user_suggestion:o,allow_multiple_votes:s,close_at:c},l}return(0,i._)(t,e),t}(i.f),We=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.poll=new i.a4(t,n),r}return(0,i._)(t,e),t}(i.h),Ke=function(e){function t(t){var n=t.pollId,r=e.call(this)||this;return r.method=i.A.DELETE,r.path="".concat(i.aq,"/").concat(encodeURIComponent(n)),r}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(i.h);var Qe=function(e){function t(t){var n=t.pollId,r=e.call(this)||this;return r.method=i.A.PUT,r.path="".concat(i.aq,"/").concat(encodeURIComponent(n),"/close"),r}return(0,i._)(t,e),t}(i.f),Ye=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.poll=new i.a4(t,n),r}return(0,i._)(t,e),t}(i.h),Ze=function(e){function t(t){var n=t.channelUrl,r=t.channelType,a=t.pollId,o=t.optionText,s=e.call(this)||this;return s.method=i.A.POST,s.path="".concat(i.aq,"/").concat(encodeURIComponent(a),"/options"),s.params={channel_url:n,channel_type:r,text:o},s}return(0,i._)(t,e),t}(i.f),Je=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.poll=new i.a4(t,n),r}return(0,i._)(t,e),t}(i.h),Xe=function(e){function t(t){var n=t.pollId,r=t.pollOptionId,a=t.optionText,o=e.call(this)||this;return o.method=i.A.PUT,o.path="".concat(i.aq,"/").concat(encodeURIComponent(n),"/options/").concat(encodeURIComponent(r)),o.params={text:a},o}return(0,i._)(t,e),t}(i.f),$e=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.poll=new i.a4(t,n),r}return(0,i._)(t,e),t}(i.h),et=function(e){function t(t){var n=t.pollId,r=t.pollOptionId,a=e.call(this)||this;return a.method=i.A.DELETE,a.path="".concat(i.aq,"/").concat(encodeURIComponent(n),"/options/").concat(encodeURIComponent(r)),a}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(i.h);var tt=function(e){function t(t){var n=t.reqId,r=t.channelType,a=t.channelUrl,o=t.pollId,s=t.pollOptionIds;return e.call(this,{code:"VOTE",ackRequired:!0,payload:(0,i.e)({req_id:n,channel_type:r===i.M.OPEN?"open_channels":"group_channels",channel_url:a,poll_id:o,option_ids:s})})||this}return(0,i._)(t,e),t}(i.a6),nt=function(e){function t(t,n,r){var a=e.call(this,t,"VOTE",r)||this;return a.event=null,a.channelUrl=null,a.channelType=null,a.event=new s.i(r),a.channelUrl=r.channel_url,a.channelType=r.channel_type,a}return(0,i._)(t,e),t}(i.W),rt=2,at=function(e){function t(t,n){var r,a,o,s,c=this;return(c=e.call(this,t)||this).url="",c.channelType=i.M.BASE,c.name="",c.coverUrl="",c.customType="",c.data="",c.isFrozen=!1,c.isEphemeral=!1,c.creator=null,c.createdAt=0,c._messageCollectionLastAccessedAt=0,c.url=n.channel_url,c.name=null!==(r=n.name)&&void 0!==r?r:"",c.coverUrl=null!==(a=n.cover_url)&&void 0!==a?a:"",c.customType=null!==(o=n.custom_type)&&void 0!==o?o:"",c.data=null!==(s=n.data)&&void 0!==s?s:"",c.isFrozen=!!(0,i.a)("boolean",n.freeze)&&n.freeze,c.isEphemeral=!!(0,i.a)("boolean",n.is_ephemeral)&&n.is_ephemeral,c.creator=n.created_by?new i.U(c._iid,n.created_by):null,c.createdAt=1e3*n.created_at,c._cachedMetaData=new Map,n.metadata&&n.ts&&Object.keys(n.metadata).forEach((function(e){c._cachedMetaData.set(e,{value:n.metadata[e],isRemoved:!1,updatedAt:n.ts})})),c}return(0,i._)(t,e),t.payloadify=function(t){return(0,i.e)((0,i.g)((0,i.g)({},e.payloadify.call(this,t)),{channel_url:t.url,name:t.name,cover_url:t.coverUrl,custom_type:t.customType,data:t.data,freeze:t.isFrozen,is_ephemeral:t.isEphemeral,created_by:i.U.payloadify(t.creator),created_at:t.createdAt/1e3}))},t.prototype.isGroupChannel=function(){return this.channelType===i.M.GROUP},t.prototype.isOpenChannel=function(){return this.channelType===i.M.OPEN},Object.defineProperty(t.prototype,"cachedMetaData",{get:function(){var e={};return this._cachedMetaData.forEach((function(t,n){t.isRemoved||(e[n]=t.value)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"messageCollectionLastAccessedAt",{get:function(){return this._messageCollectionLastAccessedAt},enumerable:!1,configurable:!0}),t.prototype._updateMessageCollectionLastAccessedAt=function(){this._messageCollectionLastAccessedAt=Date.now()},t.prototype._upsertCachedMetaData=function(e,t){var n=this;Object.keys(e).forEach((function(r){var a=n._cachedMetaData.get(r);(!a||a.updatedAt<=t)&&n._cachedMetaData.set(r,{value:e[r],isRemoved:!1,updatedAt:t})}))},t.prototype._removeFromCachedMetaData=function(e,t){var n=this;e.forEach((function(e){var r=n._cachedMetaData.get(e);r&&r.updatedAt<t&&(r.isRemoved=!1,r.updatedAt=t)}))},t.prototype._generateRequestId=function(){return"rq-".concat((0,i.u)())},t.prototype.isIdentical=function(e){return e&&this.url===e.url},t.prototype.isEqual=function(e){return(0,i.Y)(this,e)},t.prototype.createOperatorListQuery=function(e){return void 0===e&&(e={}),new z(this._iid,this.url,this.channelType,e)},t.prototype.createMutedUserListQuery=function(e){return void 0===e&&(e={}),new F(this._iid,this.url,this.channelType,e)},t.prototype.createBannedUserListQuery=function(e){return void 0===e&&(e={}),new G(this._iid,this.url,this.channelType,e)},t.prototype.createPreviousMessageListQuery=function(e){return void 0===e&&(e={}),new o.d(this._iid,this.url,this.channelType,e)},t.prototype.addOperators=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return(0,i.r)((0,i.l)("string",e)).throw(i.S.invalidParameters),t=i.V.of(this._iid).requestQueue,n=new V({channelUrl:this.url,channelType:this.channelType,operatorUserIds:e}),[4,t.send(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.removeOperators=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return(0,i.r)((0,i.l)("string",e)).throw(i.S.invalidParameters),t=i.V.of(this._iid).requestQueue,n=new q({channelUrl:this.url,channelType:this.channelType,operatorUserIds:e}),[4,t.send(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.getMyMutedInfo=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a,o,s,c,l,u,d;return(0,i.c)(this,(function(f){switch(f.label){case 0:return e=i.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new W({channelUrl:this.url,channelType:this.channelType,userId:t.userId}),[4,n.send(r)];case 1:return a=f.sent(),o=a.as(K),s=o.isMuted,c=o.startAt,l=o.endAt,u=o.remainingDuration,d=o.description,[2,{isMuted:s,startAt:c,endAt:l,remainingDuration:u,description:d}]}}))}))},t.prototype.getMetaData=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a,o,s;return(0,i.c)(this,(function(c){switch(c.label){case 0:return(0,i.r)((0,i.l)("string",e)).throw(i.S.invalidParameters),t=i.V.of(this._iid).requestQueue,n=new Q({channelUrl:this.url,channelType:this.channelType,keys:e}),[4,t.send(n)];case 1:return r=c.sent(),a=r.as(Y),o=a.metadata,s=a.ts,this._upsertCachedMetaData(o,s),[2,o]}}))}))},t.prototype.getAllMetaData=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a,o;return(0,i.c)(this,(function(s){switch(s.label){case 0:return e=i.V.of(this._iid).requestQueue,t=new Q({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,e.send(t)];case 1:return n=s.sent(),r=n.as(Y),a=r.metadata,o=r.ts,this._upsertCachedMetaData(a,o),[2,a]}}))}))},t.prototype.createMetaData=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a;return(0,i.c)(this,(function(o){switch(o.label){case 0:return t=i.V.of(this._iid).requestQueue,n=new Z({channelUrl:this.url,channelType:this.channelType,metadata:e}),[4,t.send(n)];case 1:return r=o.sent(),a=r.as(J).metaData,this._upsertCachedMetaData(a,0),[2,a]}}))}))},t.prototype.updateMetaData=function(e,t){return void 0===t&&(t=!1),(0,i.b)(this,void 0,void 0,(function(){var n,r,a,o,s,c;return(0,i.c)(this,(function(l){switch(l.label){case 0:return n=i.V.of(this._iid).requestQueue,r=new X({channelUrl:this.url,channelType:this.channelType,metadata:e,upsert:t}),[4,n.send(r)];case 1:return a=l.sent(),o=a.as($),s=o.metadata,c=o.ts,this._upsertCachedMetaData(s,c),[2,s]}}))}))},t.prototype.deleteMetaData=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a;return(0,i.c)(this,(function(o){switch(o.label){case 0:return(0,i.r)((0,i.a)("string",e)).throw(i.S.invalidParameters),t=i.V.of(this._iid).requestQueue,n=new te({channelUrl:this.url,channelType:this.channelType,key:e}),[4,t.send(n)];case 1:return r=o.sent(),a=r.as(ne).ts,this._removeFromCachedMetaData([e],a),[2]}}))}))},t.prototype.deleteAllMetaData=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:return e=i.V.of(this._iid).requestQueue,t=new re({channelUrl:this.url,channelType:this.channelType}),[4,e.send(t)];case 1:return n=a.sent(),r=n.as(ae).ts,this._removeFromCachedMetaData((0,i.p)([],(0,i.q)(this._cachedMetaData.keys()),!1),r),[2]}}))}))},t.prototype.getMetaCounters=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return(0,i.r)((0,i.l)("string",e)).throw(i.S.invalidParameters),t=i.V.of(this._iid).requestQueue,n=new ie({channelUrl:this.url,channelType:this.channelType,keys:e}),[4,t.send(n)];case 1:return[2,r.sent().as(oe).metaCounter]}}))}))},t.prototype.getAllMetaCounters=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t;return(0,i.c)(this,(function(n){switch(n.label){case 0:return e=i.V.of(this._iid).requestQueue,t=new ie({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,e.send(t)];case 1:return[2,n.sent().as(oe).metaCounter]}}))}))},t.prototype.createMetaCounters=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return t=i.V.of(this._iid).requestQueue,n=new se({channelUrl:this.url,channelType:this.channelType,metaCounter:e}),[4,t.send(n)];case 1:return[2,r.sent().as(ce).metaCounter]}}))}))},t.prototype.updateMetaCounters=function(e,t){return void 0===t&&(t=!1),(0,i.b)(this,void 0,void 0,(function(){var n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:return n=i.V.of(this._iid).requestQueue,r=new le({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:t}),[4,n.send(r)];case 1:return[2,a.sent().as(ue).metaCounter]}}))}))},t.prototype.increaseMetaCounters=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return t=i.V.of(this._iid).requestQueue,n=new le({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:!1,mode:"increase"}),[4,t.send(n)];case 1:return[2,r.sent().as(ue).metaCounter]}}))}))},t.prototype.decreaseMetaCounters=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return t=i.V.of(this._iid).requestQueue,n=new le({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:!1,mode:"decrease"}),[4,t.send(n)];case 1:return[2,r.sent().as(ue).metaCounter]}}))}))},t.prototype.deleteMetaCounter=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return(0,i.r)((0,i.a)("string",e)).throw(i.S.invalidParameters),t=i.V.of(this._iid).requestQueue,n=new fe({channelUrl:this.url,channelType:this.channelType,key:e}),[4,t.send(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.deleteAllMetaCounters=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t;return(0,i.c)(this,(function(n){switch(n.label){case 0:return e=i.V.of(this._iid).requestQueue,t=new he({channelUrl:this.url,channelType:this.channelType}),[4,e.send(t)];case 1:return n.sent(),[2]}}))}))},t.prototype.muteUser=function(e,t,n){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(r){return[2,this.muteUserWithUserId(e.userId,t,n)]}))}))},t.prototype.muteUserWithUserId=function(e,t,n){return(0,i.b)(this,void 0,void 0,(function(){var r,a;return(0,i.c)(this,(function(o){switch(o.label){case 0:return(0,i.r)((0,i.a)("string",e)&&(0,i.a)("number",t,!0)&&(0,i.a)("string",n,!0)).throw(i.S.invalidParameters),r=i.V.of(this._iid).requestQueue,a=new pe({channelUrl:this.url,channelType:this.channelType,userId:e,seconds:t,description:n}),[4,r.send(a)];case 1:return o.sent(),[2]}}))}))},t.prototype.unmuteUser=function(e){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){return[2,this.unmuteUserWithUserId(e.userId)]}))}))},t.prototype.unmuteUserWithUserId=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return(0,i.r)((0,i.a)("string",e)).throw(i.S.invalidParameters),t=i.V.of(this._iid).requestQueue,n=new _e({channelUrl:this.url,channelType:this.channelType,userId:e}),[4,t.send(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.banUser=function(e,t,n){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(r){return[2,this.banUserWithUserId(e.userId,t,n)]}))}))},t.prototype.banUserWithUserId=function(e,t,n){return(0,i.b)(this,void 0,void 0,(function(){var r,a;return(0,i.c)(this,(function(o){switch(o.label){case 0:return(0,i.r)((0,i.a)("string",e)&&(0,i.a)("number",t,!0)&&(0,i.a)("string",n,!0)).throw(i.S.invalidParameters),r=i.V.of(this._iid).requestQueue,a=new ge({channelUrl:this.url,channelType:this.channelType,userId:e,seconds:t,description:n}),[4,r.send(a)];case 1:return o.sent(),[2]}}))}))},t.prototype.unbanUser=function(e){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){return[2,this.unbanUserWithUserId(e.userId)]}))}))},t.prototype.unbanUserWithUserId=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return(0,i.r)((0,i.a)("string",e)).throw(i.S.invalidParameters),t=i.V.of(this._iid).requestQueue,n=new be({channelUrl:this.url,channelType:this.channelType,userId:e}),[4,t.send(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.freeze=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t;return(0,i.c)(this,(function(n){switch(n.label){case 0:return e=i.V.of(this._iid).requestQueue,t=new ke({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,e.send(t)];case 1:return n.sent(),this.isFrozen=!0,[2]}}))}))},t.prototype.unfreeze=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t;return(0,i.c)(this,(function(n){switch(n.label){case 0:return e=i.V.of(this._iid).requestQueue,t=new ke({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,e.send(t)];case 1:return n.sent(),this.isFrozen=!1,[2]}}))}))},t.prototype.getMessagesByMessageId=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return n=(0,i.g)((0,i.g)({},o.g),t),(0,i.r)((0,i.a)("number",e)&&(0,o.v)(n)).throw(i.S.invalidParameters),[4,o.b.of(this._iid).getMessagesByMessageId(this.url,this.channelType,e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype.getMessagesByTimestamp=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return n=(0,i.g)((0,i.g)({},o.g),t),(0,i.r)((0,i.a)("number",e)&&(0,o.v)(n)).throw(i.S.invalidParameters),[4,o.b.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype.getMessageChangeLogsSinceTimestamp=function(e,t){return void 0===t&&(t={}),(0,i.b)(this,void 0,void 0,(function(){var n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return n=(0,i.g)((0,i.g)({},o.h),t),(0,i.r)((0,i.a)("number",e)&&(0,o.i)(n)).throw(i.S.invalidParameters),[4,o.b.of(this._iid).getMessageChangelogs(this.url,this.channelType,e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype.getMessageChangeLogsSinceToken=function(e,t){return void 0===t&&(t={}),(0,i.b)(this,void 0,void 0,(function(){var n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return n=(0,i.g)((0,i.g)({},o.h),t),(0,i.r)((0,i.a)("string",e)&&(0,o.i)(n)).throw(i.S.invalidParameters),[4,o.b.of(this._iid).getMessageChangelogs(this.url,this.channelType,e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype._createPendingSendableMessagePayload=function(e,t,n){var r=i.V.of(this._iid).sessionManager;return(0,i.e)({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:e.parentMessageId,data:e.data,custom_type:e.customType,mention_type:e.mentionType,sorted_metaarray:e.metaArrays?e.metaArrays.map((function(e){return o.c.payloadify(e)})):null,apple_critical_alert_options:e.appleCriticalAlertOptions?o.A.payloadify(e.appleCriticalAlertOptions):null,created_at:n,user:o.e.payloadify(r.currentUser),req_id:t,request_state:i.a1.PENDING,mentioned_user_ids:e.mentionedUserIds,mentioned_users:e.mentionedUsers})},t.prototype._createPendingUserMessage=function(e,t,n){var r,a,s={};if(e.translationTargetLanguages)try{for(var c=(0,i.H)(e.translationTargetLanguages),l=c.next();!l.done;l=c.next())s[l.value]=""}catch(e){r={error:e}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}var u=(0,i.e)((0,i.g)((0,i.g)({},this._createPendingSendableMessagePayload(e,t,n)),{type:i.Z.USER,message:e.message,translations:s})),d=new o.U(this._iid,u);return d.messageParams=e,d},t.prototype._createPendingScheduledUserMessage=function(e,t,n){var r=this._createPendingUserMessage(e,t,n);return r.scheduledInfo={scheduledMessageId:0,scheduledAt:e.scheduledAt,scheduledMessageParams:e},r},t.prototype._createPendingFileMessage=function(e,t,n){var r=(0,i.e)((0,i.g)((0,i.g)({},this._createPendingSendableMessagePayload(e,t,n)),{type:i.Z.FILE,url:e.fileUrl,file:{name:e.fileName,size:e.fileSize,type:e.mimeType,data:e.data},thumbnails:e.thumbnailSizes?e.thumbnailSizes.map((function(e){return{url:"",width:e.maxWidth,height:e.maxHeight}})):[]})),a=new o.F(this._iid,r);return a.messageParams=e,a},t.prototype._createPendingScheduledFileMessage=function(e,t,n){var r=this._createPendingFileMessage(e,t,n);return r.scheduledInfo={scheduledMessageId:0,scheduledAt:e.scheduledAt,scheduledMessageParams:e},r},t.prototype._markMessageAsFailed=function(e,t,n){void 0===n&&(n=!1),e.errorCode=t.code,t.code===i.a9.REQUEST_CANCELED?e.sendingStatus=i.a1.CANCELED:n||(e.sendingStatus=i.a1.FAILED)},t.prototype.sendUserMessage=function(e){var t=(0,i.g)((0,i.g)({},v),e);return(0,i.r)(b(t)).throw(i.S.invalidParameters),this._sendUserMessage(t)},t.prototype._sendUserMessage=function(e,t){var n=this;void 0===t&&(t=null);var r=i.V.of(this._iid),a=r.dispatcher,s=r.requestQueue,c=t,l=Date.now(),u=new o.f;c||(c=this._generateRequestId(),(0,i.aa)(2).then((function(){var t=n._createPendingUserMessage(e,c,l);a.dispatch(new i.af({messages:[t],source:i.ae.EVENT_MESSAGE_SENT_PENDING})),(0,i.x)((function(){return(0,i.b)(n,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return[2,u._trigger(null,t)]}))}))}))})));var d=new Ie((0,i.g)((0,i.g)({},e),{channelUrl:this.url,channelType:this.channelType,reqId:c}));return s.send(d).then((function(e){var t=e.as(Me).message;a.dispatch(new i.af({messages:[t],source:i.ae.EVENT_MESSAGE_SENT_SUCCESS})),(0,i.x)((function(){return(0,i.b)(n,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return[2,u._trigger(null,t)]}))}))}))})).catch((function(t){if((0,i.ay)(t))throw t;(0,i.aa)(2).then((function(){var r=n._createPendingUserMessage(e,c,l),o=i.V.of(n._iid).cacheContext.localCacheEnabled&&(0,i.an)(t.code);n._markMessageAsFailed(r,t,o),a.dispatch(new i.af({messages:[r],source:r.sendingStatus===i.a1.PENDING?i.ae.REQUEST_RESEND_MESSAGE:i.ae.EVENT_MESSAGE_SENT_FAILED})),(0,i.x)((function(){return(0,i.b)(n,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return[2,u._trigger(t,r)]}))}))}))}))})),u},t.prototype._autoResendUserMessage=function(e){return(0,i.r)(e instanceof o.U).throw(i.S.invalidParameters),this._sendUserMessage(e.messageParams,e.reqId)},t.prototype.resendUserMessage=function(e){var t;return(0,i.b)(this,void 0,void 0,(function(){var n,r;return(0,i.c)(this,(function(a){return(0,i.r)(e instanceof o.U&&!e.scheduledInfo).throw(i.S.invalidParameters),n=new i.ab,r=null!==(t=e.messageParams)&&void 0!==t?t:function(e){var t;return(0,i.e)({data:e.data,customType:e.customType,mentionType:e.mentionType,mentionedUsers:e.mentionedUsers,mentionedUserIds:e.mentionedUserIds,mentionedMessageTemplate:e.mentionedMessageTemplate,metaArrays:e.metaArrays,pollId:null===(t=e.poll)||void 0===t?void 0:t.id,parentMessageId:e.parentMessageId,appleCriticalAlertOptions:e.appleCriticalAlertOptions,message:e.message,translationTargetLanguages:Object.keys(e.translations)})}(e),this._sendUserMessage(r,e.reqId).onFailed((function(e){return n.reject(e)})).onSucceeded((function(e){return n.resolve(e)})),[2,n.promise]}))}))},t.prototype.updateUserMessage=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n,r,a;return(0,i.c)(this,(function(o){switch(o.label){case 0:return n=(0,i.g)((0,i.g)({},P),t),(0,i.r)((0,i.a)("number",e)&&x(n)).throw(i.S.invalidParameters),r=i.V.of(this._iid).requestQueue,a=new Oe((0,i.g)({channelType:this.channelType,channelUrl:this.url,messageId:e},n)),[4,r.send(a)];case 1:return[2,o.sent().as(Ae).message]}}))}))},t.prototype.copyUserMessage=function(e,n){var r,a,s;return(0,i.b)(this,void 0,void 0,(function(){var c,l;return(0,i.c)(this,(function(u){return(0,i.r)(e instanceof t&&n instanceof o.U&&n.sendingStatus===i.a1.SUCCEEDED&&this.url===n.channelUrl&&!n.scheduledInfo).throw(i.S.invalidParameters),(0,i.r)(!n.poll).throw(i.S.notSupportedError),c=new i.ab,l=null!==(r=n.messageParams)&&void 0!==r?r:(0,i.g)((0,i.g)({},n),{mentionType:n.mentionType,mentionedUserIds:null!==(a=n.mentionedUserIds)&&void 0!==a?a:null===(s=n.mentionedUsers)||void 0===s?void 0:s.map((function(e){return e.userId})),translationTargetLanguages:Object.keys(n.translations),pushNotificationDeliveryOption:i.a5.DEFAULT,parentMessageId:null,isReplyToChannel:!1,isPinnedMessage:!1}),e._sendUserMessage(l).onSucceeded((function(e){c.resolve(e)})).onFailed((function(e){return c.reject(e)})),[2,c.promise]}))}))},t.prototype.translateUserMessage=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:return(0,i.r)(e instanceof o.U&&e.messageId>0&&(0,i.l)("string",t)).throw(i.S.invalidParameters),n=i.V.of(this._iid).requestQueue,r=new je({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,translationTargetLanguages:t}),[4,n.send(r)];case 1:return[2,a.sent().as(Fe).message]}}))}))},t.prototype._createScheduledUserMessage=function(e,t){var n=this,r=i.V.of(this._iid).requestQueue,a=Date.now(),o=this._generateRequestId();(0,i.aa)(2).then((function(){var r=n._createPendingScheduledUserMessage(e,o,a);(0,i.x)((function(){return(0,i.b)(n,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return[2,t._trigger(null,r)]}))}))}))}));var s=new Be((0,i.g)({reqId:o,channelType:this.channelType,channelUrl:this.url},e));r.send(s).then((function(e){var r=e.as(He).message;(0,i.x)((function(){return(0,i.b)(n,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return[2,t._trigger(null,r)]}))}))}))})).catch((function(r){if((0,i.ay)(r))throw r;(0,i.aa)(2).then((function(){var s=n._createPendingScheduledUserMessage(e,o,a);n._markMessageAsFailed(s,r),(0,i.x)((function(){return(0,i.b)(n,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return[2,t._trigger(r,s)]}))}))}))}))}))},t.prototype.sendFileMessage=function(e){var t=(0,i.g)((0,i.g)({},C),e);return(0,i.r)(T(t)).throw(i.S.invalidParameters),this._sendFileMessage(t)},t.prototype._sendFileMessage=function(e,t){var n=this;void 0===t&&(t=null);var r=i.V.of(this._iid).dispatcher,a=o.b.of(this._iid).fileMessageQueue,s=t,c=Date.now(),l=new o.f;return s||(s=this._generateRequestId(),(0,i.aa)(2).then((function(){var t=n._createPendingFileMessage(e,s,c);r.dispatch(new i.af({messages:[t],source:i.ae.EVENT_MESSAGE_SENT_PENDING})),(0,i.x)((function(){return(0,i.b)(n,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return[2,l._trigger(null,t)]}))}))}))}))),a.request(this,s,e).then((function(e){r.dispatch(new i.af({messages:[e],source:i.ae.EVENT_MESSAGE_SENT_SUCCESS})),(0,i.x)((function(){return(0,i.b)(n,void 0,void 0,(function(){return(0,i.c)(this,(function(t){return[2,l._trigger(null,e)]}))}))}))})).catch((function(t){if((0,i.ay)(t))throw t;(0,i.aa)(2).then((function(){var a=n._createPendingFileMessage(e,s,c),o=i.V.of(n._iid).cacheContext.localCacheEnabled&&(0,i.an)(t.code);n._markMessageAsFailed(a,t,o),r.dispatch(new i.af({messages:[a],source:a.sendingStatus===i.a1.PENDING?i.ae.REQUEST_RESEND_MESSAGE:i.ae.EVENT_MESSAGE_SENT_FAILED})),(0,i.x)((function(){return(0,i.b)(n,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return[2,l._trigger(t,a)]}))}))}))}))})),l},t.prototype._autoResendFileMessage=function(e){(0,i.r)(e instanceof o.F).throw(i.S.invalidParameters);var t=i.V.of(this._iid).logger;return t.debug("autoResendFileMessage pending",e),this._sendFileMessage(e.messageParams,e.reqId).onFailed((function(e){t.debug("autoResendFileMessage failed",e)})).onSucceeded((function(e){t.debug("autoResendFileMessage success",e)}))},t.prototype._createScheduledFileMessage=function(e,t,n,r){var a=this,o=i.V.of(this._iid).requestQueue,s=new Ge((0,i.g)((0,i.g)({reqId:n,channelType:this.channelType,channelUrl:this.url},e),{fileUrl:e.fileUrl,requireAuth:e.requireAuth}));o.send(s).then((function(e){var n=e.as(Ve).message;(0,i.x)((function(){return(0,i.b)(a,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return[2,t._trigger(null,n)]}))}))}))})).catch((function(o){if((0,i.ay)(o))throw o;(0,i.aa)(2).then((function(){var s=a._createPendingScheduledFileMessage(e,n,r);a._markMessageAsFailed(s,o),(0,i.x)((function(){return(0,i.b)(a,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return[2,t._trigger(o,s)]}))}))}))}))}))},t.prototype.sendFileMessages=function(e){var t,n;(0,i.r)(e.every((function(e){return T((0,i.g)((0,i.g)({},C),e))}))).throw(i.S.invalidParameters);var r=new o.f;try{for(var a=(0,i.H)(e),s=a.next();!s.done;s=a.next()){var c=s.value;this.sendFileMessage(c).onPending((function(e){return r._trigger(null,e)})).onFailed((function(e,t){return r._trigger(e,t)})).onSucceeded((function(e){return r._trigger(null,e)}))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},t.prototype.resendFileMessage=function(e,t){var n;return(0,i.b)(this,void 0,void 0,(function(){var r,a,s;return(0,i.c)(this,(function(c){return r=Boolean(e.url)||(0,i.i)(t)||(0,i.i)(null===(n=e.messageParams)||void 0===n?void 0:n.file),(0,i.r)(e instanceof o.F&&r&&!e.scheduledInfo).throw(i.S.invalidParameters),a=new i.ab,s=function(e,t){var n;return void 0===t&&(t=null),e.messageParams?(!e.url&&(0,i.i)(t)&&(e.messageParams.file=t),e.messageParams):(0,i.e)({data:e.data,customType:e.customType,mentionType:e.mentionType,mentionedUsers:e.mentionedUsers,mentionedUserIds:e.mentionedUserIds,metaArrays:e.metaArrays,parentMessageId:e.parentMessageId,appleCriticalAlertOptions:e.appleCriticalAlertOptions,file:null!=t?t:null===(n=e.messageParams)||void 0===n?void 0:n.file,fileUrl:e.url,fileName:e.name,fileSize:e.size,mimeType:e.type,thumbnailSizes:e.thumbnails.map((function(e){return{maxWidth:e.width,maxHeight:e.height}}))})}(e,t),this._sendFileMessage(s,e.reqId).onFailed((function(e){return a.reject(e)})).onSucceeded((function(e){return a.resolve(e)})),[2,a.promise]}))}))},t.prototype.updateFileMessage=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n,r,a;return(0,i.c)(this,(function(o){switch(o.label){case 0:return n=(0,i.g)((0,i.g)({},D),t),(0,i.r)((0,i.a)("number",e)&&function(e){return N(e)}(n)).throw(i.S.invalidParameters),r=i.V.of(this._iid).requestQueue,a=new Ne((0,i.g)({channelType:this.channelType,channelUrl:this.url,messageId:e},n)),[4,r.send(a)];case 1:return[2,o.sent().as(Pe).message]}}))}))},t.prototype.cancelUploadingFileMessage=function(e){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){return(0,i.r)((0,i.a)("string",e)).throw(i.S.invalidParameters),o.b.of(this._iid).fileMessageQueue.cancel(this,e),[2,!0]}))}))},t.prototype.copyFileMessage=function(e,n){var r,a;return(0,i.b)(this,void 0,void 0,(function(){var s,c;return(0,i.c)(this,(function(l){return(0,i.r)(e instanceof t&&n instanceof o.F&&n.sendingStatus===i.a1.SUCCEEDED&&this.url===n.channelUrl&&!n.scheduledInfo).throw(i.S.invalidParameters),s=new i.ab,c=(0,i.g)((0,i.g)({},n),{fileUrl:n.url,fileName:n.name,fileSize:n.size,mimeType:n.type,mentionType:n.mentionType,mentionedUserIds:null!==(r=n.mentionedUserIds)&&void 0!==r?r:null===(a=n.mentionedUsers)||void 0===a?void 0:a.map((function(e){return e.userId})),pushNotificationDeliveryOption:i.a5.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:n.thumbnails.map((function(e){return{maxWidth:e.width,maxHeight:e.height}})),requireAuth:n.requireAuth,isPinnedMessage:!1}),e._sendFileMessage(c).onSucceeded((function(e){return s.resolve(e)})).onFailed((function(e){return s.reject(e)})),[2,s.promise]}))}))},t.prototype.deleteMessage=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return(0,i.r)(e instanceof o.B).throw(i.S.invalidParameters),e.messageId>0?(t=i.V.of(this._iid).requestQueue,n=new xe({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId}),[4,t.send(n)]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.addReaction=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:return(0,i.r)(e instanceof o.B&&e.messageId>0&&(0,i.a)("string",t)).throw(i.S.invalidParameters),n=i.V.of(this._iid).requestQueue,r=new Ue({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,reactionKey:t}),[4,n.send(r)];case 1:return[2,a.sent().as(Le).reactionEvent]}}))}))},t.prototype.deleteReaction=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:return(0,i.r)(e instanceof o.B&&e.messageId>0&&(0,i.a)("string",t)).throw(i.S.invalidParameters),n=i.V.of(this._iid).requestQueue,r=new ze({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,reactionKey:t}),[4,n.send(r)];case 1:return[2,a.sent().as(Re).reactionEvent]}}))}))},t.prototype._updateUserMessageMetaArray=function(e,t,n,r){return(0,i.b)(this,void 0,void 0,(function(){var a,o,s,c,l,u;return(0,i.c)(this,(function(d){switch(d.label){case 0:return a=i.V.of(this._iid),o=a.dispatcher,s=a.requestQueue,c=new Oe({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:{array:t,mode:n,upsert:r}}),[4,s.send(c)];case 1:return l=d.sent(),u=l.as(Ae).message,o.dispatch(new i.af({messages:[u],source:i.ae.EVENT_MESSAGE_UPDATED})),[2,u]}}))}))},t.prototype._updateFileMessageMetaArray=function(e,t,n,r){return(0,i.b)(this,void 0,void 0,(function(){var a,o,s,c,l,u;return(0,i.c)(this,(function(d){switch(d.label){case 0:return a=i.V.of(this._iid),o=a.dispatcher,s=a.requestQueue,c=new Ne({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:{array:t,mode:n,upsert:r}}),[4,s.send(c)];case 1:return l=d.sent(),u=l.as(Pe).message,o.dispatch(new i.af({messages:[u],source:i.ae.EVENT_MESSAGE_UPDATED})),[2,u]}}))}))},t.prototype.createMessageMetaArrayKeys=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n;return(0,i.c)(this,(function(r){return(0,i.r)(e instanceof o.B&&e.messageId>0&&(0,i.l)("string",t)).throw(i.S.invalidParameters),n=t.map((function(e){return new o.c({key:e})})),e instanceof o.F?[2,this._updateFileMessageMetaArray(e.messageId,n,"add",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,n,"add",!0)]}))}))},t.prototype.deleteMessageMetaArrayKeys=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n;return(0,i.c)(this,(function(r){return(0,i.r)(e instanceof o.B&&e.messageId>0&&(0,i.l)("string",t)).throw(i.S.invalidParameters),n=t.map((function(e){return new o.c({key:e})})),e instanceof o.F?[2,this._updateFileMessageMetaArray(e.messageId,n,"remove",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,n,"remove",!0)]}))}))},t.prototype.addMessageMetaArrayValues=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(n){return(0,i.r)(e instanceof o.B&&e.messageId>0&&t.every((function(e){return e instanceof o.c}))).throw(i.S.invalidParameters),e instanceof o.F?[2,this._updateFileMessageMetaArray(e.messageId,t,"add",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,t,"add",!0)]}))}))},t.prototype.removeMessageMetaArrayValues=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(n){return(0,i.r)(e instanceof o.B&&e.messageId>0&&t.every((function(e){return e instanceof o.c}))).throw(i.S.invalidParameters),e instanceof o.F?[2,this._updateFileMessageMetaArray(e.messageId,t,"remove",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,t,"remove",!0)]}))}))},t.prototype.report=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n,r,a,o;return(0,i.c)(this,(function(s){switch(s.label){case 0:return(0,i.r)((0,i.I)(I,e)&&(0,i.a)("string",t)).throw(i.S.invalidParameters),n=i.V.of(this._iid),r=n.sdkState,a=n.requestQueue,o=new Se({channelUrl:this.url,channelType:this.channelType,userId:r.userId,category:e,description:t}),[4,a.send(o)];case 1:return s.sent(),[2]}}))}))},t.prototype.reportUser=function(e,t,n){return(0,i.b)(this,void 0,void 0,(function(){var r,a,o,s;return(0,i.c)(this,(function(c){switch(c.label){case 0:return(0,i.r)(e instanceof i.U&&(0,i.I)(I,t)&&(0,i.a)("string",n)).throw(i.S.invalidParameters),r=i.V.of(this._iid),a=r.sdkState,o=r.requestQueue,s=new Ce({channelUrl:this.url,channelType:this.channelType,userId:a.userId,offendingUserId:e.userId,category:t,description:n}),[4,o.send(s)];case 1:return c.sent(),[2]}}))}))},t.prototype.reportMessage=function(e,t,n){return(0,i.b)(this,void 0,void 0,(function(){var r,a,s,c;return(0,i.c)(this,(function(l){switch(l.label){case 0:return(0,i.r)(e instanceof o.S&&(0,i.I)(I,t)&&(0,i.a)("string",n)).throw(i.S.invalidParameters),r=i.V.of(this._iid),a=r.sdkState,s=r.requestQueue,c=new Te({channelUrl:this.url,channelType:this.channelType,userId:a.userId,offendingUserId:e.sender.userId,messageId:e.messageId,category:t,description:n}),[4,s.send(c)];case 1:return l.sent(),[2]}}))}))},t.prototype.updatePoll=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:return(0,i.r)((0,i.a)("number",e)&&function(e){return(0,i.a)("string",e.title,!0)&&(0,i.as)(e.data)&&(0,i.a)("boolean",e.allowUserSuggestion,!0)&&(0,i.a)("boolean",e.allowMultipleVotes,!0)&&(0,i.a)("number",e.closeAt,!0)}(t)).throw(i.S.invalidParameters),n=i.V.of(this._iid).requestQueue,r=new qe((0,i.g)({pollId:e},t)),[4,n.send(r)];case 1:return[2,a.sent().as(We).poll]}}))}))},t.prototype.deletePoll=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:return t=(0,i.a)("number",e),(0,i.r)(t).throw(i.S.invalidParameters),n=i.V.of(this._iid).requestQueue,r=new Ke({pollId:e}),[4,n.send(r)];case 1:return a.sent(),[2]}}))}))},t.prototype.closePoll=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:return t=(0,i.a)("number",e),(0,i.r)(t).throw(i.S.invalidParameters),n=i.V.of(this._iid).requestQueue,r=new Qe({pollId:e}),[4,n.send(r)];case 1:return[2,a.sent().as(Ye).poll]}}))}))},t.prototype.addPollOption=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n,r,a;return(0,i.c)(this,(function(o){switch(o.label){case 0:return n=(0,i.a)("number",e)&&(0,i.a)("string",t)&&""!==t.trim(),(0,i.r)(n).throw(i.S.invalidParameters),r=i.V.of(this._iid).requestQueue,a=new Ze({channelUrl:this.url,channelType:this.channelType,pollId:e,optionText:t}),[4,r.send(a)];case 1:return[2,o.sent().as(Je).poll]}}))}))},t.prototype.updatePollOption=function(e,t,n){return(0,i.b)(this,void 0,void 0,(function(){var r,a,o;return(0,i.c)(this,(function(s){switch(s.label){case 0:return r=(0,i.a)("number",e)&&(0,i.a)("number",t)&&(0,i.a)("string",n)&&""!==n.trim(),(0,i.r)(r).throw(i.S.invalidParameters),a=i.V.of(this._iid).requestQueue,o=new Xe({pollId:e,pollOptionId:t,optionText:n}),[4,a.send(o)];case 1:return[2,s.sent().as($e).poll]}}))}))},t.prototype.deletePollOption=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n,r,a;return(0,i.c)(this,(function(o){switch(o.label){case 0:return n=(0,i.a)("number",e)&&(0,i.a)("number",t),(0,i.r)(n).throw(i.S.invalidParameters),r=i.V.of(this._iid).requestQueue,a=new et({pollId:e,pollOptionId:t}),[4,r.send(a)];case 1:return o.sent(),[2]}}))}))},t.prototype.votePoll=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n,r,a,o,s,c,l;return(0,i.c)(this,(function(u){switch(u.label){case 0:return n=(0,i.a)("number",e)&&(0,i.l)("number",t),(0,i.r)(n).throw(i.S.invalidParameters),r=i.V.of(this._iid),a=r.requestQueue,o=r.dispatcher,s=new tt({reqId:this._generateRequestId(),channelUrl:this.url,channelType:this.channelType,pollId:e,pollOptionIds:t}),[4,a.send(s)];case 1:return c=u.sent(),l=c.as(nt).event,o.dispatch(new i.az({event:l,source:i.ae.EVENT_POLL_VOTED})),[2,l]}}))}))},t.prototype.getPollChangeLogsSinceTimestamp=function(e){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){switch(t.label){case 0:return(0,i.r)((0,i.a)("number",e)).throw(i.S.invalidParameters),[4,s.b.of(this._iid).getPollChangeLogs(this.url,this.channelType,e)];case 1:return[2,t.sent()]}}))}))},t.prototype.getPollChangeLogsSinceToken=function(e){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){switch(t.label){case 0:return(0,i.r)((0,i.a)("string",e,!0)),[4,s.b.of(this._iid).getPollChangeLogs(this.url,this.channelType,e)];case 1:return[2,t.sent()]}}))}))},t.prototype.createPollListQuery=function(e){return void 0===e&&(e=10),new s.P(this._iid,{channelUrl:this.url,channelType:this.channelType,limit:e})},t.prototype.createPollVoterListQuery=function(e,t,n){return void 0===n&&(n=20),new s.a(this._iid,{channelUrl:this.url,channelType:this.channelType,pollId:e,pollOptionId:t,limit:n})},t}(i.X)},63582:(e,t,n)=>{"use strict";n.d(t,{P:()=>S,a:()=>I,b:()=>v,c:()=>f,d:()=>_,e:()=>y,f:()=>p,g:()=>m,h:()=>b,i:()=>w,v:()=>h});var r=n(35115),a=function(e){function t(t){var n=t.title,a=t.optionTexts,i=t.data,o=t.allowUserSuggestion,s=t.allowMultipleVotes,c=t.closeAt,l=e.call(this)||this;return l.method=r.A.POST,l.path=r.aq,l.params={title:n,options:a,data:i,allow_user_suggestion:o,allow_multiple_votes:s,close_at:c},l}return(0,r._)(t,e),t}(r.f),i=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a.poll=new r.a4(t,n),a}return(0,r._)(t,e),t}(r.h),o=function(e){function t(t){var n=t.channelUrl,a=t.channelType,i=t.pollId,o=e.call(this)||this;return o.method=r.A.GET,o.path="".concat(r.aq,"/").concat(encodeURIComponent(i)),o.params={channel_url:n,channel_type:a},o}return(0,r._)(t,e),t}(r.f),s=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a.poll=new r.a4(t,n),a}return(0,r._)(t,e),t}(r.h),c=function(e){function t(t){var n=t.channelUrl,a=t.channelType,i=t.pollId,o=t.pollOptionId,s=e.call(this)||this;return s.method=r.A.GET,s.path="".concat(r.aq,"/").concat(encodeURIComponent(i),"/options/").concat(encodeURIComponent(o)),s.params={channel_url:n,channel_type:a},s}return(0,r._)(t,e),t}(r.f),l=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a.pollOption=new r.ak(t,n),a}return(0,r._)(t,e),t}(r.h),u=function(e){function t(t){var n=t.channelType,a=t.channelUrl,i=t.timestamp,o=t.token,s=e.call(this)||this;return s.method=r.A.GET,s.path="".concat((0,r.a7)(n),"/").concat(encodeURIComponent(a),"/polls/changelogs"),s.params=(0,r.e)({change_ts:i,token:o}),s}return(0,r._)(t,e),t}(r.f),d=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a.updatedPolls=n.updated.map((function(e){return function(e,t){return t?new r.a4(e,t):null}(t,e)})),a.deletedPollIds=n.deleted.map((function(e){return e})),a.hasMore=n.has_more,a.nextToken=n.next,a}return(0,r._)(t,e),t}(r.h),f={title:null,optionTexts:null,data:null,allowUserSuggestion:null,allowMultipleVotes:null,closeAt:-1},h=function(e){return(0,r.a)("string",e.title)&&(0,r.ar)(e.optionTexts)&&(0,r.as)(e.data)&&(0,r.a)("boolean",e.allowUserSuggestion,!0)&&(0,r.a)("boolean",e.allowMultipleVotes,!0)&&(0,r.a)("number",e.closeAt,!0)},p={channelUrl:null,channelType:null,pollId:null,pollOptionId:null},m=function(e){return(0,r.a)("string",e.channelUrl)&&(0,r.I)(r.M,e.channelType)&&(0,r.a)("number",e.pollId)&&(0,r.a)("number",e.pollOptionId)},_={channelUrl:null,channelType:null,pollId:null},y=function(e){return(0,r.a)("string",e.channelUrl)&&""!==e.channelUrl&&(0,r.I)(r.M,e.channelType)&&(0,r.a)("number",e.pollId)},g={},v=function(){function e(e,t){var n=t.sdkState,r=t.dispatcher,a=t.sessionManager,i=t.requestQueue,o=t.logger;this._iid=e,this._sdkState=n,this._sessionManager=a,this._requestQueue=i,this._dispatcher=r,this._logger=o,g[e]=this}return e.of=function(e){return g[e]},e.prototype.buildPollFromSerializedData=function(e){var t=(0,r.s)(e);return new r.a4(this._iid,r.a4.payloadify(t))},e.prototype.get=function(e){return(0,r.b)(this,void 0,void 0,(function(){var t;return(0,r.c)(this,(function(n){switch(n.label){case 0:return(0,r.r)(y(e)).throw(r.S.invalidParameters),t=new o((0,r.g)({},e)),[4,this._requestQueue.send(t)];case 1:return[2,n.sent().as(s).poll]}}))}))},e.prototype.create=function(e){return(0,r.b)(this,void 0,void 0,(function(){var t,n;return(0,r.c)(this,(function(o){switch(o.label){case 0:return(0,r.r)(h(e)).throw(r.S.invalidParameters),t=e.data,n=new a((0,r.g)((0,r.g)({},e),{data:t})),[4,this._requestQueue.send(n)];case 1:return[2,o.sent().as(i).poll]}}))}))},e.prototype.getOption=function(e){return(0,r.b)(this,void 0,void 0,(function(){var t;return(0,r.c)(this,(function(n){switch(n.label){case 0:return(0,r.r)(m(e)).throw(r.S.invalidParameters),t=new c((0,r.g)({},e)),[4,this._requestQueue.send(t)];case 1:return[2,n.sent().as(l).pollOption]}}))}))},e.prototype.getPollChangeLogs=function(e,t,n,a){return void 0===a&&(a=r.ae.SYNC_POLL_CHANGELOGS),(0,r.b)(this,void 0,void 0,(function(){var i,o,s,c,l,f,h;return(0,r.c)(this,(function(p){switch(p.label){case 0:return i=new u((0,r.e)({channelType:t,channelUrl:e,timestamp:"number"==typeof n?n:null,token:"string"==typeof n?n:null})),[4,this._requestQueue.send(i)];case 1:return o=p.sent(),s=o.as(d),c=s.updatedPolls,l=s.deletedPollIds,f=s.hasMore,h=s.nextToken,c.length>0&&this._dispatcher.dispatch(new r.at({polls:c,source:a})),[2,{updatedPolls:c,deletedPollIds:l,hasMore:f,token:h}]}}))}))},e}(),b=function(e,t){this.pollId=0,this.messageId=0,this.pollId=t.poll.id,this.messageId=t.poll.message_id,this._iid=e,this._payload=t},w=function(e){this.pollId=0,this.messageId=0,this.pollId=e.poll_id,this.messageId=e.message_id,this._payload=e},k=function(e){function t(t){var n=t.channelUrl,a=t.channelType,i=t.token,o=t.limit,s=e.call(this)||this;return s.method=r.A.GET,s.path=r.aq,s.params={channel_url:n,channel_type:a,token:i,limit:o},s}return(0,r._)(t,e),t}(r.f),E=function(e){function t(t,n){var a,i=this;return(i=e.call(this,t,n)||this).polls=(null!==(a=n.polls)&&void 0!==a?a:[]).map((function(e){return new r.a4(t,e)})),i.token=n.next,i}return(0,r._)(t,e),t}(r.h),S=function(e){function t(t,n){return e.call(this,t,n.channelUrl,n.channelType,n)||this}return(0,r._)(t,e),t.prototype.next=function(){return(0,r.b)(this,void 0,void 0,(function(){var e,t,n,a,i,o;return(0,r.c)(this,(function(s){switch(s.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=r.V.of(this._iid).requestQueue,t=new k((0,r.g)((0,r.g)({},this),{token:this._token})),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=s.sent(),a=n.as(E),i=a.polls,o=a.token,this._token=o,this._hasNext=!!o,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw r.S.queryInProgress;case 4:return[3,6];case 5:throw r.S.invalidParameters;case 6:return[2]}}))}))},t}(r.ai),C=function(e){function t(t){var n=t.channelUrl,a=t.channelType,i=t.pollId,o=t.pollOptionId,s=t.token,c=t.limit,l=e.call(this)||this;return l.method=r.A.GET,l.path="".concat(r.aq,"/").concat(encodeURIComponent(i),"/options/").concat(encodeURIComponent(o),"/voters"),l.params={channel_url:n,channel_type:a,token:s,limit:c},l}return(0,r._)(t,e),t}(r.f),T=function(e){function t(t,n){var a,i=this;return(i=e.call(this,t,n)||this).voters=(null!==(a=n.voters)&&void 0!==a?a:[]).map((function(e){return new r.U(t,e)})),i.token=n.next,i}return(0,r._)(t,e),t}(r.h),I=function(e){function t(t,n){var r=e.call(this,t,n.channelUrl,n.channelType,n)||this;return r.pollId=n.pollId,r.pollOptionId=n.pollOptionId,r}return(0,r._)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,r.a)("number",this.pollId)&&(0,r.a)("number",this.pollOptionId)},t.prototype.next=function(){return(0,r.b)(this,void 0,void 0,(function(){var e,t,n,a,i,o;return(0,r.c)(this,(function(s){switch(s.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=r.V.of(this._iid).requestQueue,t=new C((0,r.g)((0,r.g)({},this),{pollId:this.pollId,pollOptionId:this.pollOptionId,token:this._token})),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=s.sent(),a=n.as(T),i=a.voters,o=a.token,this._token=o,this._hasNext=!!o,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw r.S.queryInProgress;case 4:return[3,6];case 5:throw r.S.invalidParameters;case 6:return[2]}}))}))},t}(r.ai)},79181:(e,t,n)=>{"use strict";n.d(t,{A:()=>Ne,D:()=>R,G:()=>r,I:()=>Ae,M:()=>u,N:()=>I,P:()=>a,R:()=>G,S:()=>E,U:()=>V,a:()=>h,b:()=>M,c:()=>Me,d:()=>U,e:()=>b,f:()=>z,g:()=>d,h:()=>Le,i:()=>P,j:()=>A,k:()=>Pe,l:()=>H,m:()=>B,n:()=>L,o:()=>x,p:()=>f,q:()=>C,r:()=>T,s:()=>F,t:()=>i,v:()=>S});var r,a,i,o,s=n(35115),c=n(37425),l=n(93872);(o=r||(r={})).LATEST_LAST_MESSAGE="latest_last_message",o.CHRONOLOGICAL="chronological",o.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",o.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical",function(e){e.CHRONOLOGICAL="chronological",e.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",e.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}(a||(a={})),function(e){e.CREATED_AT="created_at",e.SCHEDULED_AT="scheduled_at"}(i||(i={}));var u,d=function(e){switch(e){case r.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case r.CHRONOLOGICAL:return["-createdAt","syncIndex"];case r.CHANNEL_NAME_ALPHABETICAL:return["name"]}},f=function(){function e(){this.messageTypeFilter=s.a3.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=s.ac.NONE}return e.prototype.clone=function(){var t=new e,n=JSON.parse(JSON.stringify(this));return Object.keys(n).forEach((function(e){t[e]=n[e]})),t},e.prototype.match=function(e){switch(this.messageTypeFilter){case s.a3.USER:if(e.messageType!==s.Z.USER)return!1;break;case s.a3.FILE:if(e.messageType!==s.Z.FILE)return!1;break;case s.a3.ADMIN:if(e.messageType!==s.Z.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(e.customType))return!1;if(this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0){if(!(e instanceof l.S))return!1;if(!this.senderUserIdsFilter.includes(e.sender.userId))return!1}switch(this.replyType){case s.ac.NONE:if(e.parentMessageId>0)return!1;break;case s.ac.ONLY_REPLY_TO_CHANNEL:if(e instanceof l.S&&e.parentMessageId>0&&!e.replyToChannel)return!1}return!0},e}();!function(e){e.CHANNEL_LATEST="channel_latest",e.NEWEST_CHILD_MESSAGE="newest_child_message"}(u||(u={}));var h=function(e){switch(e){case u.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case u.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}},p="undefined"!=typeof document&&"undefined"!=typeof navigator;p&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var m=p&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");p&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),p&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),p&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");var _,y,g=p&&navigator.userAgent&&navigator.userAgent.includes("Edge/"),v=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))};!function(e){e[e.PROCESSING=0]="PROCESSING",e[e.DONE=1]="DONE"}(_||(_={})),function(e){e.NEWNODE="newnode",e.REMOVENODE="removenode",e.CLAIM_HOST="claimhost",e.SYNC_HOST="synchost",e.REQUEST_LOCK="requestlock",e.ACQUIRE_LOCK="acquirelock",e.RELEASE_LOCK="releaselock"}(y||(y={}));var b,w={},k=function(){function e(e,t){void 0===t&&(t={});var n=this;return this._state=_.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],w[e]&&!t.forceCreate||(this.nodeId=v(),this.key=e,p&&(t.startAsInvisible?this.registerNode():"visible"===document.visibilityState?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&n.claimHost()})),window.addEventListener("message",(function(e){var t,r,a=e.data,i=a.nodeId,o=a.requestId,c=a.key,l=a.op,u=a.data;if(i!==n.nodeId&&c===n.key)switch(l){case y.NEWNODE:n._sendSync();break;case y.CLAIM_HOST:n._sendSync(),n._hostId=i;break;case y.SYNC_HOST:if(!n.isInSync){n._activationTimeout&&clearTimeout(n._activationTimeout);var d=u,f=d.currentItemRequestId,h=d.queue,p=function(e){n._queue.findIndex((function(t){return t.requestId===e.requestId}))<0&&n._requestLock({nodeId:e.nodeId,requestId:e.requestId,key:n.key,op:y.REQUEST_LOCK,ts:e.ts})};try{for(var m=(0,s.H)(h),_=m.next();!_.done;_=m.next())p(_.value)}catch(e){t={error:e}}finally{try{_&&!_.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}n._currentItem=n._queue.find((function(e){return e.requestId===f})),n._completeSync()}break;case y.REMOVENODE:n._queue=n._queue.filter((function(e){return e.nodeId!==a.nodeId})),n._currentItem&&n._currentItem.nodeId===a.nodeId&&(n._currentItem=null,n._acquire(n._queue[0]));break;case y.REQUEST_LOCK:n._requestLock(a);break;case y.ACQUIRE_LOCK:var g=n._queue.find((function(e){return e.requestId===o}));n._acquire(g);break;case y.RELEASE_LOCK:n._release(o)}})),window.addEventListener("beforeunload",(function(){n._send(y.REMOVENODE)}))),w[e]=this),w[e]}return Object.defineProperty(e.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInSync",{get:function(){return this._state==_.DONE},enumerable:!1,configurable:!0}),e.prototype._send=function(e,t){var n,r;void 0===t&&(t={});var a={nodeId:this.nodeId,requestId:null!==(n=null==t?void 0:t.requestId)&&void 0!==n?n:v(),key:this.key,op:e,data:null!==(r=t.data)&&void 0!==r?r:null,ts:Date.now()};return p&&window.postMessage(a,"*"),a},e.prototype._acquire=function(e){void 0===e&&(e=null),e?(this._currentItem=e,this._currentItem.onAcquired(e.requestId)):this._currentItem=null},e.prototype._release=function(e){if(this._currentItem&&this._currentItem.requestId===e){var t=this._currentItem;this._currentItem=null,t.nodeId===this.nodeId&&this._send(y.RELEASE_LOCK,{requestId:t.requestId});var n=this._queue.findIndex((function(t){return t.requestId===e}));n>-1&&this._queue.splice(n,1),t.onReleased(e)}},e.prototype._requestLock=function(e){var t=this;return new Promise((function(n){var r={nodeId:e.nodeId,requestId:e.requestId,ts:e.ts,onAcquired:function(e){t.isHost&&t._send(y.ACQUIRE_LOCK,{requestId:e}),n()},onReleased:function(){t._acquire(t._queue[0])}},a=!1;for(var i in t._queue)if(t._queue[i].ts>r.ts){t._queue.splice(parseInt(i),0,r),a=!0;break}a||t._queue.push(r),t._currentItem||t._acquire(t._queue[0])}))},e.prototype._sendSync=function(){var e;this.isHost&&this._send(y.SYNC_HOST,{data:{currentItemRequestId:null===(e=this._currentItem)||void 0===e?void 0:e.requestId,queue:this._queue.map((function(e){return{nodeId:e.nodeId,requestId:e.requestId,ts:e.ts}}))}})},e.prototype._waitUntilSyncCompleted=function(){return(0,s.b)(this,void 0,void 0,(function(){var e=this;return(0,s.c)(this,(function(t){return this.isHost&&!this.isInSync?[2,new Promise((function(t){e._activationQueue.push(t)}))]:[2]}))}))},e.prototype._waitSync=function(){var e=this;this.isInSync||(this._activationTimeout=setTimeout((function(){e._completeSync()}),8))},e.prototype._completeSync=function(){this.isInSync||(this._state=_.DONE,this._activationQueue.forEach((function(e){return e()})),this._activationQueue=[])},e.prototype.registerNode=function(){this._send(y.NEWNODE),this._waitSync()},e.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(y.CLAIM_HOST),this._waitSync()},e.prototype.lock=function(){return(0,s.b)(this,void 0,void 0,(function(){var e;return(0,s.c)(this,(function(t){switch(t.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return t.sent(),e=this._send(y.REQUEST_LOCK),[4,this._requestLock(e)];case 2:return t.sent(),[2]}}))}))},e.prototype.unlock=function(){var e;this._release(null===(e=this._currentItem)||void 0===e?void 0:e.requestId)},e}(),E=(0,s.g)((0,s.g)({},c.U),{scheduledAt:null}),S=function(e){return(0,c.v)(e)&&(0,s.a)("number",e.scheduledAt,!0)},C=(0,s.g)((0,s.g)({},c.j),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),T=function(e){return(0,c.l)(e)&&(0,s.a)("number",e.scheduledAt)&&((0,s.i)(e.file)||(0,s.a)("string",e.fileUrl))&&(0,s.a)("string",e.fileName,!0)&&(0,s.a)("string",e.mimeType,!0)&&(0,s.a)("number",e.fileSize,!0)&&(null===e.thumbnailSizes||e.thumbnailSizes.every((function(e){return(0,s.a)("object",e)&&e.maxWidth>0&&e.maxHeight>0})))},I="UnsentMessage",M="reqId",O={},A=function(e){function t(t,n){var r=n.sdkState,a=n.cacheContext,i=e.call(this,t)||this;return i._sdkState=r,i._cacheContext=a,O[t]=i,i._mutex=new k("unsendmessagecache.lock"),i}return(0,s._)(t,e),t.of=function(e){return O[e]},Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return e&&e.collection(I)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e){if(e.messageId>0)throw s.S.invalidParameters;var t,n=(0,s.g)({},e.serialize());return e instanceof l.U?(e.messageParams&&(n.messageParams=(0,c.s)(e.messageParams)),e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(n.scheduledInfo.scheduledMessageParams=(t=e.scheduledInfo.scheduledMessageParams,(0,s.g)((0,s.g)({},(0,c.s)(t)),{scheduledAt:t.scheduledAt})))):e instanceof l.F&&(e.messageParams&&(n.messageParams=(0,c.k)(e.messageParams)),e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(n.scheduledInfo.scheduledMessageParams=function(e){return(0,s.g)((0,s.g)({},(0,c.k)(e)),{scheduledAt:e.scheduledAt})}(e.scheduledInfo.scheduledMessageParams))),n},t.prototype._deserialize=function(e){return e?(e=(0,s.g)((0,s.g)({},e),{messageId:parseInt(e.messageId)}),l.b.of(this._iid).buildMessageFromSerializedData(e)):null},t.prototype._deserializeWithMessageCreateParams=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o;return(0,s.c)(this,(function(s){switch(s.label){case 0:return t=l.b.of(this._iid),n=this._deserialize(e),e.messageParams?n instanceof l.U?(r=e.messageParams,n.messageParams=t.buildUserMessageCreateParamsFromSerializedData(r,n),[3,4]):[3,1]:[3,4];case 1:return n instanceof l.F?(r=e.messageParams).fileKey&&"string"==typeof r.fileKey&&(0,c.m)(r.fileType)?(a=r,[4,this.collection.getBlob(r.fileKey)]):[3,3]:[3,4];case 2:a.file=s.sent(),s.label=3;case 3:n.messageParams=t.buildFileMessageCreateParamsFromSerializedData(r,n),s.label=4;case 4:return n.scheduledInfo&&e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams?n instanceof l.U?(i=e.scheduledInfo.scheduledMessageParams,n.scheduledInfo.scheduledMessageParams=t.buildScheduledUserMessageCreateParamsFromSerializedData(i,n),[3,8]):[3,5]:[3,8];case 5:return n instanceof l.F?(i=e.scheduledInfo.scheduledMessageParams).fileKey&&"string"==typeof i.fileKey&&(0,c.m)(i.fileType)?(o=i,[4,this.collection.getBlob(i.fileKey)]):[3,7]:[3,8];case 6:o.file=s.sent(),s.label=7;case 7:n.scheduledInfo.scheduledMessageParams=t.buildScheduledFileMessageCreateParamsFromSerializedData(i,n),s.label=8;case 8:return[2,n]}}))}))},t.prototype.get=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(e))]:[3,2];case 1:if(t=n.sent())return[2,this._deserializeWithMessageCreateParams(t)];n.label=2;case 2:return[2,null]}}))}))},t.prototype.fetch=function(e){var t=e.channelUrl,n=void 0===t?null:t,r=e.filter,a=void 0===r?new f:r,i=e.order,o=void 0===i?u.CHANNEL_LATEST:i,c=e.sendingStatus,l=void 0===c?null:c,d=e.backward,p=void 0!==d&&d,m=e.parentMessageId,_=void 0===m?null:m;return(0,s.b)(this,void 0,void 0,(function(){var e,t,r,i,c=this;return(0,s.c)(this,(function(d){switch(d.label){case 0:return this.localCacheEnabled?(e=h(o),t={"/where":function(e){return!!(o!==u.NEWEST_CHILD_MESSAGE||_&&0!==e.parentMessageId&&e.parentMessageId===_)&&a.match(c._deserialize(e))}},n&&(t.channelUrl=n),l&&(t.sendingStatus=l),r={where:t,index:e,backward:p},[4,this.collection.query(r)]):[3,3];case 1:return[4,d.sent().fetch({})];case 2:return i=d.sent(),[2,Promise.all(i.map((function(e){return(0,s.b)(c,void 0,void 0,(function(){return(0,s.c)(this,(function(t){switch(t.label){case 0:return[4,this._deserializeWithMessageCreateParams(e)];case 1:return[2,t.sent()]}}))}))})))];case 3:return[2,[]]}}))}))},t.prototype.getAllChildMessages=function(e,t){return void 0===t&&(t=new f),(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(n){switch(n.label){case 0:return[4,this.fetch({filter:t,order:u.NEWEST_CHILD_MESSAGE,channelUrl:e.channelUrl,backward:!1,parentMessageId:e.messageId})];case 1:return[2,n.sent()]}}))}))},t.prototype.upsert=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t=this;return(0,s.c)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map((function(e){return(0,s.b)(t,void 0,void 0,(function(){var t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return e instanceof l.F?[4,this._mutex.lock()]:[3,4];case 1:return n.sent(),[4,this.saveBlob(e)];case 2:return n.sent(),[4,this._mutex.unlock()];case 3:n.sent(),n.label=4;case 4:return t=this._serialize(e),[4,this.collection.upsertOne(t)];case 5:return n.sent(),[2]}}))}))})))]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.upsertChildMessages=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t=this;return(0,s.c)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map((function(e){return(0,s.b)(t,void 0,void 0,(function(){var t,n;return(0,s.c)(this,(function(r){switch(r.label){case 0:return t=[],(null===(n=e.threadInfo)||void 0===n?void 0:n.replyCount)>0?[4,this.getAllChildMessages(e)]:[3,2];case 1:t=r.sent(),r.label=2;case 2:return t.length>0?(t.forEach((function(t){return t.applyParentMessage(e)})),[4,this.upsert(t)]):[3,4];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))})))]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.remove=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o;return(0,s.c)(this,(function(c){switch(c.label){case 0:if(!this.localCacheEnabled)return[3,8];c.label=1;case 1:c.trys.push([1,6,7,8]),t=(0,s.H)(e),n=t.next(),c.label=2;case 2:return n.done?[3,5]:(r=n.value,[4,this.collection.remove(r)]);case 3:c.sent(),c.label=4;case 4:return n=t.next(),[3,2];case 5:return[3,8];case 6:return a=c.sent(),i={error:a},[3,8];case 7:try{n&&!n.done&&(o=t.return)&&o.call(t)}finally{if(i)throw i.error}return[7];case 8:return[2]}}))}))},t.prototype.removeMessagesOfChannel=function(e){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(t){switch(t.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e}})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.clear=function(){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(e){switch(e.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.saveBlob=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r;return(0,s.c)(this,(function(a){switch(a.label){case 0:return e instanceof l.F?e.messageParams&&(t=e.messageParams).file&&(0,c.n)(t.file)?[4,this.collection.saveBlob(t.file,e.reqId)]:[3,2]:[3,4];case 1:r=a.sent(),t.fileKey=r,t.fileType=c.F.BLOB,a.label=2;case 2:return e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(n=e.scheduledInfo.scheduledMessageParams).file&&(0,c.n)(n.file)?[4,this.collection.saveBlob(n.file,e.reqId)]:[3,4];case 3:r=a.sent(),n.fileKey=r,n.fileType=c.F.BLOB,a.label=4;case 4:return[2]}}))}))},t}(s.X),N={},P=function(e){function t(t,n){var r=n.sdkState,a=n.cacheContext,i=n.unsentMessageCache,o=e.call(this,t)||this;return o._sdkState=r,o._cacheContext=a,o._unsentMessageCache=i,N[t]=o,o}return(0,s._)(t,e),t.of=function(e){return N[e]},Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return e?e.collection(c.b):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e){return(0,s.g)((0,s.g)({},e.serialize()),{messageId:"".concat(e.messageId)})},t.prototype._deserialize=function(e){return e=(0,s.g)((0,s.g)({},e),{messageId:parseInt(e.messageId)}),l.b.of(this._iid).buildMessageFromSerializedData(e)},t.prototype.get=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(e))]:[3,2];case 1:if(t=n.sent())return[2,this._deserialize(t)];n.label=2;case 2:return[2,null]}}))}))},t.prototype.fetch=function(e){var t=e.channelUrl,n=e.token,r=e.limit,a=void 0===r?c.D:r,i=e.filter,o=void 0===i?new f:i,l=e.order,d=void 0===l?u.CHANNEL_LATEST:l,p=e.backward,m=void 0!==p&&p,_=e.parentMessageId,y=void 0===_?null:_,g=e.isPollOnly,v=void 0!==g&&g;return(0,s.b)(this,void 0,void 0,(function(){var e,r,i,c=this;return(0,s.c)(this,(function(l){switch(l.label){case 0:return this.localCacheEnabled?(e=h(d),r={where:{channelUrl:t,"/where":function(e){if(n)switch(d){case u.CHANNEL_LATEST:if(!m&&e.createdAt>n||m&&e.createdAt<n)return!1;break;case u.NEWEST_CHILD_MESSAGE:if(!y||0===e.parentMessageId||e.parentMessageId!==y)return!1}return!(v&&!e._poll)&&o.match(c._deserialize(e))}},index:e,backward:m},[4,this.collection.query(r)]):[3,3];case 1:return[4,l.sent().fetch({limit:a})];case 2:return i=l.sent(),[2,Promise.all(i.map((function(e){return(0,s.b)(c,void 0,void 0,(function(){return(0,s.c)(this,(function(t){return[2,this._deserialize(e)]}))}))})))];case 3:return[2,[]]}}))}))},t.prototype.getAllChildMessages=function(e,t){return void 0===t&&(t=new f),(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(n){switch(n.label){case 0:return[4,this.fetch({channelUrl:e.channelUrl,token:Date.now(),limit:null,backward:!1,filter:t,order:u.NEWEST_CHILD_MESSAGE,parentMessageId:e.messageId})];case 1:return[2,n.sent()]}}))}))},t.prototype.upsert=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n=this;return(0,s.c)(this,(function(r){switch(r.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(e)]:[3,5];case 1:return r.sent(),t=e.map((function(e){return n._serialize(e)})),[4,this.collection.upsertMany(t)];case 2:return r.sent(),[4,this.upsertChildMessages(e)];case 3:return r.sent(),[4,this._unsentMessageCache.upsertChildMessages(e)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.upsertChildMessages=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t=this;return(0,s.c)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map((function(e){return(0,s.b)(t,void 0,void 0,(function(){var t,n;return(0,s.c)(this,(function(r){switch(r.label){case 0:return t=[],(null===(n=e.threadInfo)||void 0===n?void 0:n.replyCount)>0?[4,this.getAllChildMessages(e)]:[3,2];case 1:t=r.sent(),r.label=2;case 2:return t.length>0?(t.forEach((function(t){return t.applyParentMessage(e)})),[4,this.upsert(t)]):[3,4];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))})))]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.remove=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o;return(0,s.c)(this,(function(c){switch(c.label){case 0:if(!this.localCacheEnabled)return[3,8];c.label=1;case 1:c.trys.push([1,6,7,8]),t=(0,s.H)(e),n=t.next(),c.label=2;case 2:return n.done?[3,5]:(r=n.value,[4,this.collection.remove("".concat(r))]);case 3:c.sent(),c.label=4;case 4:return n=t.next(),[3,2];case 5:return[3,8];case 6:return a=c.sent(),i={error:a},[3,8];case 7:try{n&&!n.done&&(o=t.return)&&o.call(t)}finally{if(i)throw i.error}return[7];case 8:return[2]}}))}))},t.prototype.removeMessagesOfChannel=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e},index:h(u.CHANNEL_LATEST)})]:[3,6];case 1:return n.sent(),[4,(t=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync"))];case 2:return n.sent(),[4,t.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync.meta"))];case 3:return n.sent(),[4,t.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs"))];case 4:return n.sent(),[4,t.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs.meta"))];case 5:n.sent(),n.label=6;case 6:return[2]}}))}))},t.prototype.removeUnderOffset=function(e,t){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e,createdAt:{"<":t}},index:h(u.CHANNEL_LATEST)})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.clear=function(){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(e){switch(e.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.countBetween=function(e,t,n){return(0,s.b)(this,void 0,void 0,(function(){var r,a=this;return(0,s.c)(this,(function(i){switch(i.label){case 0:return this.localCacheEnabled?(r=h(u.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:e,"/where":function(e){var r=a._deserialize(e);return n.includes(r.createdAt)&&t.match(r)}},index:r}).count()]):[3,2];case 1:return[2,i.sent()];case 2:return[2,0]}}))}))},t.prototype.saveBlobs=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t=this;return(0,s.c)(this,(function(n){switch(n.label){case 0:return[4,Promise.all(e.map((function(e){return(0,s.b)(t,void 0,void 0,(function(){var t,n;return(0,s.c)(this,(function(r){switch(r.label){case 0:return e instanceof l.F&&e.messageParams&&(t=e.messageParams).file&&(0,c.n)(t.file)?[4,this.collection.saveBlob(t.file,e.reqId)]:[3,2];case 1:n=r.sent(),t.fileKey=n,r.label=2;case 2:return[2]}}))}))})))];case 1:return n.sent(),[2]}}))}))},t.prototype._getGroupChannelPreferenceSize=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o;return(0,s.c)(this,(function(s){switch(s.label){case 0:return t=0,[4,(n=this._cacheContext.preference).get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync"))];case 1:return r=s.sent(),[4,n.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync.meta"))];case 2:return a=s.sent(),[4,n.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs"))];case 3:return i=s.sent(),[4,n.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs.meta"))];case 4:return o=s.sent(),r&&(t+=JSON.stringify(r).length),a&&(t+=JSON.stringify(a).length),i&&(t+=JSON.stringify(i).length),o&&(t+=JSON.stringify(o).length),[2,t]}}))}))},t}(s.X),x=function(e){function t(t){var n=t.message,r=e.call(this)||this;return r.message=n,r}return(0,s._)(t,e),t}(s.am),D={},U=function(){function e(e,t){var n=t.localCacheEnabled,r=t.dispatcher,a=t.sdkState,i=t.logger,o=this;D[e]=this,this._iid=e,D[e]=this,this._localCacheEnabled=n,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=r,this._logger=i,this._sdkState=a,this._localCacheEnabled&&r.on((function(e){if(e instanceof s.t)switch(e.stateType){case s.w.CONNECTED:o._isProcessingAutoResend||o.processAutoResendRegisteredPendingMessages().then((function(){return o._processNextAutoResend()}));break;case s.w.INTERNAL_DISCONNECTED:case s.w.EXTERNAL_DISCONNECTED:o._isProcessingAutoResend=!1}}))}return e.of=function(e){return D[e]},e.prototype.processNonAutoResendRegisteredPendingMessages=function(){return(0,s.b)(this,void 0,void 0,(function(){var e,t,n,r,a,i;return(0,s.c)(this,(function(o){switch(o.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:e=o.sent();try{for(t=(0,s.H)(e),n=t.next();!n.done;n=t.next())0===(r=n.value).errorCode&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",r.reqId),r.sendingStatus=s.a1.FAILED,r.errorCode=s.a9.ACK_TIMEOUT,this._dispatcher.dispatch(new s.af({messages:[r],source:s.ae.LOCAL_MESSAGE_FAILED})))}catch(e){a={error:e}}finally{try{n&&!n.done&&(i=t.return)&&i.call(t)}finally{if(a)throw a.error}}return[2]}}))}))},e.prototype.processAutoResendRegisteredPendingMessages=function(){return(0,s.b)(this,void 0,void 0,(function(){var e,t,n,r,a,i,o,c;return(0,s.c)(this,(function(l){switch(l.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:e=l.sent();try{for(t=(0,s.H)(e),n=t.next();!n.done;n=t.next())(r=n.value).errorCode&&(0,s.an)(r.errorCode)&&(a=(new Date).getTime(),i=r.createdAt+2592e5,a<=i?this._autoResendQueue.map((function(e){return e.reqId})).indexOf(r.reqId)<0&&this._autoResendQueue.push(r):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(i).toLocaleString()),r.sendingStatus=s.a1.FAILED,this._dispatcher.dispatch(new s.af({messages:[r],source:s.ae.LOCAL_MESSAGE_FAILED}))))}catch(e){o={error:e}}finally{try{n&&!n.done&&(c=t.return)&&c.call(t)}finally{if(o)throw o.error}}return[2]}}))}))},e.prototype.completeCurrentAndProcessNextAutoResend=function(e){if(this._localCacheEnabled&&(e.sendingStatus===s.a1.SUCCEEDED||e.sendingStatus===s.a1.FAILED&&!(0,s.an)(e.errorCode))){var t=this.indexOf(e);t>=0&&this._autoResendQueue.splice(t,1),0===t&&this._processNextAutoResend()}},e.prototype._fetchAllCachedPendingMessages=function(){return(0,s.b)(this,void 0,void 0,(function(){var e,t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return(e=A.of(this._iid))?[4,e.fetch({sendingStatus:s.a1.PENDING,backward:!0})]:[3,2];case 1:return t=n.sent(),[3,3];case 2:t=[],n.label=3;case 3:return[2,t]}}))}))},e.prototype.indexOf=function(e){return this._autoResendQueue.length>0?this._autoResendQueue.map((function(e){return e.reqId})).indexOf(e.reqId):-1},e.prototype._isNotInQueue=function(e){return-1===this._autoResendQueue.map((function(e){return e.reqId})).indexOf(e.reqId)},e.prototype._processNextAutoResend=function(){return(0,s.b)(this,void 0,void 0,(function(){var e;return(0,s.c)(this,(function(t){if(this._localCacheEnabled&&"foreground"===this._sdkState.appState)try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),e=this._autoResendQueue[0],this._dispatcher.dispatch(new x({message:e})),this._logger.debug("processing auto-resend for message request id: ",e.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(e){this._logger.warn("process auto-resend error: ",e),this._isProcessingAutoResend=!1}return[2]}))}))},e}();!function(e){e[e.USER_BLOCK=20001]="USER_BLOCK",e[e.USER_UNBLOCK=2e4]="USER_UNBLOCK",e[e.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"}(b||(b={}));var L,z=function(){function e(e){this.category=e.cat,this.data=e.data}return e.getDataAsUserBlockEvent=function(e,t){var n=t.data,r=n.blocker,a=n.blockee;return{blocker:new s.U(e,r),blockee:new s.U(e,a)}},e.getDataAsFriendDiscoveredEvent=function(e,t){var n=t.data.friend_discoveries;return{friendDiscoveries:Array.isArray(n)?n.map((function(t){return new s.U(e,t)})):[]}},e}(),R=function(e){function t(t,n){var r=n.userId,a=e.call(this)||this;return a._iid=t,a.userId=r,a}return(0,s._)(t,e),t}(s.am);!function(e){e.UNKNOWN="UNKNOWN",e.EVENT_CHANNEL_CREATED="EVENT_CHANNEL_CREATED",e.EVENT_CHANNEL_UPDATED="EVENT_CHANNEL_UPDATED",e.EVENT_CHANNEL_DELETED="EVENT_CHANNEL_DELETED",e.EVENT_CHANNEL_READ="EVENT_CHANNEL_READ",e.EVENT_CHANNEL_DELIVERED="EVENT_CHANNEL_DELIVERED",e.EVENT_CHANNEL_INVITED="EVENT_CHANNEL_INVITED",e.EVENT_CHANNEL_JOINED="EVENT_CHANNEL_JOINED",e.EVENT_CHANNEL_LEFT="EVENT_CHANNEL_LEFT",e.EVENT_CHANNEL_ACCEPTED_INVITE="EVENT_CHANNEL_ACCEPTED_INVITE",e.EVENT_CHANNEL_DECLINED_INVITE="EVENT_CHANNEL_DECLINED_INVITE",e.EVENT_CHANNEL_OPERATOR_UPDATED="EVENT_CHANNEL_OPERATOR_UPDATED",e.EVENT_CHANNEL_MUTED="EVENT_CHANNEL_MUTED",e.EVENT_CHANNEL_UNMUTED="EVENT_CHANNEL_UNMUTED",e.EVENT_CHANNEL_FROZEN="EVENT_CHANNEL_FROZEN",e.EVENT_CHANNEL_UNFROZEN="EVENT_CHANNEL_UNFROZEN",e.EVENT_CHANNEL_HIDDEN="EVENT_CHANNEL_HIDDEN",e.EVENT_CHANNEL_UNHIDDEN="EVENT_CHANNEL_UNHIDDEN",e.EVENT_CHANNEL_RESET_HISTORY="EVENT_CHANNEL_RESET_HISTORY",e.EVENT_CHANNEL_TYPING_STATUS_UPDATE="EVENT_CHANNEL_TYPING_STATUS_UPDATE",e.EVENT_CHANNEL_MEMBER_COUNT_UPDATED="EVENT_CHANNEL_MEMBER_COUNT_UPDATED",e.EVENT_MESSAGE_SENT="EVENT_MESSAGE_SENT",e.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",e.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",e.EVENT_PINNED_MESSAGE_UPDATED="EVENT_PINNED_MESSAGE_UPDATED",e.REQUEST_CHANNEL="REQUEST_CHANNEL",e.REQUEST_CHANNEL_CHANGELOGS="REQUEST_CHANNEL_CHANGELOGS",e.REFRESH_CHANNEL="REFRESH_CHANNEL",e.CHANNEL_LASTACCESSEDAT_UPDATED="CHANNEL_LASTACCESSEDAT_UPDATED",e.SYNC_CHANNEL_BACKGROUND="SYNC_CHANNEL_BACKGROUND",e.SYNC_CHANNEL_CHANGELOGS="SYNC_CHANNEL_CHANGELOGS"}(L||(L={}));var j,F=function(e){return e.startsWith("EVENT_")||e===L.SYNC_CHANNEL_CHANGELOGS||e===L.REFRESH_CHANNEL},B=function(e){function t(t){var n=t.channels,r=t.source,a=t.data,i=void 0===a?null:a,o=e.call(this)||this;return o.channels=n,o.source=r,o.data=i,o}return(0,s._)(t,e),t}(s.am),H=function(e){function t(t){var n=t.channelUrls,r=t.source,a=e.call(this)||this;return a.channelUrls=n,a.source=r,a}return(0,s._)(t,e),t}(s.am),G=function(e){function t(){return e.call(this)||this}return(0,s._)(t,e),t}(s.am),V=function(e){function t(t,n,r){var a=e.call(this,t,"USEV",r)||this;return a.event=new z(r),a}return(0,s._)(t,e),t}(s.W),q={},W=function(){function e(e){var t=e.dbname,n=e.itemSizeLimit,r=void 0===n?1048576:n,a=e.cacheLimit,i=void 0===a?256:a,o=e.blockHashBase,s=void 0===o?2:o,c=e.blockHashMultiplier,l=void 0===c?10:c,u=e.blockHashConstant,d=void 0===u?11:u,f=e.transactionApplyDelay,h=void 0===f?200:f,p=e.disableLogger,m=void 0!==p&&p;return q[t]||(this.itemSizeLimit=r,this.cacheLimit=i,this.blockHashBase=s,this.blockHashMultiplier=l,this.blockHashConstant=d,this.transactionApplyDelay=h,this.disableLogger=m,q[t]=this),q[t]}return e.get=function(e){return q[e]},e}();!function(e){e[e.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",e[e.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",e[e.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",e[e.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",e[e.STORE_IS_FULL=61001003]="STORE_IS_FULL",e[e.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",e[e.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",e[e.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",e[e.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",e[e.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",e[e.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",e[e.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",e[e.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",e[e.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",e[e.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",e[e.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",e[e.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",e[e.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",e[e.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",e[e.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",e[e.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",e[e.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",e[e.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",e[e.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",e[e.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"}(j||(j={}));var K,Q=function(e){function t(n){var r=n.code,a=void 0===r?j.UNKNOWN_ERROR:r,i=n.message,o=void 0===i?"Unknown error occurred.":i,s=e.call(this,o)||this;return s.code=a,Object.setPrototypeOf(s,t.prototype),s}return(0,s._)(t,e),Object.defineProperty(t,"storeNotDefined",{get:function(){return new t({code:j.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotAvailable",{get:function(){return new t({code:j.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotAvailableInPrivateBrowsing",{get:function(){return new t({code:j.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeIsFull",{get:function(){return new t({code:j.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeKeyTypeIsInvalid",{get:function(){return new t({code:j.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeBrokenIntegrity",{get:function(){return new t({code:j.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeBrokenBlob",{get:function(){return new t({code:j.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeEncryptionInvalid",{get:function(){return new t({code:j.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeItemSizeExceeded",{get:function(){return new t({code:j.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeReadFailed",{get:function(){return new t({code:j.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeWriteFailed",{get:function(){return new t({code:j.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"databaseSchemaNotOnUpgrade",{get:function(){return new t({code:j.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionNotReady",{get:function(){return new t({code:j.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotMatch",{get:function(){return new t({code:j.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionQueryNotValid",{get:function(){return new t({code:j.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionInsertDuplicate",{get:function(){return new t({code:j.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotFound",{get:function(){return new t({code:j.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotGiven",{get:function(){return new t({code:j.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionWriteFailed",{get:function(){return new t({code:j.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionItemSizeExceeded",{get:function(){return new t({code:j.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"indexTableIsRequired",{get:function(){return new t({code:j.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"indexTypesNotMatch",{get:function(){return new t({code:j.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"compareTypesNotMatch",{get:function(){return new t({code:j.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"circularReferenceFound",{get:function(){return new t({code:j.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),t}(Error);!function(e){e.INIT="init",e.READY="ready",e.CLOSED="closed"}(K||(K={}));var Y,Z=function(e,t){if(void 0===t&&(t=new WeakMap),"object"==typeof e&&null!==e){if(t.has(e))throw Q.circularReferenceFound;t.set(e,!0);var n=null;if(Array.isArray(e))n=e.map((function(e){return Z(e,t)}));else if(e instanceof RegExp)n=e;else if(e instanceof Date)n=e;else for(var r in n={},e)n[r]=Z(e[r],t);return t.delete(e),n}return e},J=function(e,t){if(null==t)return 1;if(null==e)return-1;if(typeof e!=typeof t)throw Q.compareTypesNotMatch;var n=0;switch(typeof e){case"boolean":case"number":n=e-t;break;case"string":n=e.localeCompare(t)}return n},X=function(e,t){for(var n=0,r=0;r<e.length;r++)n=e.charCodeAt(r)+(n<<6)+(n<<16)-n;return(n>>>0)%t},$=function(e){return new Promise((function(t){setTimeout((function(){return t()}),e)}))},ee=function(e,t){if(!t)return!1;if("function"!=typeof e){for(var n in e)if(["/and","&&"].includes(n)){if(e[n].some((function(e){return!ee(e,t)})))return!1}else if(["/or","||"].includes(n)){if(e[n].every((function(e){return!ee(e,t)})))return!1}else if("/where"===n){if(!(0,e[n])(t))return!1}else{var r=n;if("object"==typeof e[r]){var a=e[r];for(var i in a)switch(i){case"/eq":case"=":if((o=t[r])!==(s=a[i]))return!1;break;case"/neq":case"!=":if((o=t[r])===(s=a[i]))return!1;break;case"/gt":case">":var o=t[r],s=a[i];if(!(J(o,s)>0))return!1;break;case"/gte":case">=":if(o=t[r],s=a[i],!(J(o,s)>=0))return!1;break;case"/lt":case"<":if(o=t[r],s=a[i],!(J(o,s)<0))return!1;break;case"/lte":case"<=":if(o=t[r],s=a[i],!(J(o,s)<=0))return!1;break;case"/in":if(o=t[r],!(s=a[i]).includes(o))return!1;break;case"/nin":if(o=t[r],(s=a[i]).includes(o))return!1;break;case"/contain":if(o=t[r],s=a[i],!o.includes(s))return!1;break;case"/regex":if(o=t[r],!(s=a[i]).test(o))return!1;break;case"/where":if(o=t[r],!(0,a[i])(o))return!1}}else if("function"==typeof e[r]){if(!e[r](t[r]))return!1}else if(e[r]!==t[r])return!1}return!0}return e(t)},te=function(){},ne=function(){return Promise.resolve()},re=function(e){return e},ae=function(e,t){t(null)};!function(e){e[e.FORWARD=0]="FORWARD",e[e.BACKWARD=1]="BACKWARD"}(Y||(Y={}));var ie,oe,se,ce=function(){function e(e){var t=e.initialPrevValue,n=void 0===t?null:t,r=e.initialNextValue,a=void 0===r?null:r,i=e.iterator,o=e.map,s=void 0===o?re:o,c=e.backward,l=void 0===c?ne:c,u=e.forward,d=void 0===u?ne:u,f=e.complete,h=void 0===f?te:f;this._prevValue=n,this._nextValue=a,this._error=null,this._map=s,this._backward=l,this._forward=d,this._iterator=i,this._complete=h}return Object.defineProperty(e.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),e.prototype.prev=function(){return(0,s.b)(this,void 0,void 0,(function(){var e,t,n;return(0,s.c)(this,(function(r){switch(r.label){case 0:if(!this.hasPrevious)return[3,6];r.label=1;case 1:return r.trys.push([1,3,,4]),e=this._prevValue,t=this,[4,this._backward()];case 2:return t._prevValue=r.sent()||null,this._nextValue=e,[3,4];case 3:return n=r.sent(),this._error=n,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,r.sent()];case 6:this._complete(),r.label=7;case 7:return[2]}}))}))},e.prototype.next=function(){return(0,s.b)(this,void 0,void 0,(function(){var e,t,n;return(0,s.c)(this,(function(r){switch(r.label){case 0:if(!this.hasNext)return[3,6];r.label=1;case 1:return r.trys.push([1,3,,4]),e=this._nextValue,t=this,[4,this._forward()];case 2:return t._nextValue=r.sent()||null,this._prevValue=e,[3,4];case 3:return n=r.sent(),this._error=n,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,r.sent()];case 6:this._complete(),r.label=7;case 7:return[2]}}))}))},e.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},e}(),le=function(){function e(e){var t=e.condition,n=void 0===t?{}:t,r=e.backward,a=void 0!==r&&r,i=e.blockManager,o=e.indexer;this.condition=n,this.backward=a,this._blockManager=i,this._indexer=o}return e.prototype.findOptimizedStartPosition=function(){var e=this,t=["=","/eq",">",">=","/gt","/gte"],n=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var r=this._indexer.origin.length-1;if("function"!=typeof this.condition)for(var a in this._indexer.fields){var i=this._indexer.fields[a],o=1;if("-"===i[0]&&(i=i.slice(1),o=-1),this.condition[i])if("object"==typeof this.condition[i]){var s=o>0?n:t;for(var c in this.condition[i])if(s.includes(c))for(var l=r;l>=0;l--)if(o*J(this._indexer.origin[l].columnValues[a],this.condition[i][c])<=0){r=l;break}}else for(l=r;l>=0;l--)if(o*J(this._indexer.origin[l].columnValues[a],this.condition[i])<=0){r=l;break}}return Math.min(r+1,this._indexer.origin.length-1)}var u=0;if("function"!=typeof this.condition){var d=function(r){var a=f._indexer.fields[r],i=1;if("-"===a[0]&&(a=a.slice(1),i=-1),f.condition[a])if("object"==typeof f.condition[a])Object.keys(f.condition[a]).forEach((function(o){if((i>0?t:n).includes(o))for(var s=u;s<e._indexer.origin.length;s++)if(i*J(e._indexer.origin[s].columnValues[r],e.condition[a][o])>=0){u=s;break}}));else for(var o=u;o<f._indexer.origin.length;o++)if(i*J(f._indexer.origin[o].columnValues[r],f.condition[a])>=0){u=o;break}},f=this;for(a=0;a<this._indexer.fields.length;a++)d(a)}return Math.max(u-1,0)},e.prototype.each=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o,c,l=this;return(0,s.c)(this,(function(u){switch(u.label){case 0:if(t=this.findOptimizedStartPosition(),n=0,this.backward&&this._indexer.origin[t]&&(n=this._indexer.origin[t].keys.length-1),r=function(){if(l._indexer.origin[t]){if(!l._indexer.origin[t].keys[++n]){if(!l._indexer.origin[++t])return!1;n=0}return!0}return!1},a=function(){if(l._indexer.origin[t]){if(!l._indexer.origin[t].keys[--n]){if(!l._indexer.origin[--t])return!1;n=l._indexer.origin[t].keys.length-1}return!0}return!1},i=null,!this._indexer.origin[t])return[3,4];o=this.backward?a:r,u.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[n])];case 2:if(c=u.sent(),ee(this.condition,c))return i=c,[3,4];u.label=3;case 3:if(o())return[3,1];u.label=4;case 4:return[4,new Promise((function(o){var c=new ce({initialNextValue:Z(i),iterator:e,forward:function(){return(0,s.b)(l,void 0,void 0,(function(){var e,i;return(0,s.c)(this,(function(o){switch(o.label){case 0:e=this.backward?a:r,o.label=1;case 1:return e()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[n])]:[3,3];case 2:return i=o.sent(),ee(this.condition,i)?[2,Z(i)]:[3,1];case 3:return[2,null]}}))}))},backward:function(){return(0,s.b)(l,void 0,void 0,(function(){var e,i;return(0,s.c)(this,(function(o){switch(o.label){case 0:e=this.backward?r:a,o.label=1;case 1:return e()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[n])]:[3,3];case 2:return i=o.sent(),ee(this.condition,i)?[2,Z(i)]:[3,1];case 3:return[2,null]}}))}))},complete:o});e(c)}))];case 5:return[2,u.sent()]}}))}))},e}(),ue=function(){function e(e){var t=e.condition,n=void 0===t?{}:t,r=e.backward,a=void 0!==r&&r,i=e.mutex,o=e.blockManager,s=e.indexer;this._mutex=i,this._iterator=new le({condition:n,backward:a,blockManager:o,indexer:s})}return e.prototype.fetch=function(e){return void 0===e&&(e={}),(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i=this;return(0,s.c)(this,(function(o){switch(o.label){case 0:if(t=Math.max(e.offset||0,0),0===(n="number"==typeof e.limit?e.limit:Number.MAX_SAFE_INTEGER))return[2,[]];if(n<0)throw Q.collectionQueryNotValid;o.label=1;case 1:return o.trys.push([1,4,,5]),r=[],[4,this._mutex.lock()];case 2:return o.sent(),[4,this._iterator.each((function(e){return(0,s.b)(i,void 0,void 0,(function(){return(0,s.c)(this,(function(a){return e.error?e.stop():e.hasNext?0===t?(r.push(e.nextValue),0<n&&n<=r.length?e.stop():e.next()):(t--,e.next()):e.stop(),[2]}))}))}))];case 3:return o.sent(),this._mutex.unlock(),[2,r];case 4:throw a=o.sent(),this._mutex.unlock(),a;case 5:return[2]}}))}))},e.prototype.count=function(){return(0,s.b)(this,void 0,void 0,(function(){var e,t,n=this;return(0,s.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),e=0,[4,this._mutex.lock()];case 1:return r.sent(),[4,this._iterator.each((function(t){return(0,s.b)(n,void 0,void 0,(function(){return(0,s.c)(this,(function(n){return t.error?t.stop():t.hasNext?(e++,t.next()):t.stop(),[2]}))}))}))];case 2:return r.sent(),this._mutex.unlock(),[2,e];case 3:throw t=r.sent(),this._mutex.unlock(),t;case 4:return[2]}}))}))},e}(),de=function(e){return"".concat("nest","@").concat(e)},fe=function(e,t){return"".concat(de(e),"/").concat(t)},he=function(e,t){return"".concat(fe(e,t),".metadata")},pe=function(e,t){return"".concat(fe(e,t),"/block.")},me=function(e,t){return"".concat(fe(e,t),"/blob.")},_e=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.store;this.dbname=t,this.collectionName=n,this.store=r}return e.prototype.get=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o,c,l,u;return(0,s.c)(this,(function(s){switch(s.label){case 0:return[4,this.store.get(e)];case 1:return(t=s.sent())?(n=t.data,r=t.type,"undefined"==typeof fetch?[3,4]:[4,fetch(n)]):[3,5];case 2:return[4,s.sent().blob()];case 3:return[2,s.sent()];case 4:for(a=[],i=atob(n.split(",")[1]),o=0;o<i.length;o+=512){for(c=i.slice(o,o+512),l=new Array(c.length),u=0;u<c.length;u++)l[u]=c.charCodeAt(u);a.push(new Uint8Array(l))}return[2,new Blob(a,{type:r})];case 5:return[2,null]}}))}))},e.prototype.save=function(e,t){return void 0===t&&(t="".concat(Date.now())),(0,s.b)(this,void 0,void 0,(function(){var n,r,a,i,o=this;return(0,s.c)(this,(function(s){switch(s.label){case 0:return[4,new Promise((function(n){var r=function(e,t,n,r){return void 0===r&&(r=0),"".concat(me(e,t)).concat(n,".").concat(r)}(o.dbname,o.collectionName,t),a=new FileReader;a.onload=function(){n({blobId:r,data:a.result,type:e.type})},a.readAsDataURL(e)}))];case 1:return n=s.sent(),r=n.blobId,a=n.data,i=n.type,[4,this.store.set({key:r,value:{data:a,type:i},generation:1})];case 2:return s.sent(),[2,r]}}))}))},e.prototype.remove=function(e){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(t){switch(t.label){case 0:return[4,this.store.remove(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.clear=function(){return(0,s.b)(this,void 0,void 0,(function(){var e,t,n=this;return(0,s.c)(this,(function(r){switch(r.label){case 0:return e=me(this.dbname,this.collectionName),[4,this.store.getAllKeys()];case 1:return t=r.sent(),[4,Promise.all(t.filter((function(t){return t.startsWith(e)})).map((function(e){return(0,s.b)(n,void 0,void 0,(function(){return(0,s.c)(this,(function(t){switch(t.label){case 0:return[4,this.store.remove(e)];case 1:return[2,t.sent()]}}))}))})))];case 2:return r.sent(),[2]}}))}))},e}();!function(e){e[e.COMMIT=0]="COMMIT",e[e.WRITE=1]="WRITE",e[e.ERROR=2]="ERROR"}(ie||(ie={})),function(e){e.PENDING="pending",e.PERSISTENT="persistent",e.VOLATILE="volatile"}(oe||(oe={})),function(e){e[e.NO_CACHE=0]="NO_CACHE",e[e.DEFAULT=1]="DEFAULT",e[e.PERSISTENT=2]="PERSISTENT"}(se||(se={}));var ye=[oe.PENDING,oe.VOLATILE],ge={},ve=function(){function e(e){var t=e.dbname,n=e.limit,r=void 0===n?256:n;return ge[t]||(this.dbname=t,this._items=[],this._limit=r,ge[t]=this),ge[t]}return e.get=function(e){return ge[e]},Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e.prototype.find=function(e,t,n){return void 0===n&&(n=se.DEFAULT),(0,s.b)(this,void 0,void 0,(function(){var r,a;return(0,s.c)(this,(function(i){switch(i.label){case 0:return(r=this.get(t))?[3,2]:[4,e.get(t)];case 1:return(a=i.sent())&&(r={key:t,value:a,generation:1,state:n===se.PERSISTENT?oe.PERSISTENT:oe.VOLATILE},this.put(r)),[3,3];case 2:n===se.PERSISTENT&&(r.state=oe.PERSISTENT),i.label=3;case 3:return[2,r]}}))}))},e.prototype.get=function(e,t){void 0===t&&(t=se.DEFAULT);var n=this._items.map((function(e){return e.key})).indexOf(e);if(n>-1){var r=this._items[n];return t===se.PERSISTENT&&(r.state=oe.PERSISTENT),t!==se.NO_CACHE&&this.put(r),r}return null},e.prototype.put=function(e){var t,n;if(this._limit>0){var r=this._items.map((function(e){return e.key})).indexOf(e.key);if(r>-1)ye.includes(this._items[r].state)&&ye.includes(e.state)?(this._items.splice(r,1),this._items.push(e)):(this._items[r].state=e.state,this._items[r].generation=e.generation,this._items[r].value=e.value);else{this._items.push(e);var a=this._items.filter((function(e){return e.state===oe.VOLATILE})),i=a.length-this._limit;if(i>0){var o=[];try{for(var c=(0,s.H)(this._items),l=c.next();!l.done;l=c.next()){var u=l.value;u.state===oe.VOLATILE&&i>0?i--:o.push(u)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}this._items=o}}}},e.prototype.remove=function(e){var t=this._items.map((function(e){return e.key})).indexOf(e);t>-1&&this._items.splice(t,1)},e.prototype.clearByCondition=function(e){this._items=this._items.filter((function(t){return!e(t)}))},e.prototype.clear=function(e){void 0===e&&(e=!1),this._items=e?[]:this._items.filter((function(e){return e.state!==oe.VOLATILE}))},e}(),be=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=t,this.collectionName=n,this.metadataKey=function(e,t){return"".concat(fe(e,t),"/trans.metadata")}(t,n),this.recordsetKey=function(e,t){return"".concat(fe(e,t),"/trans.recordset")}(t,n),this._store=r}return Object.defineProperty(e.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),e.prototype._getReducedRecordset=function(e){return void 0===e&&(e=[]),(0,s.b)(this,void 0,void 0,(function(){var t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(t=n.sent()||[]).push.apply(t,(0,s.p)([],(0,s.q)(e),!1)),[2,this._reduceRecordSet(t)]}}))}))},e.prototype._reduceRecordSet=function(e){for(var t=[],n={},r=e.length-1;r>=0;r--){for(var a=e[r],i=[],o=a.requests.length-1;o>=0;o--){var s=a.requests[o],c=s.data;n[c.key]||(i.unshift(s),n[c.key]=!0)}i.length>0&&(a.requests=i,t.unshift(a))}return t},e.prototype._applyRecord=function(e,t){return(0,s.b)(this,void 0,void 0,(function(){var n,r,a,i,o,c,l,u,d;return(0,s.c)(this,(function(f){switch(f.label){case 0:n=ve.get(this.dbname),r=t.generation,a=t.requests,i=null,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this._store.setMany(a.map((function(e){return(0,s.g)((0,s.g)({},e.data),{generation:r})})))];case 2:for(o=f.sent(),c=0;c<a.length;c++)o[c]instanceof Error&&(i||(i=o[c]),l=a[c].data,n.put((0,s.g)((0,s.g)({},l),{generation:r,state:oe.PERSISTENT})));return[3,4];case 3:return u=f.sent(),i=u,[3,4];case 4:return i?[3,6]:(d=e.filter((function(e){return e.generation!==r})),[4,this._store.set({key:this.recordsetKey,value:d,generation:r})]);case 5:return f.sent(),this._onWrite.forEach((function(e){e(a.map((function(e){return e.data})))})),[3,7];case 6:this._onError.forEach((function(e){return e(i)})),f.label=7;case 7:return[2]}}))}))},e.prototype.init=function(){return(0,s.b)(this,void 0,void 0,(function(){var e,t,n,r,a,i,o,c;return(0,s.c)(this,(function(l){switch(l.label){case 0:return e=this,[4,this._store.get(this.metadataKey)];case 1:return e._metadata=l.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:t=l.sent(),l.label=3;case 3:l.trys.push([3,8,9,10]),n=(0,s.H)(t),r=n.next(),l.label=4;case 4:return r.done?[3,7]:(a=r.value,[4,this._applyRecord(t,a)]);case 5:l.sent(),l.label=6;case 6:return r=n.next(),[3,4];case 7:return[3,10];case 8:return i=l.sent(),o={error:i},[3,10];case 9:try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(o)throw o.error}return[7];case 10:return[2]}}))}))},e.prototype.on=function(e,t,n){switch(e){case ie.COMMIT:this._onCommit.set(t,n);break;case ie.WRITE:this._onWrite.set(t,n);break;case ie.ERROR:this._onError.set(t,n)}},e.prototype.requestWrite=function(e,t){void 0===t&&(t=null),this._requests.push({data:e,options:t}),ve.get(this.dbname).put((0,s.g)({state:oe.PENDING,generation:this.generation},e))},e.prototype.requestMultipleWrite=function(e,t){var n,r;void 0===t&&(t=null);var a=ve.get(this.dbname);try{for(var i=(0,s.H)(e),o=i.next();!o.done;o=i.next()){var c=o.value;this._requests.push({data:c,options:t}),a.put((0,s.g)({state:oe.PENDING,generation:this.generation},c))}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.clear=function(){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(e){return ve.get(this.dbname).clearByCondition((function(e){return e.state===oe.PENDING})),this._requests=[],[2]}))}))},e.prototype.commit=function(){return(0,s.b)(this,void 0,void 0,(function(){var e,t,n,r,a,i,o,c,l,u,d,f,h=this;return(0,s.c)(this,(function(p){switch(p.label){case 0:if(!((e=this._requests).length>0))return[3,4];for(t=[],n={},c=e.length-1;c>=0;c--)r=e[c],u=r.data,n[u.key]||(n[u.key]=!0,t.unshift(r));return a={generation:this.generation,requests:t},[4,this._getReducedRecordset([a])];case 1:return i=p.sent(),[4,this._store.set({key:this.recordsetKey,value:i,generation:this.generation})];case 2:return p.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(p.sent(),o=ve.get(this.dbname),c=0;c<t.length;c++)l=t[c],u=l.data,d=l.options,o.put((0,s.g)((0,s.g)({},u),{generation:a.generation,state:d&&d.persistent?oe.PERSISTENT:oe.VOLATILE}));this._requests=[],this._onCommit.forEach((function(t){t(e.map((function(e){return e.data})))})),f=W.get(this.dbname),setTimeout((function(){try{h._applyRecord(i,a)}catch(e){h._onError.forEach((function(t){return t(e)}))}}),f.transactionApplyDelay),p.label=4;case 4:return[2]}}))}))},e}(),we=function(){function e(e){var t=e.blockId,n=e.keyName,r=e.items,a=void 0===r?[]:r,i=e.limit;this.blockId=t,this.keyName=n,this.limit=i,this._items=(0,s.p)([],(0,s.q)(a),!1)}return e.createFromCacheItem=function(t){return t?new e(t.value):null},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},e.prototype.getItemByKey=function(e){var t=this;return this._items.find((function(n){var r=n[t.keyName];return e===r}))},e.prototype.has=function(e){var t=this;return this._items.map((function(e){return e[t.keyName]})).includes(e)},e.prototype.add=function(e){var t=this,n=this._items.map((function(e){return e[t.keyName]})).indexOf(e[this.keyName]);return n<0?this._items.length<this.limit&&(this._items.push(e),!0):(this._items[n]=e,!0)},e.prototype.remove=function(e){for(var t in this._items)if(this._items[t][this.keyName]===e)return this._items.splice(parseInt(t),1),!0;return!1},e.prototype.clear=function(){this._items=[]},e}(),ke=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.metadata,a=e.hashFunction,i=void 0===a?X:a,o=e.transaction,s=e.store;this.dbname=t,this.collectionName=n,this.hashFunction=i,this.metadata=r,this._transaction=o,this._store=s}return Object.defineProperty(e.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),e.prototype.createBlockId=function(e,t){return void 0===t&&(t=this.metadata.blockLevel),n=this.dbname,r=this.collectionName,a=t,i="".concat(function(e,t,n){var r=n.base*Math.pow(n.multiplier,t)+n.constant;return(n.hashFunction||X)(e,r)}(e,t,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(pe(n,r)).concat(a,".").concat(i);var n,r,a,i},e.prototype._findBlock=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i;return(0,s.c)(this,(function(o){switch(o.label){case 0:t=ve.get(this.dbname),n=this.metadata.blockLevel,o.label=1;case 1:return n>0?(r=this.createBlockId(e,n),[4,t.find(this._store,r)]):[3,4];case 2:if((a=o.sent())&&(i=we.createFromCacheItem(a)).getItemByKey(e))return[2,i];o.label=3;case 3:return n--,[3,1];case 4:return[2,null]}}))}))},e.prototype.getFromBlock=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return[4,this._findBlock(e)];case 1:return[2,(t=n.sent())?t.getItemByKey(e):null]}}))}))},e.prototype.putToBlock=function(e,t){return(0,s.b)(this,void 0,void 0,(function(){var n,r,a,i,o;return(0,s.c)(this,(function(s){switch(s.label){case 0:return n=W.get(this.dbname),r=this.createBlockId(e),a=Math.floor(this._store.itemSizeLimit/n.itemSizeLimit),[4,ve.get(this.dbname).find(this._store,r)];case 1:return i=s.sent(),(o=i?we.createFromCacheItem(i):new we({blockId:r,keyName:this.keyName,items:[],limit:a})).add(t)?(this._transaction.requestWrite({key:o.blockId,value:o.serialize()}),[2,!0]):[2,!1]}}))}))},e.prototype.removeFromBlock=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return[4,this._findBlock(e)];case 1:return(t=n.sent())&&t.remove(e)?(this._transaction.requestWrite({key:t.blockId,value:t.serialize()}),[2,!0]):[2,!1]}}))}))},e.prototype.clearAllBlocks=function(){return(0,s.b)(this,void 0,void 0,(function(){var e,t,n;return(0,s.c)(this,(function(r){switch(r.label){case 0:return e=pe(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return t=r.sent(),n=t.filter((function(t){return t.startsWith(e)})),[4,this._store.removeMany(n)];case 2:return r.sent(),[4,this._transaction.clear()];case 3:return r.sent(),ve.get(this.dbname).clearByCondition((function(t){return t.key.startsWith(e)})),[2]}}))}))},e}(),Ee={},Se=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.keyName,a=e.fields,i=e.transaction,o=e.store,s=this;this._origin=[],this._table=[];var c=function(e,t,n){return"".concat(fe(e,t),"/index.").concat(n)}(t,n,a.join(">"));return Ee[c]||(this.dbname=t,this.collectionName=n,this.keyName=r,this.fields=a,this.indexerKey=c,this._transaction=i,this._store=o,this._transaction.on(ie.COMMIT,this.indexerKey,(function(){return s.commit()})),this._transaction.on(ie.ERROR,this.indexerKey,(function(){return s.abort()}))),Ee[c]}return e.createKey=function(e){return e.join(">")},e.parseKey=function(e){return e.split(">")},e.clearIndexerMap=function(){for(var e in Ee)delete Ee[e]},e.prototype._addItem=function(e){var t=e[this.keyName],n=this.getColumnValues(e),r=(0,s.q)(this.indexOf(n),2),a=r[0];return r[1]?!this._table[a].keys.includes(t)&&(this._table[a].keys.push(t),!0):(this._table.splice(a,0,{columnValues:n,keys:[t]}),!0)},e.prototype._removeItem=function(e){var t=e[this.keyName],n=this.getColumnValues(e),r=(0,s.q)(this.indexOf(n),2),a=r[0];if(r[1]){var i=this._table[a].keys.indexOf(t);if(i>-1)return this._table[a].keys.splice(i,1),0===this._table[a].keys.length&&this._table.splice(a,1),!0}return!1},Object.defineProperty(e.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),e.prototype.getColumnValues=function(e){var t,n,r,a,i=[];try{for(var o=(0,s.H)(this.fields),c=o.next();!c.done;c=o.next()){var l=c.value;if("-"===l[0]&&(l=l.slice(1)),a=typeof(r=e[l]),null!==r&&"undefined"!==a&&"boolean"!==a&&"number"!==a&&"string"!==a)throw Q.indexTypesNotMatch;i.push(e[l])}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},e.prototype.diff=function(e,t){for(var n in this.fields){var r="-"===this.fields[n][0]?-1:1,a=J(e[n],t[n]);if(0!==a)return r*a}return 0},e.prototype.indexOf=function(e){if(this._table.length>0){for(var t=0,n=this._table.length-1;t<=n;){var r=Math.floor((t+n)/2),a=this.diff(e,this._table[r].columnValues);if(a>0)t=r+1;else{if(!(a<0))return[r,!0];n=r-1}}return[t,!1]}return[0,!1]},e.prototype.ensure=function(){return(0,s.b)(this,void 0,void 0,(function(){var e,t,n,r,a,i,o,c,l,u,d,f,h,p,m,_,y;return(0,s.c)(this,(function(g){switch(g.label){case 0:return[4,(e=ve.get(this.dbname)).find(this._store,this.indexerKey,se.PERSISTENT)];case 1:return(t=g.sent())?[3,11]:(n=pe(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:r=g.sent(),g.label=3;case 3:g.trys.push([3,8,9,10]),a=(0,s.H)(r),i=a.next(),g.label=4;case 4:return i.done?[3,7]:(o=i.value).startsWith(n)?[4,e.find(this._store,o,se.NO_CACHE)]:[3,6];case 5:c=g.sent(),l=we.createFromCacheItem(c);try{for(_=void 0,u=(0,s.H)(l.items),d=u.next();!d.done;d=u.next())f=d.value,this._addItem(f)}catch(e){_={error:e}}finally{try{d&&!d.done&&(y=u.return)&&y.call(u)}finally{if(_)throw _.error}}g.label=6;case 6:return i=a.next(),[3,4];case 7:return[3,10];case 8:return h=g.sent(),p={error:h},[3,10];case 9:try{i&&!i.done&&(m=a.return)&&m.call(a)}finally{if(p)throw p.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=t.value,this._table=Z(this._origin),g.label=12;case 12:return Ee[this.indexerKey]=this,[2]}}))}))},e.prototype.drop=function(){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(e){switch(e.label){case 0:return ve.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return e.sent(),delete Ee[this.indexerKey],[2]}}))}))},e.prototype.addItem=function(e){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(t){return this._addItem(e)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]}))}))},e.prototype.removeItem=function(e){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(t){return this._removeItem(e)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]}))}))},e.prototype.clear=function(){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(e){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]}))}))},e.prototype.commit=function(){this._origin=this._table,this._table=Z(this._origin)},e.prototype.abort=function(){this._table=Z(this._origin)},e}(),Ce=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.keyName,a=e.keyHash,i=e.indexes,o=e.store,c=this;this._state=K.INIT,this._metadata=null,this._indexers=[],this.dbname=t,this.name=n,this.keyName=r,this.indexes=(0,s.p)([[r]],(0,s.q)(i.filter((function(e){return Se.createKey(e)!==c.keyName}))),!1),this._keyHash=a,this._store=o,this._mutex=new k(function(e,t){return"".concat(fe(e,t),".lock")}(t,n)),this._blobContainer=new _e({dbname:t,collectionName:n,store:o}),this._transaction=new be({dbname:t,collectionName:n,store:o})}return e.metadataOf=function(e,t,n){return(0,s.b)(this,void 0,void 0,(function(){var r;return(0,s.c)(this,(function(a){switch(a.label){case 0:return r=he(e,t),[4,n.get(r)];case 1:return[2,a.sent()]}}))}))},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReady",{get:function(){return this._state===K.READY},enumerable:!1,configurable:!0}),e.prototype.init=function(){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o,c,l,u,d,f,h,p,m,_=this;return(0,s.c)(this,(function(y){switch(y.label){case 0:return[4,this._mutex.lock()];case 1:y.sent(),y.label=2;case 2:return y.trys.push([2,9,,10]),t=W.get(this.dbname),[4,e.metadataOf(this.dbname,this.name,this._store)];case 3:return n=y.sent(),this._metadata=n||{keyName:this.keyName,blockLevel:1,blockHashBase:t.blockHashBase,blockHashMultiplier:t.blockHashMultiplier,blockHashConstant:t.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:y.sent(),this._blockManager=new ke({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),r=(0,s.p)([],(0,s.q)(this.indexes),!1),a=[],i=r.map((function(e){return Se.createKey(e)})),o=n?n.indexes.map((function(e){return Se.createKey(e)})):[];try{for(c=(0,s.H)(o),l=c.next();!l.done;l=c.next())u=l.value,i.includes(u)||a.push(Se.parseKey(u))}catch(e){p={error:e}}finally{try{l&&!l.done&&(m=c.return)&&m.call(c)}finally{if(p)throw p.error}}return(d=[]).push.apply(d,(0,s.p)([],(0,s.q)(r.map((function(e){var t=new Se({dbname:_.dbname,collectionName:_.name,keyName:_.keyName,fields:e,transaction:_._transaction,store:_._store});return _._indexers.push(t),t.ensure()}))),!1)),d.push.apply(d,(0,s.p)([],(0,s.q)(a.map((function(e){return new Se({dbname:_.dbname,collectionName:_.name,keyName:_.keyName,fields:e,transaction:_._transaction,store:_._store}).drop()}))),!1)),[4,Promise.all(d)];case 5:return y.sent(),[4,this._transaction.commit()];case 6:return y.sent(),i.sort().join(",")===o.sort().join(",")?[3,8]:(f=he(this.dbname,this.name),this._metadata.indexes=r,[4,this._store.set({key:f,value:this._metadata,generation:1})]);case 7:y.sent(),y.label=8;case 8:return this._state=K.READY,this._mutex.unlock(),[3,10];case 9:throw h=y.sent(),this._mutex.unlock(),h;case 10:return[2]}}))}))},e.prototype.close=function(){this._state=K.CLOSED},e.prototype._hasPropertyOfKeyName=function(e){var t=e[this.keyName];return"string"==typeof t&&!!t},e.prototype._getIndexerBy=function(e){var t,n;void 0===e&&(e=null),e||(e=[this.keyName]);var r=Se.createKey(e);try{for(var a=(0,s.H)(this._indexers),i=a.next();!i.done;i=a.next()){var o=i.value;if(r===Se.createKey(o.fields))return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return null},e.prototype._upgradeBlockLevel=function(){return(0,s.b)(this,void 0,void 0,(function(){var e;return(0,s.c)(this,(function(t){switch(t.label){case 0:return e=he(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:e,value:this._metadata,generation:1})];case 1:return t.sent(),[2]}}))}))},e.prototype._requestInsert=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o;return(0,s.c)(this,(function(c){switch(c.label){case 0:return t=e[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return c.sent()?[3,13]:[4,this._blockManager.putToBlock(t,e)];case 2:return c.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return c.sent(),[4,this._blockManager.putToBlock(t,e)];case 4:c.sent(),c.label=5;case 5:c.trys.push([5,10,11,12]),n=(0,s.H)(this._indexers),r=n.next(),c.label=6;case 6:return r.done?[3,9]:[4,r.value.addItem(e)];case 7:c.sent(),c.label=8;case 8:return r=n.next(),[3,6];case 9:return[3,12];case 10:return a=c.sent(),i={error:a},[3,12];case 11:try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}return[7];case 12:return[3,14];case 13:throw Q.collectionInsertDuplicate;case 14:return[2]}}))}))},e.prototype._requestUpsert=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o,c,l,u,d,f,h,p;return(0,s.c)(this,(function(m){switch(m.label){case 0:return t=e[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(n=m.sent())?[3,13]:[4,this._blockManager.putToBlock(t,e)];case 2:return m.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return m.sent(),[4,this._blockManager.putToBlock(t,e)];case 4:m.sent(),m.label=5;case 5:m.trys.push([5,10,11,12]),r=(0,s.H)(this._indexers),a=r.next(),m.label=6;case 6:return a.done?[3,9]:[4,(l=a.value).addItem(e)];case 7:m.sent(),m.label=8;case 8:return a=r.next(),[3,6];case 9:return[3,12];case 10:return i=m.sent(),d={error:i},[3,12];case 11:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(d)throw d.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(t,e)];case 14:m.sent(),m.label=15;case 15:m.trys.push([15,21,22,23]),o=(0,s.H)(this._indexers),c=o.next(),m.label=16;case 16:return c.done?[3,20]:0===(l=c.value).diff(l.getColumnValues(n),l.getColumnValues(e))?[3,19]:[4,l.removeItem(n)];case 17:return m.sent(),[4,l.addItem(e)];case 18:m.sent(),m.label=19;case 19:return c=o.next(),[3,16];case 20:return[3,23];case 21:return u=m.sent(),h={error:u},[3,23];case 22:try{c&&!c.done&&(p=o.return)&&p.call(o)}finally{if(h)throw h.error}return[7];case 23:return[2]}}))}))},e.prototype._requestUpdate=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o,c,l;return(0,s.c)(this,(function(u){switch(u.label){case 0:return t=e[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(n=u.sent())?[4,this._blockManager.putToBlock(t,e)]:[3,11];case 2:u.sent(),u.label=3;case 3:u.trys.push([3,9,10,11]),r=(0,s.H)(this._indexers),a=r.next(),u.label=4;case 4:return a.done?[3,8]:0===(i=a.value).diff(i.getColumnValues(n),i.getColumnValues(e))?[3,7]:[4,i.removeItem(n)];case 5:return u.sent(),[4,i.addItem(e)];case 6:u.sent(),u.label=7;case 7:return a=r.next(),[3,4];case 8:return[3,11];case 9:return o=u.sent(),c={error:o},[3,11];case 10:try{a&&!a.done&&(l=r.return)&&l.call(r)}finally{if(c)throw c.error}return[7];case 11:return[2]}}))}))},e.prototype._requestRemove=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o;return(0,s.c)(this,(function(c){switch(c.label){case 0:return[4,this._blockManager.getFromBlock(e)];case 1:return(t=c.sent())?[4,this._blockManager.removeFromBlock(e)]:[3,10];case 2:c.sent(),c.label=3;case 3:c.trys.push([3,8,9,10]),n=(0,s.H)(this._indexers),r=n.next(),c.label=4;case 4:return r.done?[3,7]:[4,r.value.removeItem(t)];case 5:c.sent(),c.label=6;case 6:return r=n.next(),[3,4];case 7:return[3,10];case 8:return a=c.sent(),i={error:a},[3,10];case 9:try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}return[7];case 10:return[2]}}))}))},e.prototype._requestClear=function(){return(0,s.b)(this,void 0,void 0,(function(){var e,t,n,r,a;return(0,s.c)(this,(function(i){switch(i.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:i.sent(),i.label=2;case 2:i.trys.push([2,7,8,9]),e=(0,s.H)(this._indexers),t=e.next(),i.label=3;case 3:return t.done?[3,6]:[4,t.value.clear()];case 4:i.sent(),i.label=5;case 5:return t=e.next(),[3,3];case 6:return[3,9];case 7:return n=i.sent(),r={error:n},[3,9];case 8:try{t&&!t.done&&(a=e.return)&&a.call(e)}finally{if(r)throw r.error}return[7];case 9:return[2]}}))}))},e.prototype.getByKey=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n;return(0,s.c)(this,(function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(e)];case 3:return t=r.sent(),this._mutex.unlock(),[2,Z(t)];case 4:throw n=r.sent(),this._mutex.unlock(),n;case 5:return[3,7];case 6:throw Q.collectionNotReady;case 7:return[2]}}))}))},e.prototype.query=function(e){return void 0===e&&(e={}),this.isReady?new ue({condition:e.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(e.index),backward:!!e.backward}):null},e.prototype.insertOne=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:n.sent(),n.label=2;case 2:if(n.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(e))throw Q.collectionKeyNotGiven;return[4,this._requestInsert(Z(e))];case 3:return n.sent(),[4,this._transaction.commit()];case 4:return n.sent(),this._mutex.unlock(),[2,e];case 5:return t=n.sent(),[4,this._transaction.clear()];case 6:throw n.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw Q.collectionNotReady;case 9:return[2]}}))}))},e.prototype.insertMany=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o,c,l=this;return(0,s.c)(this,(function(u){switch(u.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:u.sent(),u.label=2;case 2:if(u.trys.push([2,12,,14]),e.some((function(e){return!l._hasPropertyOfKeyName(e)})))throw Q.collectionKeyNotGiven;u.label=3;case 3:u.trys.push([3,8,9,10]),t=(0,s.H)(e),n=t.next(),u.label=4;case 4:return n.done?[3,7]:(r=n.value,[4,this._requestInsert(Z(r))]);case 5:u.sent(),u.label=6;case 6:return n=t.next(),[3,4];case 7:return[3,10];case 8:return a=u.sent(),o={error:a},[3,10];case 9:try{n&&!n.done&&(c=t.return)&&c.call(t)}finally{if(o)throw o.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return u.sent(),this._mutex.unlock(),[2,e];case 12:return i=u.sent(),[4,this._transaction.clear()];case 13:throw u.sent(),this._mutex.unlock(),i;case 14:return[3,16];case 15:throw Q.collectionNotReady;case 16:return[2]}}))}))},e.prototype.upsertOne=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:n.sent(),n.label=2;case 2:if(n.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(e))throw Q.collectionKeyNotGiven;return[4,this._requestUpsert(Z(e))];case 3:return n.sent(),[4,this._transaction.commit()];case 4:return n.sent(),this._mutex.unlock(),[2,e];case 5:return t=n.sent(),[4,this._transaction.clear()];case 6:throw n.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw Q.collectionNotReady;case 9:return[2]}}))}))},e.prototype.upsertMany=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o,c,l=this;return(0,s.c)(this,(function(u){switch(u.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:u.sent(),u.label=2;case 2:if(u.trys.push([2,12,,14]),e.some((function(e){return!l._hasPropertyOfKeyName(e)})))throw Q.collectionKeyNotGiven;u.label=3;case 3:u.trys.push([3,8,9,10]),t=(0,s.H)(e),n=t.next(),u.label=4;case 4:return n.done?[3,7]:(r=n.value,[4,this._requestUpsert(Z(r))]);case 5:u.sent(),u.label=6;case 6:return n=t.next(),[3,4];case 7:return[3,10];case 8:return a=u.sent(),o={error:a},[3,10];case 9:try{n&&!n.done&&(c=t.return)&&c.call(t)}finally{if(o)throw o.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return u.sent(),this._mutex.unlock(),[2,e];case 12:return i=u.sent(),[4,this._transaction.clear()];case 13:throw u.sent(),this._mutex.unlock(),i;case 14:return[3,16];case 15:throw Q.collectionNotReady;case 16:return[2]}}))}))},e.prototype.update=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:n.sent(),n.label=2;case 2:if(n.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(e))throw Q.collectionKeyNotGiven;return[4,this._requestUpdate(Z(e))];case 3:return n.sent(),[4,this._transaction.commit()];case 4:return n.sent(),this._mutex.unlock(),[2,e];case 5:return t=n.sent(),[4,this._transaction.clear()];case 6:throw n.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw Q.collectionNotReady;case 9:return[2]}}))}))},e.prototype.updateIf=function(e,t){return(0,s.b)(this,void 0,void 0,(function(){var n,r,a,i,o,c,l,u,d,f,h,p,m,_,y=this;return(0,s.c)(this,(function(g){switch(g.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:g.sent(),g.label=2;case 2:return g.trys.push([2,13,,15]),n=e.where,r=void 0===n?{}:n,a=e.index,i=void 0===a?null:a,o=e.backward,c=void 0!==o&&o,l=[],[4,new le({condition:r,blockManager:this._blockManager,backward:c,indexer:this._getIndexerBy(i)}).each((function(e){return(0,s.b)(y,void 0,void 0,(function(){var n,a;return(0,s.c)(this,(function(i){if(e.error)throw e.stop(),e.error;if(e.hasNext){if(n=e.nextValue,ee(r,n)&&t.set){if("function"!=typeof t.set)for(a in t.set)n[a]=t.set[a];else t.set(n);l.push(n)}e.next()}else e.stop();return[2]}))}))}))];case 3:g.sent(),g.label=4;case 4:g.trys.push([4,9,10,11]),u=(0,s.H)(l),d=u.next(),g.label=5;case 5:return d.done?[3,8]:(f=d.value,[4,this._requestUpdate(Z(f))]);case 6:g.sent(),g.label=7;case 7:return d=u.next(),[3,5];case 8:return[3,11];case 9:return h=g.sent(),m={error:h},[3,11];case 10:try{d&&!d.done&&(_=u.return)&&_.call(u)}finally{if(m)throw m.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return g.sent(),this._mutex.unlock(),[2,l];case 13:return p=g.sent(),[4,this._transaction.clear()];case 14:throw g.sent(),this._mutex.unlock(),p;case 15:return[3,17];case 16:throw this._transaction.clear(),Q.collectionNotReady;case 17:return[2]}}))}))},e.prototype.remove=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:n.sent(),n.label=2;case 2:return n.trys.push([2,5,,7]),[4,this._requestRemove(e)];case 3:return n.sent(),[4,this._transaction.commit()];case 4:return n.sent(),this._mutex.unlock(),[3,7];case 5:return t=n.sent(),[4,this._transaction.clear()];case 6:throw n.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw Q.collectionNotReady;case 9:return[2]}}))}))},e.prototype.removeIf=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o,c,l,u,d,f,h,p,m,_=this;return(0,s.c)(this,(function(y){switch(y.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:y.sent(),y.label=2;case 2:return y.trys.push([2,13,,14]),t=e.where,n=void 0===t?{}:t,r=e.index,a=void 0===r?null:r,i=e.backward,o=void 0!==i&&i,c=[],[4,new le({condition:n,blockManager:this._blockManager,backward:o,indexer:this._getIndexerBy(a)}).each((function(e){return(0,s.b)(_,void 0,void 0,(function(){var t,r;return(0,s.c)(this,(function(a){if(e.error)throw e.stop(),e.error;return e.hasNext?(t=e.nextValue,ee(n,t)&&(r=t[this.keyName],c.push(r)),e.next()):e.stop(),[2]}))}))}))];case 3:y.sent(),y.label=4;case 4:y.trys.push([4,9,10,11]),l=(0,s.H)(c),u=l.next(),y.label=5;case 5:return u.done?[3,8]:(d=u.value,[4,this._requestRemove(d)]);case 6:y.sent(),y.label=7;case 7:return u=l.next(),[3,5];case 8:return[3,11];case 9:return f=y.sent(),p={error:f},[3,11];case 10:try{u&&!u.done&&(m=l.return)&&m.call(l)}finally{if(p)throw p.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return y.sent(),this._mutex.unlock(),[2,c];case 13:throw h=y.sent(),this._mutex.unlock(),h;case 14:return[3,16];case 15:throw this._transaction.clear(),Q.collectionNotReady;case 16:return[2]}}))}))},e.prototype.clear=function(){return(0,s.b)(this,void 0,void 0,(function(){var e;return(0,s.c)(this,(function(t){switch(t.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return t.sent(),[4,this._transaction.commit()];case 4:return t.sent(),this._mutex.unlock(),[3,7];case 5:return e=t.sent(),[4,this._transaction.clear()];case 6:throw t.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw Q.collectionNotReady;case 9:return[2]}}))}))},e.prototype.getBlob=function(e){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(t){switch(t.label){case 0:return[4,this._blobContainer.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.saveBlob=function(e,t){return void 0===t&&(t=null),(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(n){switch(n.label){case 0:return[4,this._blobContainer.save(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.removeBlob=function(e){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(t){switch(t.label){case 0:return[4,this._blobContainer.remove(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.removeAllBlobs=function(){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(e){switch(e.label){case 0:return[4,this._blobContainer.clear()];case 1:return e.sent(),[2]}}))}))},e}(),Te=function(){function e(e){var t,n,r;this.encryption=null!==(t=e.encryption)&&void 0!==t?t:s.ao,this.itemSizeLimit=null!==(n=e.itemSizeLimit)&&void 0!==n?n:4194304,this.metadataBuffer=null!==(r=e.metadataBuffer)&&void 0!==r?r:256}return e.prototype._getRawKey=function(e,t){return void 0===t&&(t=""),"".concat(e).concat(t)},e.prototype._generateShardPostfixArray=function(e){return void 0===e&&(e=1),(0,s.p)([],(0,s.q)(Array(e).keys()),!1)},e.prototype._shardify=function(e){var t=this,n=e.key,r=e.value,a=JSON.stringify(this.encryption.encrypt(r)),i=Math.ceil(a.length/this.adjustedItemSizeLimit);return this._generateShardPostfixArray(i).map((function(e){var r={key:t._getRawKey(n,".".concat(e)),data:a.substring(e*t.adjustedItemSizeLimit,(e+1)*t.adjustedItemSizeLimit)};return 0===e&&(r.metadata={shards:i}),r}))},Object.defineProperty(e.prototype,"adjustedItemSizeLimit",{get:function(){return Math.max(this.itemSizeLimit-this.metadataBuffer,4)},enumerable:!1,configurable:!0}),e.prototype.usage=function(){return(0,s.b)(this,void 0,void 0,(function(){var e,t,n,r,a,i,o,c,l;return(0,s.c)(this,(function(u){switch(u.label){case 0:return e=0,[4,this._getAllRawKeys()];case 1:t=u.sent(),u.label=2;case 2:u.trys.push([2,7,8,9]),n=(0,s.H)(t),r=n.next(),u.label=3;case 3:return r.done?[3,6]:(a=r.value,[4,this._getRaw(a)]);case 4:(i=u.sent())&&(e+=JSON.stringify(i).length),u.label=5;case 5:return r=n.next(),[3,3];case 6:return[3,9];case 7:return o=u.sent(),c={error:o},[3,9];case 8:try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(c)throw c.error}return[7];case 9:return[2,e]}}))}))},e.prototype.getAllKeys=function(){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(e){switch(e.label){case 0:return[4,this._getAllRawKeys()];case 1:return[2,e.sent().filter((function(e){return e.endsWith(".0")})).map((function(e){return e.replace(/\.0$/,"")}))]}}))}))},e.prototype.get=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o,c=this;return(0,s.c)(this,(function(l){switch(l.label){case 0:return t=this._getRawKey(e,".0"),[4,this._getRaw(t)];case 1:if(!(n=l.sent()))return[3,7];l.label=2;case 2:return l.trys.push([2,6,,7]),r=n.data,(null==(a=n.metadata)?void 0:a.shards)>1?[4,Promise.all(this._generateShardPostfixArray(null==a?void 0:a.shards).map((function(t){return(0,s.b)(c,void 0,void 0,(function(){var n,a;return(0,s.c)(this,(function(i){switch(i.label){case 0:return t>0?(n=this._getRawKey(e,".".concat(t)),[4,this._getRaw(n)]):[3,2];case 1:if(!(a=i.sent()))throw Q.storeBrokenIntegrity;return[2,a.data];case 2:return[2,r]}}))}))})))]:[3,4];case 3:return o=l.sent(),[3,5];case 4:o=[r],l.label=5;case 5:return i=o,[2,this.encryption.decrypt(JSON.parse(i.join("")))];case 6:return l.sent(),[2,null];case 7:return[2,null]}}))}))},e.prototype.set=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return t=this._shardify(e),[4,this._setRaw(t)];case 1:return n.sent(),[2,(0,s.g)({},e.value)]}}))}))},e.prototype.setMany=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t=this;return(0,s.c)(this,(function(n){switch(n.label){case 0:return[4,this._setRaw([].concat.apply([],(0,s.p)([],(0,s.q)(e.map((function(e){return t._shardify(e)}))),!1)))];case 1:return n.sent(),[2,e.map((function(e){return e.value}))]}}))}))},e.prototype.remove=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a=this;return(0,s.c)(this,(function(i){switch(i.label){case 0:return t=this._getRawKey(e,".0"),[4,this._getRaw(t)];case 1:return(n=i.sent())?(r=n.metadata,[4,this._removeRaw(this._generateShardPostfixArray(null==r?void 0:r.shards).map((function(t){return a._getRawKey(e,".".concat(t))})))]):[3,3];case 2:return i.sent(),[2,!0];case 3:return[2,!1]}}))}))},e.prototype.removeMany=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o,c,l,u,d=this;return(0,s.c)(this,(function(f){switch(f.label){case 0:t=[],n=function(e){var n,a,i;return(0,s.c)(this,(function(o){switch(o.label){case 0:return n=r._getRawKey(e,".0"),[4,r._getRaw(n)];case 1:return(a=o.sent())&&(i=a.metadata,t.push.apply(t,(0,s.p)([],(0,s.q)(r._generateShardPostfixArray(null==i?void 0:i.shards).map((function(t){return d._getRawKey(e,".".concat(t))}))),!1))),[2]}}))},r=this,f.label=1;case 1:f.trys.push([1,6,7,8]),a=(0,s.H)(e),i=a.next(),f.label=2;case 2:return i.done?[3,5]:(o=i.value,[5,n(o)]);case 3:f.sent(),f.label=4;case 4:return i=a.next(),[3,2];case 5:return[3,8];case 6:return c=f.sent(),l={error:c},[3,8];case 7:try{i&&!i.done&&(u=a.return)&&u.call(a)}finally{if(l)throw l.error}return[7];case 8:return t.length>0?[4,this._removeRaw(t)]:[3,10];case 9:f.sent(),f.label=10;case 10:return[2,e]}}))}))},e}(),Ie={},Me=function(e){function t(t){void 0===t&&(t={});var n,r=this;r=e.call(this,(0,s.g)((0,s.g)({},t),{itemSizeLimit:null!==(n=t.itemSizeLimit)&&void 0!==n?n:4194304}))||this;var a=t.delay,i=void 0===a?1:a;return r.delay=i,r.observer={},r}return(0,s._)(t,e),Object.defineProperty(t.prototype,"rawData",{get:function(){return Ie[this.dbname]},set:function(e){Ie[this.dbname]=e},enumerable:!1,configurable:!0}),t.prototype._getAllRawKeys=function(){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(e){if(Ie[this.dbname])return[2,Object.keys(Ie[this.dbname])];throw Q.storeNotAvailable}))}))},t.prototype._getRaw=function(e){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(t){switch(t.label){case 0:return Ie[this.dbname]?[4,$(this.delay)]:[3,2];case 1:return t.sent(),[2,Ie[this.dbname][e]?(0,s.g)({key:e},Ie[this.dbname][e]):null];case 2:throw Q.storeNotAvailable}}))}))},t.prototype._setRaw=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o,c,l;return(0,s.c)(this,(function(u){switch(u.label){case 0:return Ie[this.dbname]?[4,$(this.delay)]:[3,2];case 1:u.sent();try{for(t=(0,s.H)(e),n=t.next();!n.done;n=t.next())r=n.value,a=r.key,i=r.data,o=r.metadata,Ie[this.dbname][a]=Object.freeze({data:i,metadata:o})}catch(e){c={error:e}}finally{try{n&&!n.done&&(l=t.return)&&l.call(t)}finally{if(c)throw c.error}}return[3,3];case 2:throw Q.storeNotAvailable;case 3:return[2]}}))}))},t.prototype._removeRaw=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i;return(0,s.c)(this,(function(o){switch(o.label){case 0:return Ie[this.dbname]?[4,$(this.delay)]:[3,2];case 1:o.sent();try{for(t=(0,s.H)(e),n=t.next();!n.done;n=t.next())r=n.value,Ie[this.dbname][r]&&delete Ie[this.dbname][r]}catch(e){a={error:e}}finally{try{n&&!n.done&&(i=t.return)&&i.call(t)}finally{if(a)throw a.error}}return[3,3];case 2:throw Q.storeNotAvailable;case 3:return[2]}}))}))},t.prototype.observe=function(e,t,n){var r=this;this.observer[e]||(this.observer[e]={}),t.forEach((function(t){return r.observer[e][t]=n}))},t.prototype.isAvailable=function(){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(e){return[2,!0]}))}))},t.prototype.init=function(e){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(t){return this.dbname=e,Ie[this.dbname]={},[2]}))}))},t.prototype.set=function(t){return(0,s.b)(this,void 0,void 0,(function(){var n;return(0,s.c)(this,(function(r){if(this.observer[t.key]&&"function"==typeof this.observer[t.key].set&&(n=this.observer[t.key].set()))throw n;return[2,e.prototype.set.call(this,t)]}))}))},t.prototype.setMany=function(t){return(0,s.b)(this,void 0,void 0,(function(){var n,r,a,i,o,c;return(0,s.c)(this,(function(l){try{for(n=(0,s.H)(t),r=n.next();!r.done;r=n.next())if(a=r.value,this.observer[a.key]&&"function"==typeof this.observer[a.key].set&&(i=this.observer[a.key].set()))throw i}catch(e){o={error:e}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(o)throw o.error}}return[2,e.prototype.setMany.call(this,t)]}))}))},t.prototype.clear=function(){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(e){switch(e.label){case 0:return[4,$(this.delay)];case 1:return e.sent(),Ie[this.dbname]={},[2]}}))}))},t}(Te),Oe="NestDBStore",Ae=function(e){function t(t){void 0===t&&(t={});var n,r=this;return(r=e.call(this,(0,s.g)((0,s.g)({},t),{itemSizeLimit:null!==(n=t.itemSizeLimit)&&void 0!==n?n:104857600}))||this)._storeName=Oe,r._window="undefined"!=typeof window?window:null,r._indexedDb=r._window?r._window.indexedDB||r._window.mozIndexedDB||r._window.webkitIndexedDB||r._window.msIndexedDB:null,r}return(0,s._)(t,e),t.prototype._getObjectStore=function(e){return this._database.transaction(this._storeName,e).objectStore(this._storeName)},t.prototype._getAllRawKeys=function(){return(0,s.b)(this,void 0,void 0,(function(){var e=this;return(0,s.c)(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,n){var r=e._getObjectStore("readonly").getAllKeys();r.addEventListener("success",(function(e){t(e.target.result)})),r.addEventListener("error",(function(e){return n(e.target.error)}))}))];case 1:return[2,t.sent()]}}))}))},t.prototype._getRaw=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t=this;return(0,s.c)(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n,r){var a=t._getObjectStore("readonly").get(e);a.addEventListener("success",(function(e){var t;n(null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.result)})),a.addEventListener("error",(function(e){return r(e.target.error)}))}))];case 1:return[2,n.sent()]}}))}))},t.prototype._setRaw=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return t=this._getObjectStore("readwrite"),[4,Promise.all(e.map((function(e){return new Promise((function(n,r){var a=t.put(e);a.addEventListener("success",(function(e){n(e.target.result)})),a.addEventListener("error",(function(){r("Failed to write.")}))}))})))];case 1:return n.sent(),[2]}}))}))},t.prototype._removeRaw=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return t=this._getObjectStore("readwrite"),[4,Promise.all(e.map((function(e){return new Promise((function(n,r){var a=t.delete(e);a.addEventListener("success",(function(){return n(e)})),a.addEventListener("error",(function(e){return r(e.target.error)}))}))})))];case 1:return n.sent(),[2]}}))}))},t.prototype.isAvailable=function(){return(0,s.b)(this,void 0,void 0,(function(){var e,t,n,r,a=this;return(0,s.c)(this,(function(i){switch(i.label){case 0:if(!((null==(e="undefined"!=typeof window?window:null)?void 0:e.indexedDB)||(null==e?void 0:e.mozIndexedDB)||(null==e?void 0:e.webkitIndexedDB)||(null==e?void 0:e.msIndexedDB)))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),this._indexedDb=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,t="undefined"!=typeof document&&"undefined"!=typeof navigator,n=navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/"),r=navigator.userAgent&&navigator.userAgent.includes("Edge/"),[4,new Promise((function(i,o){if(t)if(n){var s=a._indexedDb.open("_testMozilla");s.onerror=function(){return o("Private browsing mode.")},s.onsuccess=function(){return i()}}else r?(e.PointerEvent||e.MSPointerEvent)&&o("Private browsing mode."):i()}))];case 2:return i.sent(),[2,!0];case 3:return i.sent(),[2,!1];case 4:return[2,!1]}}))}))},t.prototype.init=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n=this;return(0,s.c)(this,(function(r){switch(r.label){case 0:return this.dbname=e,[4,new Promise((function(e,t){if(n._window&&p)if(m){var r=n._indexedDb.open("_testMozilla");r.onerror=function(){return t(Q.storeNotAvailableInPrivateBrowsing)},r.onsuccess=function(){return e()}}else g?n._window.indexedDB||!n._window.PointerEvent&&!n._window.MSPointerEvent||t(Q.storeNotAvailableInPrivateBrowsing):e();else t(Q.storeNotAvailable)}))];case 1:return r.sent(),t=this,[4,new Promise((function(t,r){var a=n._indexedDb.open(e);a.addEventListener("upgradeneeded",(function(e){e.target.result.createObjectStore(Oe,{keyPath:"key"})})),a.addEventListener("success",(function(e){return t(e.target.result)})),a.addEventListener("error",(function(e){return r(e.target.error)}))}))];case 2:return t._database=r.sent(),[2]}}))}))},t.prototype.clear=function(){return(0,s.b)(this,void 0,void 0,(function(){var e=this;return(0,s.c)(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,n){var r=e._getObjectStore("readwrite").clear();r.addEventListener("success",(function(){return t()})),r.addEventListener("error",(function(e){return n(e.target.error)}))}))];case 1:return[2,t.sent()]}}))}))},t}(Te),Ne=function(e){function t(t){var n=this,r=t.AsyncStorage,a=t.itemSizeLimit,i=void 0===a?6291456:a,o=(0,s.ap)(t,["AsyncStorage","itemSizeLimit"]);return(n=e.call(this,(0,s.g)((0,s.g)({},o),{itemSizeLimit:i}))||this)._asyncStorage=r,n}return(0,s._)(t,e),t.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},t.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},t.prototype._getAllRawKeys=function(){return(0,s.b)(this,void 0,void 0,(function(){var e=this;return(0,s.c)(this,(function(t){switch(t.label){case 0:return[4,this._asyncStorage.getAllKeys()];case 1:return[2,t.sent().filter((function(t){return e._isBelonging(t)})).map((function(t){return t.substring("".concat(e.dbname,"/").length)}))]}}))}))},t.prototype._getRaw=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(e))];case 1:return[2,(t=n.sent())?JSON.parse(t):null]}}))}))},t.prototype._setRaw=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o,c;return(0,s.c)(this,(function(l){switch(l.label){case 0:t=[];try{for(n=(0,s.H)(e),r=n.next();!r.done;r=n.next())a=r.value,i=a.key,a.data.length<=this.adjustedItemSizeLimit&&t.push([this._getActualKey(i),JSON.stringify(a)])}catch(e){o={error:e}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(o)throw o.error}}return[4,this._asyncStorage.multiSet(t)];case 1:return l.sent(),[2]}}))}))},t.prototype._removeRaw=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t=this;return(0,s.c)(this,(function(n){switch(n.label){case 0:return[4,this._asyncStorage.multiRemove(e.map((function(e){return t._getActualKey(e)})))];case 1:return n.sent(),[2]}}))}))},t.prototype.isAvailable=function(){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(e){return[2,!!this._asyncStorage]}))}))},t.prototype.init=function(e){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(t){return this.dbname=e,[2]}))}))},t.prototype.clear=function(){return(0,s.b)(this,void 0,void 0,(function(){var e;return(0,s.c)(this,(function(t){switch(t.label){case 0:return[4,this.getAllKeys()];case 1:return e=t.sent(),[4,this.removeMany(e)];case 2:return t.sent(),[2]}}))}))},t}(Te);!function(e){function t(t){var n,r=this;return(r=e.call(this,(0,s.g)((0,s.g)({},t),{itemSizeLimit:null!==(n=t.itemSizeLimit)&&void 0!==n?n:6291456}))||this)._mmkv=t.MMKV,r}(0,s._)(t,e),t.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},t.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},t.prototype._getAllRawKeys=function(){return(0,s.b)(this,void 0,void 0,(function(){var e=this;return(0,s.c)(this,(function(t){switch(t.label){case 0:return[4,this._mmkv.getAllKeys()];case 1:return[2,t.sent().filter((function(t){return e._isBelonging(t)})).map((function(t){return t.substring("".concat(e.dbname,"/").length)}))]}}))}))},t.prototype._getRaw=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t;return(0,s.c)(this,(function(n){switch(n.label){case 0:return[4,this._mmkv.getString(this._getActualKey(e))];case 1:return[2,(t=n.sent())?JSON.parse(t):null]}}))}))},t.prototype._setRaw=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i,o;return(0,s.c)(this,(function(c){try{for(t=(0,s.H)(e),n=t.next();!n.done;n=t.next())r=n.value,a=r.key,r.data.length<=this.adjustedItemSizeLimit&&this._mmkv.set(this._getActualKey(a),JSON.stringify(r))}catch(e){i={error:e}}finally{try{n&&!n.done&&(o=t.return)&&o.call(t)}finally{if(i)throw i.error}}return[2]}))}))},t.prototype._removeRaw=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i;return(0,s.c)(this,(function(o){try{for(t=(0,s.H)(e),n=t.next();!n.done;n=t.next())r=n.value,this._mmkv.delete(this._getActualKey(r))}catch(e){a={error:e}}finally{try{n&&!n.done&&(i=t.return)&&i.call(t)}finally{if(a)throw a.error}}return[2]}))}))},t.prototype.isAvailable=function(){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(e){return[2,!!this._mmkv]}))}))},t.prototype.init=function(e){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(t){return this.dbname=e,[2]}))}))},t.prototype.clear=function(){return(0,s.b)(this,void 0,void 0,(function(){var e;return(0,s.c)(this,(function(t){switch(t.label){case 0:return[4,this.getAllKeys()];case 1:return e=t.sent(),[4,this.removeMany(e)];case 2:return t.sent(),[2]}}))}))}}(Te);var Pe,xe="[NESTDB]",De=!0,Ue=function(){function e(){}return e.off=function(){De=!1},e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];De&&console.log.apply(console,(0,s.p)(["".concat(xe,"[LOG]")],(0,s.q)(e),!1))},e.warning=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];De&&console.warn.apply(console,(0,s.p)(["".concat(xe,"[WARNING]")],(0,s.q)(e),!1))},e.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];De&&console.error.apply(console,(0,s.p)(["".concat(xe,"[ERROR]")],(0,s.q)(e),!1))},e}();!function(e){e.INIT="INIT",e.OPENING="OPENING",e.OPENED="OPENED",e.CLOSED="CLOSED"}(Pe||(Pe={}));var Le=function(){function e(e){var t=e.name,n=e.version,r=e.store,a=e.config;this.name=t,this._version=n,this._state=Pe.INIT,this._config=a||new W({dbname:t}),this._store=r,this._event={success:te,error:te,upgrade:ae},this._collections=new Map,this._globalMutex=new k("".concat(this.name,".lock")),this._config.disableLogger&&Ue.off(),new ve({dbname:t,limit:this._config.cacheLimit})}return Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.estimateUsage=function(){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(e){switch(e.label){case 0:return[4,(t=this._store,(0,s.b)(void 0,void 0,void 0,(function(){return(0,s.c)(this,(function(e){switch(e.label){case 0:return[4,t.usage()];case 1:return[2,e.sent()]}}))})))];case 1:return[2,e.sent()]}var t}))}))},e.prototype.commitSchema=function(e){return(0,s.b)(this,void 0,void 0,(function(){var t=this;return(0,s.c)(this,(function(n){switch(n.label){case 0:return this._state!==Pe.OPENING?[3,2]:[4,Promise.all(e.map((function(e){return(0,s.b)(t,void 0,void 0,(function(){var t,n,r,a;return(0,s.c)(this,(function(i){switch(i.label){case 0:return t=e.collectionName,n=e.keyName,r=e.index,a=void 0===r?[]:r,this._collections.has(t)||this._collections.set(t,new Ce({dbname:this.name,collectionName:t,keyName:n,indexes:a,store:this._store})),[4,this._collections.get(t).init()];case 1:return i.sent(),[2]}}))}))})))];case 1:return n.sent(),[3,3];case 2:throw Q.databaseSchemaNotOnUpgrade;case 3:return[2]}}))}))},e.prototype.open=function(){var e;return(0,s.b)(this,void 0,void 0,(function(){var t,n,r,a,i=this;return(0,s.c)(this,(function(o){switch(o.label){case 0:return[4,this._globalMutex.lock()];case 1:if(o.sent(),this._state===Pe.OPENED)return[3,15];this._state=Pe.OPENING,o.label=2;case 2:return o.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return o.sent(),c=this.name,t="".concat(de(c),".metadata"),n={version:0,collectionNames:[]},[4,this._store.get(t)];case 4:return r=null!==(e=o.sent())&&void 0!==e?e:n,[2,new Promise((function(e,n){var a=function(e){r.version<i._version?i._event.upgrade(r.version,(function(n){return(0,s.b)(i,void 0,void 0,(function(){var a;return(0,s.c)(this,(function(i){switch(i.label){case 0:if(n)return[3,5];r.version++,r.collectionNames=Array.from(this._collections.keys()),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._store.set({key:t,value:r,generation:this._version})];case 2:return i.sent(),e({continued:!0}),[3,4];case 3:return a=i.sent(),e({continued:!1,err:a}),[3,4];case 4:return[3,6];case 5:e({continued:!1,err:n}),i.label=6;case 6:return[2]}}))}))})):e({continued:!1})},o=function(t){var c=t.continued,l=void 0!==c&&c,u=t.err,d=void 0===u?null:u;if(l)setTimeout((function(){return a(o)}),10);else if(d)Ue.error(d.message),i._globalMutex.unlock(),i._event.error(d),n(d);else{var f=[];r.collectionNames.forEach((function(e){i._collections.has(e)||f.push((0,s.b)(i,void 0,void 0,(function(){var t,n;return(0,s.c)(this,(function(r){switch(r.label){case 0:return[4,Ce.metadataOf(this.name,e,this._store)];case 1:return(t=r.sent())?(n=new Ce({dbname:this.name,collectionName:e,keyName:t.keyName,indexes:t.indexes,store:this._store}),this._collections.set(e,n),[4,n.init()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))})))})),Promise.all(f).then((function(){i._state=Pe.OPENED,i._globalMutex.unlock(),i._event.success(),e()})).catch((function(e){Ue.error(e.message),i._globalMutex.unlock(),i._event.error(e),n(e)}))}};a(o)}))];case 5:switch((a=o.sent()).code){case j.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case j.STORE_NOT_AVAILABLE:return[3,8];case j.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return Ue.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new Me({}),this._globalMutex.unlock(),this._event.error(a),[4,this.open()];case 7:return o.sent(),[3,14];case 8:return Ue.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new Me({}),this._globalMutex.unlock(),this._event.error(a),[4,this.open()];case 9:return o.sent(),[3,14];case 10:return Ue.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return o.sent(),this._globalMutex.unlock(),this._event.error(a),[4,this.open()];case 12:return o.sent(),[3,14];case 13:throw Ue.error(a.message),this._globalMutex.unlock(),this._event.error(a),a;case 14:return[3,15];case 15:return[2]}var c}))}))},e.prototype.close=function(){this._collections.forEach((function(e){return e.close()})),this._state=Pe.CLOSED},e.prototype.clear=function(){return(0,s.b)(this,void 0,void 0,(function(){return(0,s.c)(this,(function(e){switch(e.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map((function(e){return e.clear()})))];case 1:return e.sent(),[2]}}))}))},e.prototype.reset=function(){return(0,s.b)(this,void 0,void 0,(function(){var e,t=this;return(0,s.c)(this,(function(n){switch(n.label){case 0:return this.close(),(e=ve.get(this.name))&&e.clearByCondition((function(e){return e.key.startsWith(de(t.name))})),[4,this._store.clear()];case 1:return n.sent(),[2]}}))}))},e.prototype.on=function(e,t){this._event[e]=t},e.prototype.off=function(e){"function"==typeof this._event[e]&&(this._event[e]="upgrade"===e?ae:te)},e.prototype.collection=function(e){return this._collections.get(e)||null},e}()},35115:(e,t,n)=>{"use strict";n.d(t,{$:()=>va,A:()=>z,B:()=>di,C:()=>_r,D:()=>Ca,E:()=>G,F:()=>m,G:()=>Zr,H:()=>l,I:()=>T,J:()=>_,K:()=>g,L:()=>j,M:()=>Fa,N:()=>R,O:()=>Na,P:()=>y,Q:()=>ga,R:()=>Ba,S:()=>w,T:()=>Ar,U:()=>Ea,V:()=>qa,W:()=>ne,X:()=>da,Y:()=>S,Z:()=>xa,_:()=>a,a:()=>C,a0:()=>La,a1:()=>ja,a2:()=>O,a3:()=>Da,a4:()=>$a,a5:()=>Ra,a6:()=>br,a7:()=>ei,a8:()=>ni,a9:()=>f,aA:()=>P,aB:()=>li,aC:()=>si,aD:()=>Pr,aE:()=>jr,aF:()=>Qa,aG:()=>ai,aH:()=>Qr,aI:()=>Ya,aa:()=>Wr,ab:()=>kr,ac:()=>za,ad:()=>Nr,ae:()=>Ka,af:()=>ii,ag:()=>oi,ah:()=>Dr,ai:()=>fi,aj:()=>Wa,ak:()=>Xa,am:()=>q,an:()=>A,ao:()=>D,ap:()=>o,aq:()=>Rr,ar:()=>Ja,as:()=>Za,at:()=>ci,au:()=>ti,av:()=>Ur,aw:()=>ri,ax:()=>Ua,ay:()=>b,az:()=>ui,b:()=>s,c:()=>c,d:()=>Or,e:()=>W,f:()=>Q,g:()=>i,h:()=>Y,i:()=>N,j:()=>zr,k:()=>Lr,l:()=>M,m:()=>x,n:()=>re,o:()=>ee,p:()=>d,q:()=>u,r:()=>wa,s:()=>ba,t:()=>Sr,u:()=>B,v:()=>h,w:()=>gr,x:()=>Yr,y:()=>wr,z:()=>Sa});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function l(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function d(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}var f,h="4.7.1",p=function(){function e(){}return Object.defineProperty(e,"OS_VERSION",{get:function(){return"undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SDK_VERSION",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SDK_MAJOR_VERSION",{get:function(){return e.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(e,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),e}();!function(e){e[e.NON_AUTHORIZED=400108]="NON_AUTHORIZED",e[e.INVALID_TOKEN=400111]="INVALID_TOKEN",e[e.NOT_FOUND_IN_DATABASE=400201]="NOT_FOUND_IN_DATABASE",e[e.SESSION_TOKEN_EXPIRED=400302]="SESSION_TOKEN_EXPIRED",e[e.SESSION_KEY_EXPIRED=400309]="SESSION_KEY_EXPIRED",e[e.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",e[e.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",e[e.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",e[e.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",e[e.LOST_INSTANCE=700100]="LOST_INSTANCE",e[e.CONNECTION_RENEW=700102]="CONNECTION_RENEW",e[e.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",e[e.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",e[e.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",e[e.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",e[e.INVALID_PARAMETER=800110]="INVALID_PARAMETER",e[e.NOT_SUPPORTED_ERROR=800111]="NOT_SUPPORTED_ERROR",e[e.NETWORK_ERROR=800120]="NETWORK_ERROR",e[e.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",e[e.MALFORMED_DATA=800130]="MALFORMED_DATA",e[e.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",e[e.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",e[e.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",e[e.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",e[e.ACK_TIMEOUT=800180]="ACK_TIMEOUT",e[e.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",e[e.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",e[e.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",e[e.REQUEST_FAILED=800220]="REQUEST_FAILED",e[e.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",e[e.REQUEST_CANCELED=800240]="REQUEST_CANCELED",e[e.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",e[e.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",e[e.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",e[e.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",e[e.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED",e[e.DATABASE_ERROR=800700]="DATABASE_ERROR"}(f||(f={}));var m,_,y,g,v,b=function(e){return!(e instanceof w&&!e.shouldThrowOutside)},w=function(e){function t(n){var r=n.code,a=void 0===r?0:r,i=n.message,o=e.call(this,i)||this;return o.shouldThrowOutside=!1,o.name="SendbirdError",o.code=a,Object.setPrototypeOf(o,t.prototype),o}return a(t,e),Object.defineProperty(t.prototype,"isInvalidTokenError",{get:function(){return this.code===f.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===f.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===f.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(t,"debugModeRequired",{get:function(){return new t({code:f.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"lostInstance",{get:function(){return new t({code:f.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionRenew",{get:function(){return new t({code:f.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"invalidConnectionStateTransition",{get:function(){return new t({code:f.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionRequired",{get:function(){return new t({code:f.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionCanceled",{get:function(){return new t({code:f.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"invalidParameters",{get:function(){return new t({code:f.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"notSupportedError",{get:function(){return new t({code:f.NOT_SUPPORTED_ERROR,message:"Given parameters are not supported."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"networkError",{get:function(){return new t({code:f.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"markAsReadAllRateLimitExceeded",{get:function(){return new t({code:f.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"queryInProgress",{get:function(){return new t({code:f.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"noAckTimeout",{get:function(){return new t({code:f.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"loginTimeout",{get:function(){return new t({code:f.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionClosed",{get:function(){return new t({code:f.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"requestFailed",{get:function(){return new t({code:f.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"fileUploadCanceled",{get:function(){return new t({code:f.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"requestCanceled",{get:function(){return new t({code:f.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sessionTokenRefreshFailed",{get:function(){return new t({code:f.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sessionTokenRequestFailed",{get:function(){return new t({code:f.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"databaseError",{get:function(){return new t({code:f.DATABASE_ERROR,message:"Database error."})},enumerable:!1,configurable:!0}),t.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},t}(Error),k=[f.CONNECTION_REQUIRED,f.NETWORK_ERROR,f.ACK_TIMEOUT,f.WEBSOCKET_CONNECTION_CLOSED,f.WEBSOCKET_CONNECTION_FAILED,f.FILE_UPLOAD_CANCEL_FAILED,f.REQUEST_CANCELED,f.INTERNAL_SERVER_ERROR,f.RATE_LIMIT_EXCEEDED,f.UNKNOWN_SERVER_ERROR],E=[f.WEBSOCKET_CONNECTION_CLOSED,f.WEBSOCKET_CONNECTION_FAILED,f.CONNECTION_REQUIRED],S=function(e,t){if(e!==t){var n=i({},e),r=i({},t);return!(n.hasOwnProperty("messageId")&&r.hasOwnProperty("messageId")&&n.messageId!==r.messageId||n.hasOwnProperty("reqId")&&r.hasOwnProperty("reqId")&&n.reqId!==r.reqId||(n.hasOwnProperty("messageId")&&delete n.messageId,n.hasOwnProperty("reqId")&&delete n.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(n)!==JSON.stringify(r)))}return!0},C=function(e,t,n){return void 0===n&&(n=!1),!(!n||null!=t)||("string"!=typeof e?"object"==typeof e?T(e,t):I(e,t):typeof t===e)},T=function(e,t,n){return void 0===n&&(n=!1),!(!n||null!=t)||Object.values(e).includes(t)},I=function(e,t){return t instanceof e},M=function(e,t,n){return void 0===n&&(n=!1),!(!n||null!=t)||Array.isArray(t)&&t.every((function(t){return C(e,t)}))},O=function(e){return e>0&&k.indexOf(e)>=0},A=function(e){return e>0&&E.indexOf(e)>=0},N=function(e,t){if(void 0===t&&(t=!1),t&&null===e)return!0;var n=C("object",e)&&null!==e&&e.hasOwnProperty("name")&&"string"==typeof e.name&&e.hasOwnProperty("uri")&&"string"==typeof e.uri&&e.hasOwnProperty("type")&&"string"==typeof e.type;if(!n){if("undefined"!=typeof Blob)return e instanceof Blob;if("undefined"!=typeof File)return e instanceof File}return n},P=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=d([],u(e),!1).sort(),r=d([],u(t),!1).sort(),a=0;a<n.length;++a)if(n[a]!==r[a])return!1;return!0},x=function(){function e(e){var t=void 0===e?{}:e,n=t.useMemberInfoInMessage,r=void 0===n||n,a=t.typingIndicatorInvalidateTime,i=void 0===a?1e4:a,o=t.typingIndicatorThrottle,s=void 0===o?1e3:o,c=t.websocketResponseTimeout,l=void 0===c?1e4:c,u=t.websocketPayloadDecompression,d=void 0===u||u,f=t.sessionTokenRefreshTimeout,h=void 0===f?60:f;this._useMemberInfoInMessage=!0,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._sessionTokenRefreshTimeout=60,this._useMemberInfoInMessage=r,this._typingIndicatorInvalidateTime=i,this._typingIndicatorThrottle=s,this._websocketResponseTimeout=l,this._sessionTokenRefreshTimeout=h,this.websocketPayloadDecompression=d}return Object.defineProperty(e.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(e){C("boolean",e)&&(this._useMemberInfoInMessage=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(e){C("number",e)&&(this._typingIndicatorInvalidateTime=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(e){C("number",e)&&e>=1e3&&e<=9e3&&(this._typingIndicatorThrottle=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(e){C("number",e)&&e>=5e3&&e<=3e4&&(this._websocketResponseTimeout=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionTokenRefreshTimeout",{get:function(){return this._sessionTokenRefreshTimeout},set:function(e){C("number",e)&&(e<60?e=60:e>1800&&(e=1800),this._sessionTokenRefreshTimeout=e)},enumerable:!1,configurable:!0}),e}(),D={encrypt:function(e){return e},decrypt:function(e){return e}},U=function(){function e(e){var t=e.store;this._preference=new Map,this._store=t}return e.prototype._savePreferenceKeys=function(){return s(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this._store.set({key:this._keysAddress,value:d([],u(this._preference.keys()),!1),generation:1})];case 1:return e.sent(),[2]}}))}))},e.prototype.init=function(e,t){var n;return void 0===t&&(t=1),s(this,void 0,void 0,(function(){var r,a,i,o,s,u,d,f,h,p;return c(this,(function(c){switch(c.label){case 0:return this._version=t,this._keysAddress=e,r="".concat(e,".metadata.version"),[4,this._store.get(r)];case 1:return a=c.sent(),[4,this._store.get(e)];case 2:return i=null!==(n=c.sent())&&void 0!==n?n:[],!a||a.version<this._version?[4,this._resetPreferenceData(i,r)]:[3,4];case 3:return c.sent(),[3,11];case 4:c.trys.push([4,9,10,11]),o=l(i),s=o.next(),c.label=5;case 5:return s.done?[3,8]:(u=s.value,[4,this._store.get(u)]);case 6:(d=c.sent())&&this._preference.set(u,d),c.label=7;case 7:return s=o.next(),[3,5];case 8:return[3,11];case 9:return f=c.sent(),h={error:f},[3,11];case 10:try{s&&!s.done&&(p=o.return)&&p.call(o)}finally{if(h)throw h.error}return[7];case 11:return[2]}}))}))},e.prototype._resetPreferenceData=function(e,t){return s(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return this._preference=new Map,[4,this._store.removeMany(e)];case 1:return n.sent(),[4,this._store.set({key:t,value:{version:this._version},generation:1})];case 2:return n.sent(),[2]}}))}))},e.prototype.get=function(e){var t;return s(this,void 0,void 0,(function(){return c(this,(function(n){return[2,null!==(t=this._preference.get(e))&&void 0!==t?t:null]}))}))},e.prototype.set=function(e,t){return s(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return n=!this._preference.has(e),[4,this._store.set({key:e,value:t,generation:1})];case 1:return r.sent(),this._preference.set(e,t),n?[4,this._savePreferenceKeys()]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},e.prototype.remove=function(e){return s(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this._store.remove(e)];case 1:return t.sent(),this._preference.delete(e),[4,this._savePreferenceKeys()];case 2:return t.sent(),[2]}}))}))},e.prototype.clear=function(){return s(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this._store.removeMany(d([],u(this._preference.keys()),!1))];case 1:return e.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return e.sent(),[2]}}))}))},e}(),L=function(e){var t=e.encryption,n=void 0===t?null:t,r=e.store,a=void 0===r?null:r,i=e.localCacheEnabled,o=void 0===i||i,s=e.localCacheConfig,c=void 0===s?null:s;this.nestdb=null,this.store=a,this.preference=new U({store:a}),this.encryption=null!=n?n:D,this.localCacheEnabled=o,this.localCacheConfig=c};!function(e){e.SUCCESS="success",e.PENDING="pending",e.ERROR="error"}(m||(m={})),function(e){e.DEFAULT="default",e.ALL="all",e.MENTION_ONLY="mention_only",e.OFF="off"}(_||(_={})),function(e){e.FCM="gcm",e.APNS="apns",e.UNKNOWN="unknown"}(y||(y={})),function(e){e.ALTERNATIVE="alternative",e.DEFAULT="default"}(g||(g={})),function(e){e.CUSTOM="custom",e.MESSAGE_COLLECTION_ACCESSED_AT="messagecollection_accessed_at"}(v||(v={}));var z,R=function(){function e(e){var t=e.channel,n=e.cachedMessageCount;this._channel=null,this._cachedMessageCount=0,this._channel=t,this._cachedMessageCount=n}return Object.defineProperty(e.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cachedMessageCount",{get:function(){return this._cachedMessageCount},enumerable:!1,configurable:!0}),e}(),j=function(){function e(e){var t=void 0===e?{}:e,n=t.maxSize,r=void 0===n?256:n,a=t.clearOrder,i=void 0===a?v.MESSAGE_COLLECTION_ACCESSED_AT:a,o=t.customClearOrderComparator,s=void 0===o?null:o;this._customClearOrderComparator=null,this._clearOrderComparatorUseMessageCollectionAccessedAt=function(e,t){return e.channel.messageCollectionLastAccessedAt===t.channel.messageCollectionLastAccessedAt?e.channel.lastMessage&&!t.channel.lastMessage?1:!e.channel.lastMessage&&t.channel.lastMessage?-1:e.channel.lastMessage.createdAt-t.channel.lastMessage.createdAt:e.channel.messageCollectionLastAccessedAt>t.channel.messageCollectionLastAccessedAt?1:-1},this._maxSize=Math.max(r,64),s?(this._clearOrder=i,this._customClearOrderComparator=s):this._clearOrder=v.MESSAGE_COLLECTION_ACCESSED_AT}return Object.defineProperty(e.prototype,"maxSize",{get:function(){return this._maxSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clearOrder",{get:function(){return this._clearOrder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clearOrderComparator",{get:function(){var e;return this._clearOrder===v.MESSAGE_COLLECTION_ACCESSED_AT?this._clearOrderComparatorUseMessageCollectionAccessedAt:null!==(e=this._customClearOrderComparator)&&void 0!==e?e:this._clearOrderComparatorUseMessageCollectionAccessedAt},enumerable:!1,configurable:!0}),e}(),F=function(){function e(){this.sessionKey=null,this.authToken=null}return Object.defineProperty(e.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this.authToken=null,this.sessionKey=null},e}(),B=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))},H=function(){function e(e){var t=e.container;this._container={},this._container=t,this.key=B()}return e.prototype._register=function(e,t,n){return e in this._container||(this._container[e]=new Map),this._container[e].set(this.key,{occurence:t,handler:n}),this},e.prototype.on=function(e,t){return this._register(e,-1,t)},e.prototype.once=function(e,t){return this._register(e,1,t)},e.prototype.close=function(){for(var e in this._container)this._container[e].delete(this.key)},e}(),G=function(){function e(){this._container={}}return e.prototype.on=function(e,t){return new H({container:this._container}).on(e,t)},e.prototype.once=function(e,t){return new H({container:this._container}).once(e,t)},e.prototype.dispatch=function(e,t){var n,r,a=this._container[e];if(a){var i=[];try{for(var o=l(a.keys()),s=o.next();!s.done;s=o.next()){var c=s.value,u=a.get(c);u.handler(t),u.occurence>0&&(u.occurence--,0===u.occurence&&i.push(c))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}i.forEach((function(e){return a.delete(e)}))}},e}(),V=function(){function e(){this._dispatcher=new G}return e.prototype.on=function(e){return this._dispatcher.on("event",e)},e.prototype.once=function(e){return this._dispatcher.once("event",e)},e.prototype.dispatch=function(e){this._dispatcher.dispatch("event",e)},e}(),q=function(){},W=function(e){var t={};return e&&Object.keys(e).forEach((function(n){void 0!==e[n]&&NaN!==e[n]&&null!==e[n]&&(t[n]=e[n])})),t};!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"}(z||(z={}));var K,Q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.params={},t.requireAuth=!0,t.headers={},t.requestId=B(),t}return a(t,e),t.prototype.stringifyParams=function(e){return"object"!=typeof e||Array.isArray(e)?String(e):e?JSON.stringify(e):""},t.prototype.encodeParams=function(e){var t=this;return null==e||""===e?encodeURIComponent(""):Array.isArray(e)?e.map((function(e){return t.encodeParams(e)})).join(","):"object"==typeof e?encodeURIComponent(JSON.stringify(e)):encodeURIComponent(String(e))},Object.defineProperty(t.prototype,"query",{get:function(){var e=this,t=W(this.params);return"?".concat(Object.keys(t).map((function(n){return"".concat(encodeURIComponent(n),"=").concat(e.encodeParams(t[n]))})).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"payload",{get:function(){var e=this,t=W(this.params);if(Object.keys(t).some((function(e){return N(t[e])}))){var n=new FormData;return Object.keys(t).forEach((function(r){var a,i=t[r];if(N(i)){var o=i;n.append(r,o,null!==(a=o.name)&&void 0!==a?a:"filename")}else n.append(r,e.stringifyParams(i))})),n}return JSON.stringify(t)},enumerable:!1,configurable:!0}),t}(q),Y=function(e){function t(t,n){var r=e.call(this)||this;return r._iid=t,r._payload=n,r}return a(t,e),Object.defineProperty(t.prototype,"payload",{get:function(){return i({},this._payload)},enumerable:!1,configurable:!0}),t.prototype.as=function(e){return new e(this._iid,this.payload)},t}(q),Z=function(e){function t(t){var n=e.call(this)||this;return n.requestId=t,n}return a(t,e),t}(q),J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(q),X=function(e){function t(t){var n=e.call(this)||this;return n.statLog=t,n}return a(t,e),t}(q);!function(e){e.WEBSOCKET_CONNECT="ws:connect",e.API_RESULT="api:result"}(K||(K={}));var $=function(){function e(e){var t=e.type,n=e.data,r=e.ts,a=void 0===r?Date.now():r;this.type=t,this.createdAt=a,this.data=n}return e.payloadify=function(e){return W({stat_type:e.type,ts:e.createdAt,data:W(e.data)})},e}(),ee=function(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"==navigator.product},te=function(){function e(e,t){var n=t.auth,r=t.sdkState,a=t.dispatcher,i=t.logger,o=t.useFetchCompat,s=void 0!==o&&o,c=this;this._abortControl=new Map,this._shouldImportFetchCompat=!1,this._iid=e,this._auth=n,this._sdkState=r,this._dispatcher=a,this._dispatcher.on((function(e){e instanceof Z&&c.cancel(e.requestId)})),this._logger=i,this._shouldImportFetchCompat=s}return Object.defineProperty(e.prototype,"_userAgentWithExtension",{get:function(){var e=this._sdkState.extensions,t=ee()?"reactnative":"JS",n=e.sb_syncmanager?"s".concat(e.sb_syncmanager):"",r=e.sb_uikit?"u".concat(e.sb_uikit):"",a=e["device-os-platform"]?"o".concat(e["device-os-platform"]):"";return"".concat(t,"/c").concat(p.SDK_VERSION,"/").concat(n,"/").concat(r,"/").concat(a)},enumerable:!1,configurable:!0}),e.prototype._createHeader=function(e,t){void 0===t&&(t=null);var n=this._sdkState,r=n.appId,a=n.appVersion,o=i(i({},e.headers),{SendBird:"JS,".concat(p.OS_VERSION,",").concat(p.SDK_VERSION,",").concat(r).concat(a?",".concat(a):""),"SB-User-Agent":encodeURIComponent(this._userAgentWithExtension),"Request-Sent-Timestamp":Date.now().toString()});return t||(o["Content-Type"]="application/json; charset=utf-8"),e.requireAuth&&this._auth.hasSession&&(o["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(o["App-Id"]=r,o["Access-Token"]=this._auth.authToken),o},e.prototype._statLogApiResult=function(e,t,n){this._dispatcher.dispatch(new X(new $({type:K.API_RESULT,data:{endpoint:e.path,method:e.method,success:!n,latency:Date.now()-t,error_code:null==n?void 0:n.code,error_description:null==n?void 0:n.message}})))},e.prototype.send=function(e){return s(this,void 0,void 0,(function(){var t,r,a,i,o,s,l,u,d,f,h,p,m,_,y;return c(this,(function(c){switch(c.label){case 0:t=e.path,r=e.method,a=![z.GET,z.DELETE].includes(r),i=this._sdkState.api,o="".concat(i.host).concat(t).concat(a?"":e.query),s=a?e.payload:null,l=this._createHeader(e,s instanceof FormData?s:null),u=new AbortController,d=u.signal,this._abortControl.set(e.requestId,u),f=Date.now(),c.label=1;case 1:return c.trys.push([1,8,,9]),this._shouldImportFetchCompat&&(this._shouldImportFetchCompat=!1,("undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||{fetch:null}).fetch=void 0),"undefined"!=typeof AbortController?[3,3]:[4,n.e(197).then(n.bind(n,82197))];case 2:c.sent(),c.label=3;case 3:return"function"==typeof fetch?[3,5]:[4,n.e(881).then(n.bind(n,41881))];case 4:c.sent(),c.label=5;case 5:return[4,fetch(o,{method:r,body:s,headers:l,signal:d})];case 6:return[4,(h=c.sent()).json()];case 7:if(p=c.sent(),h.ok||h.redirected)return this._logger.debug("receive api response",e.requestId),this._statLogApiResult(e,f,null),[2,new Y(this._iid,p)];throw p?(m=new w(p),!e.requireAuth&&m.isSessionKeyExpiredError&&this._dispatcher.dispatch(new J),this._statLogApiResult(e,f,m),m):(m=w.requestFailed,this._statLogApiResult(e,f,m),m);case 8:throw _=c.sent(),this._statLogApiResult(e,f,_),_ instanceof w?(this._logger.debug("fail api request",_),_):"AbortError"===_.name?w.requestCanceled:(y=w.networkError,this._logger.debug("fail api request",y),y);case 9:return[2]}}))}))},e.prototype.cancel=function(e){this._abortControl.has(e)&&(this._abortControl.get(e).abort(),this._abortControl.delete(e))},e.prototype.cancelAll=function(){var e,t;try{for(var n=l(this._abortControl.values()),r=n.next();!r.done;r=n.next())r.value.abort()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this._abortControl.clear()},e}(),ne=function(e){function t(t,n,r,a){void 0===a&&(a="");var i=e.call(this)||this;return i._iid=t,i.code=n,i.payload=r,i.requestId=r?r.req_id:a,i}return a(t,e),t.createFromRawMessage=function(e,n){var r=n.substring(0,4),a=null;try{a=JSON.parse(n.substring(4))}catch(e){r="NOOP"}finally{return new t(e,r,a)}},t.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),"\n")},t.prototype.as=function(e){return new e(this._iid,this.code,this.payload)},t}(q),re=function(){};function ae(e){let t=e.length;for(;--t>=0;)e[t]=0}const ie=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),oe=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),se=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ce=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),le=new Array(576);ae(le);const ue=new Array(60);ae(ue);const de=new Array(512);ae(de);const fe=new Array(256);ae(fe);const he=new Array(29);ae(he);const pe=new Array(30);function me(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}let _e,ye,ge;function ve(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}ae(pe);const be=e=>e<256?de[e]:de[256+(e>>>7)],we=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},ke=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,we(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Ee=(e,t,n)=>{ke(e,n[2*t],n[2*t+1])},Se=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},Ce=(e,t,n)=>{const r=new Array(16);let a,i,o=0;for(a=1;a<=15;a++)o=o+n[a-1]<<1,r[a]=o;for(i=0;i<=t;i++){let t=e[2*i+1];0!==t&&(e[2*i]=Se(r[t]++,t))}},Te=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Ie=e=>{e.bi_valid>8?we(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Me=(e,t,n,r)=>{const a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]},Oe=(e,t,n)=>{const r=e.heap[n];let a=n<<1;for(;a<=e.heap_len&&(a<e.heap_len&&Me(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!Me(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},Ae=(e,t,n)=>{let r,a,i,o,s=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+s++],r+=(255&e.pending_buf[e.sym_buf+s++])<<8,a=e.pending_buf[e.sym_buf+s++],0===r?Ee(e,a,t):(i=fe[a],Ee(e,i+256+1,t),o=ie[i],0!==o&&(a-=he[i],ke(e,a,o)),r--,i=be(r),Ee(e,i,n),o=oe[i],0!==o&&(r-=pe[i],ke(e,r,o)))}while(s<e.sym_next);Ee(e,256,t)},Ne=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let o,s,c,l=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<i;o++)0!==n[2*o]?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):n[2*o+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[2*c]=1,e.depth[c]=0,e.opt_len--,a&&(e.static_len-=r[2*c+1]);for(t.max_code=l,o=e.heap_len>>1;o>=1;o--)Oe(e,n,o);c=i;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Oe(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,n[2*c]=n[2*o]+n[2*s],e.depth[c]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,n[2*o+1]=n[2*s+1]=c,e.heap[1]=c++,Oe(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,c=t.stat_desc.max_length;let l,u,d,f,h,p,m=0;for(f=0;f<=15;f++)e.bl_count[f]=0;for(n[2*e.heap[e.heap_max]+1]=0,l=e.heap_max+1;l<573;l++)u=e.heap[l],f=n[2*n[2*u+1]+1]+1,f>c&&(f=c,m++),n[2*u+1]=f,u>r||(e.bl_count[f]++,h=0,u>=s&&(h=o[u-s]),p=n[2*u],e.opt_len+=p*(f+h),i&&(e.static_len+=p*(a[2*u+1]+h)));if(0!==m){do{for(f=c-1;0===e.bl_count[f];)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(f=c;0!==f;f--)for(u=e.bl_count[f];0!==u;)d=e.heap[--l],d>r||(n[2*d+1]!==f&&(e.opt_len+=(f-n[2*d+1])*n[2*d],n[2*d+1]=f),u--)}})(e,t),Ce(n,l,e.bl_count)},Pe=(e,t,n)=>{let r,a,i=-1,o=t[1],s=0,c=7,l=4;for(0===o&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=o,o=t[2*(r+1)+1],++s<c&&a===o||(s<l?e.bl_tree[2*a]+=s:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,i=a,0===o?(c=138,l=3):a===o?(c=6,l=3):(c=7,l=4))},xe=(e,t,n)=>{let r,a,i=-1,o=t[1],s=0,c=7,l=4;for(0===o&&(c=138,l=3),r=0;r<=n;r++)if(a=o,o=t[2*(r+1)+1],!(++s<c&&a===o)){if(s<l)do{Ee(e,a,e.bl_tree)}while(0!=--s);else 0!==a?(a!==i&&(Ee(e,a,e.bl_tree),s--),Ee(e,16,e.bl_tree),ke(e,s-3,2)):s<=10?(Ee(e,17,e.bl_tree),ke(e,s-3,3)):(Ee(e,18,e.bl_tree),ke(e,s-11,7));s=0,i=a,0===o?(c=138,l=3):a===o?(c=6,l=3):(c=7,l=4)}};let De=!1;const Ue=(e,t,n,r)=>{ke(e,0+(r?1:0),3),Ie(e),we(e,n),we(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var Le={_tr_init:e=>{De||((()=>{let e,t,n,r,a;const i=new Array(16);for(n=0,r=0;r<28;r++)for(he[r]=n,e=0;e<1<<ie[r];e++)fe[n++]=r;for(fe[n-1]=r,a=0,r=0;r<16;r++)for(pe[r]=a,e=0;e<1<<oe[r];e++)de[a++]=r;for(a>>=7;r<30;r++)for(pe[r]=a<<7,e=0;e<1<<oe[r]-7;e++)de[256+a++]=r;for(t=0;t<=15;t++)i[t]=0;for(e=0;e<=143;)le[2*e+1]=8,e++,i[8]++;for(;e<=255;)le[2*e+1]=9,e++,i[9]++;for(;e<=279;)le[2*e+1]=7,e++,i[7]++;for(;e<=287;)le[2*e+1]=8,e++,i[8]++;for(Ce(le,287,i),e=0;e<30;e++)ue[2*e+1]=5,ue[2*e]=Se(e,5);_e=new me(le,ie,257,286,15),ye=new me(ue,oe,0,30,15),ge=new me(new Array(0),se,0,19,7)})(),De=!0),e.l_desc=new ve(e.dyn_ltree,_e),e.d_desc=new ve(e.dyn_dtree,ye),e.bl_desc=new ve(e.bl_tree,ge),e.bi_buf=0,e.bi_valid=0,Te(e)},_tr_stored_block:Ue,_tr_flush_block:(e,t,n,r)=>{let a,i,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Ne(e,e.l_desc),Ne(e,e.d_desc),o=(e=>{let t;for(Pe(e,e.dyn_ltree,e.l_desc.max_code),Pe(e,e.dyn_dtree,e.d_desc.max_code),Ne(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*ce[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==t?Ue(e,t,n,r):4===e.strategy||i===a?(ke(e,2+(r?1:0),3),Ae(e,le,ue)):(ke(e,4+(r?1:0),3),((e,t,n,r)=>{let a;for(ke(e,t-257,5),ke(e,n-1,5),ke(e,r-4,4),a=0;a<r;a++)ke(e,e.bl_tree[2*ce[a]+1],3);xe(e,e.dyn_ltree,t-1),xe(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Ae(e,e.dyn_ltree,e.dyn_dtree)),Te(e),r&&Ie(e)},_tr_tally:(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(fe[n]+256+1)]++,e.dyn_dtree[2*be(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{ke(e,2,3),Ee(e,256,le),(e=>{16===e.bi_valid?(we(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},ze=(e,t,n,r)=>{let a=65535&e,i=e>>>16&65535,o=0;for(;0!==n;){o=n>2e3?2e3:n,n-=o;do{a=a+t[r++]|0,i=i+a|0}while(--o);a%=65521,i%=65521}return a|i<<16};const Re=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var je=(e,t,n,r)=>{const a=Re,i=r+n;e^=-1;for(let n=r;n<i;n++)e=e>>>8^a[255&(e^t[n])];return~e},Fe={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Be={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:He,_tr_stored_block:Ge,_tr_flush_block:Ve,_tr_tally:qe,_tr_align:We}=Le,{Z_NO_FLUSH:Ke,Z_PARTIAL_FLUSH:Qe,Z_FULL_FLUSH:Ye,Z_FINISH:Ze,Z_BLOCK:Je,Z_OK:Xe,Z_STREAM_END:$e,Z_STREAM_ERROR:et,Z_DATA_ERROR:tt,Z_BUF_ERROR:nt,Z_DEFAULT_COMPRESSION:rt,Z_FILTERED:at,Z_HUFFMAN_ONLY:it,Z_RLE:ot,Z_FIXED:st,Z_DEFAULT_STRATEGY:ct,Z_UNKNOWN:lt,Z_DEFLATED:ut}=Be,dt=258,ft=262,ht=42,pt=113,mt=666,_t=(e,t)=>(e.msg=Fe[t],t),yt=e=>2*e-(e>4?9:0),gt=e=>{let t=e.length;for(;--t>=0;)e[t]=0},vt=e=>{let t,n,r,a=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=a?n-a:0}while(--t);t=a,r=t;do{n=e.prev[--r],e.prev[r]=n>=a?n-a:0}while(--t)};let bt=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const wt=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},kt=(e,t)=>{Ve(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,wt(e.strm)},Et=(e,t)=>{e.pending_buf[e.pending++]=t},St=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ct=(e,t,n,r)=>{let a=e.avail_in;return a>r&&(a=r),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=ze(e.adler,t,a,n):2===e.state.wrap&&(e.adler=je(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},Tt=(e,t)=>{let n,r,a=e.max_chain_length,i=e.strstart,o=e.prev_length,s=e.nice_match;const c=e.strstart>e.w_size-ft?e.strstart-(e.w_size-ft):0,l=e.window,u=e.w_mask,d=e.prev,f=e.strstart+dt;let h=l[i+o-1],p=l[i+o];e.prev_length>=e.good_match&&(a>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,l[n+o]===p&&l[n+o-1]===h&&l[n]===l[i]&&l[++n]===l[i+1]){i+=2,n++;do{}while(l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&i<f);if(r=dt-(f-i),i=f-dt,r>o){if(e.match_start=t,o=r,r>=s)break;h=l[i+o-1],p=l[i+o]}}}while((t=d[t&u])>c&&0!=--a);return o<=e.lookahead?o:e.lookahead},It=e=>{const t=e.w_size;let n,r,a;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ft)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),vt(e),r+=t),0===e.strm.avail_in)break;if(n=Ct(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=bt(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=bt(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<ft&&0!==e.strm.avail_in)},Mt=(e,t)=>{let n,r,a,i=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,o=0,s=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a)break;if(a=e.strm.avail_out-a,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>a&&(n=a),n<i&&(0===n&&t!==Ze||t===Ke||n!==r+e.strm.avail_in))break;o=t===Ze&&n===r+e.strm.avail_in?1:0,Ge(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,wt(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(Ct(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===o);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?4:t!==Ke&&t!==Ze&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(Ct(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,i=a>e.w_size?e.w_size:a,r=e.strstart-e.block_start,(r>=i||(r||t===Ze)&&t!==Ke&&0===e.strm.avail_in&&r<=a)&&(n=r>a?a:r,o=t===Ze&&0===e.strm.avail_in&&n===r?1:0,Ge(e,e.block_start,n,o),e.block_start+=n,wt(e.strm)),o?3:1)},Ot=(e,t)=>{let n,r;for(;;){if(e.lookahead<ft){if(It(e),e.lookahead<ft&&t===Ke)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=bt(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ft&&(e.match_length=Tt(e,n)),e.match_length>=3)if(r=qe(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=bt(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=bt(e,e.ins_h,e.window[e.strstart+1]);else r=qe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(kt(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Ze?(kt(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(kt(e,!1),0===e.strm.avail_out)?1:2},At=(e,t)=>{let n,r,a;for(;;){if(e.lookahead<ft){if(It(e),e.lookahead<ft&&t===Ke)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=bt(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ft&&(e.match_length=Tt(e,n),e.match_length<=5&&(e.strategy===at||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,r=qe(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=bt(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(kt(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=qe(e,0,e.window[e.strstart-1]),r&&kt(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=qe(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Ze?(kt(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(kt(e,!1),0===e.strm.avail_out)?1:2};function Nt(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}const Pt=[new Nt(0,0,0,0,Mt),new Nt(4,4,8,4,Ot),new Nt(4,5,16,8,Ot),new Nt(4,6,32,32,Ot),new Nt(4,4,16,16,At),new Nt(8,16,32,32,At),new Nt(8,16,128,128,At),new Nt(8,32,128,256,At),new Nt(32,128,258,1024,At),new Nt(32,258,258,4096,At)];function xt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ut,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),gt(this.dyn_ltree),gt(this.dyn_dtree),gt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),gt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),gt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Dt=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==ht&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==pt&&t.status!==mt?1:0},Ut=e=>{const t=(e=>{if(Dt(e))return _t(e,et);e.total_in=e.total_out=0,e.data_type=lt;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?ht:pt,e.adler=2===t.wrap?0:1,t.last_flush=-2,He(t),Xe})(e);var n;return t===Xe&&((n=e.state).window_size=2*n.w_size,gt(n.head),n.max_lazy_match=Pt[n.level].max_lazy,n.good_match=Pt[n.level].good_length,n.nice_match=Pt[n.level].nice_length,n.max_chain_length=Pt[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t};var Lt=(e,t,n,r,a,i)=>{if(!e)return et;let o=1;if(t===rt&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),a<1||a>9||n!==ut||r<8||r>15||t<0||t>9||i<0||i>st||8===r&&1!==o)return _t(e,et);8===r&&(r=9);const s=new xt;return e.state=s,s.strm=e,s.status=ht,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=i,s.method=n,Ut(e)},zt=(e,t)=>{if(Dt(e)||t>Je||t<0)return e?_t(e,et):et;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===mt&&t!==Ze)return _t(e,0===e.avail_out?nt:et);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(wt(e),0===e.avail_out)return n.last_flush=-1,Xe}else if(0===e.avail_in&&yt(t)<=yt(r)&&t!==Ze)return _t(e,nt);if(n.status===mt&&0!==e.avail_in)return _t(e,nt);if(n.status===ht&&0===n.wrap&&(n.status=pt),n.status===ht){let t=ut+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=it||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,St(n,t),0!==n.strstart&&(St(n,e.adler>>>16),St(n,65535&e.adler)),e.adler=1,n.status=pt,wt(e),0!==n.pending)return n.last_flush=-1,Xe}if(57===n.status)if(e.adler=0,Et(n,31),Et(n,139),Et(n,8),n.gzhead)Et(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Et(n,255&n.gzhead.time),Et(n,n.gzhead.time>>8&255),Et(n,n.gzhead.time>>16&255),Et(n,n.gzhead.time>>24&255),Et(n,9===n.level?2:n.strategy>=it||n.level<2?4:0),Et(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Et(n,255&n.gzhead.extra.length),Et(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=je(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Et(n,0),Et(n,0),Et(n,0),Et(n,0),Et(n,0),Et(n,9===n.level?2:n.strategy>=it||n.level<2?4:0),Et(n,3),n.status=pt,wt(e),0!==n.pending)return n.last_flush=-1,Xe;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=je(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=a,wt(e),0!==n.pending)return n.last_flush=-1,Xe;t=0,r-=a}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=je(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=je(e.adler,n.pending_buf,n.pending-r,r)),wt(e),0!==n.pending)return n.last_flush=-1,Xe;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Et(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=je(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=je(e.adler,n.pending_buf,n.pending-r,r)),wt(e),0!==n.pending)return n.last_flush=-1,Xe;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Et(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=je(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(wt(e),0!==n.pending))return n.last_flush=-1,Xe;Et(n,255&e.adler),Et(n,e.adler>>8&255),e.adler=0}if(n.status=pt,wt(e),0!==n.pending)return n.last_flush=-1,Xe}if(0!==e.avail_in||0!==n.lookahead||t!==Ke&&n.status!==mt){let r=0===n.level?Mt(n,t):n.strategy===it?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(It(e),0===e.lookahead)){if(t===Ke)return 1;break}if(e.match_length=0,n=qe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(kt(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Ze?(kt(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(kt(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===ot?((e,t)=>{let n,r,a,i;const o=e.window;for(;;){if(e.lookahead<=dt){if(It(e),e.lookahead<=dt&&t===Ke)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(a=e.strstart-1,r=o[a],r===o[++a]&&r===o[++a]&&r===o[++a])){i=e.strstart+dt;do{}while(r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&a<i);e.match_length=dt-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=qe(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=qe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(kt(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Ze?(kt(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(kt(e,!1),0===e.strm.avail_out)?1:2})(n,t):Pt[n.level].func(n,t);if(3!==r&&4!==r||(n.status=mt),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),Xe;if(2===r&&(t===Qe?We(n):t!==Je&&(Ge(n,0,0,!1),t===Ye&&(gt(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),wt(e),0===e.avail_out))return n.last_flush=-1,Xe}return t!==Ze?Xe:n.wrap<=0?$e:(2===n.wrap?(Et(n,255&e.adler),Et(n,e.adler>>8&255),Et(n,e.adler>>16&255),Et(n,e.adler>>24&255),Et(n,255&e.total_in),Et(n,e.total_in>>8&255),Et(n,e.total_in>>16&255),Et(n,e.total_in>>24&255)):(St(n,e.adler>>>16),St(n,65535&e.adler)),wt(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Xe:$e)},Rt=e=>{if(Dt(e))return et;const t=e.state.status;return e.state=null,t===pt?_t(e,tt):Xe};const jt=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Ft=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)jt(n,t)&&(e[t]=n[t])}}return e},Bt=e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,a=e.length;t<a;t++){let a=e[t];n.set(a,r),r+=a.length}return n};let Ht=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(r){Ht=!1}const Gt=new Uint8Array(256);for(let e=0;e<256;e++)Gt[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Gt[254]=Gt[254]=1;var Vt=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,a,i,o=e.length,s=0;for(a=0;a<o;a++)n=e.charCodeAt(a),55296==(64512&n)&&a+1<o&&(r=e.charCodeAt(a+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),i=0,a=0;i<s;a++)n=e.charCodeAt(a),55296==(64512&n)&&a+1<o&&(r=e.charCodeAt(a+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},qt=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,a;const i=new Array(2*n);for(a=0,r=0;r<n;){let t=e[r++];if(t<128){i[a++]=t;continue}let o=Gt[t];if(o>4)i[a++]=65533,r+=o-1;else{for(t&=2===o?31:3===o?15:7;o>1&&r<n;)t=t<<6|63&e[r++],o--;o>1?i[a++]=65533:t<65536?i[a++]=t:(t-=65536,i[a++]=55296|t>>10&1023,i[a++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Ht)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(i,a)},Wt=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+Gt[e[n]]>t?n:t},Kt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Qt=Object.prototype.toString,{Z_NO_FLUSH:Yt,Z_SYNC_FLUSH:Zt,Z_FULL_FLUSH:Jt,Z_FINISH:Xt,Z_OK:$t,Z_STREAM_END:en,Z_DEFAULT_COMPRESSION:tn,Z_DEFAULT_STRATEGY:nn,Z_DEFLATED:rn}=Be;function an(e){this.options=Ft({level:tn,method:rn,chunkSize:16384,windowBits:15,memLevel:8,strategy:nn},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kt,this.strm.avail_out=0;let n=Lt(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==$t)throw new Error(Fe[n]);if(t.header&&((e,t)=>{Dt(e)||2!==e.state.wrap||(e.state.gzhead=t)})(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Vt(t.dictionary):"[object ArrayBuffer]"===Qt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=((e,t)=>{let n=t.length;if(Dt(e))return et;const r=e.state,a=r.wrap;if(2===a||1===a&&r.status!==ht||r.lookahead)return et;if(1===a&&(e.adler=ze(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===a&&(gt(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const i=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,It(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=bt(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,It(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=o,e.input=s,e.avail_in=i,r.wrap=a,Xe})(this.strm,e),n!==$t)throw new Error(Fe[n]);this._dict_set=!0}}function on(e,t){const n=new an(t);if(n.push(e,!0),n.err)throw n.msg||Fe[n.err];return n.result}an.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let a,i;if(this.ended)return!1;for(i=t===~~t?t:!0===t?Xt:Yt,"string"==typeof e?n.input=Vt(e):"[object ArrayBuffer]"===Qt.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===Zt||i===Jt)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(a=zt(n,i),a===en)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=Rt(this.strm),this.onEnd(a),this.ended=!0,a===$t;if(0!==n.avail_out){if(i>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},an.prototype.onData=function(e){this.chunks.push(e)},an.prototype.onEnd=function(e){e===$t&&(this.result=Bt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var sn={Deflate:an,deflate:on,deflateRaw:function(e,t){return(t=t||{}).raw=!0,on(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,on(e,t)},constants:Be};const cn=16209;var ln=function(e,t){let n,r,a,i,o,s,c,l,u,d,f,h,p,m,_,y,g,v,b,w,k,E,S,C;const T=e.state;n=e.next_in,S=e.input,r=n+(e.avail_in-5),a=e.next_out,C=e.output,i=a-(t-e.avail_out),o=a+(e.avail_out-257),s=T.dmax,c=T.wsize,l=T.whave,u=T.wnext,d=T.window,f=T.hold,h=T.bits,p=T.lencode,m=T.distcode,_=(1<<T.lenbits)-1,y=(1<<T.distbits)-1;e:do{h<15&&(f+=S[n++]<<h,h+=8,f+=S[n++]<<h,h+=8),g=p[f&_];t:for(;;){if(v=g>>>24,f>>>=v,h-=v,v=g>>>16&255,0===v)C[a++]=65535&g;else{if(!(16&v)){if(!(64&v)){g=p[(65535&g)+(f&(1<<v)-1)];continue t}if(32&v){T.mode=16191;break e}e.msg="invalid literal/length code",T.mode=cn;break e}b=65535&g,v&=15,v&&(h<v&&(f+=S[n++]<<h,h+=8),b+=f&(1<<v)-1,f>>>=v,h-=v),h<15&&(f+=S[n++]<<h,h+=8,f+=S[n++]<<h,h+=8),g=m[f&y];n:for(;;){if(v=g>>>24,f>>>=v,h-=v,v=g>>>16&255,!(16&v)){if(!(64&v)){g=m[(65535&g)+(f&(1<<v)-1)];continue n}e.msg="invalid distance code",T.mode=cn;break e}if(w=65535&g,v&=15,h<v&&(f+=S[n++]<<h,h+=8,h<v&&(f+=S[n++]<<h,h+=8)),w+=f&(1<<v)-1,w>s){e.msg="invalid distance too far back",T.mode=cn;break e}if(f>>>=v,h-=v,v=a-i,w>v){if(v=w-v,v>l&&T.sane){e.msg="invalid distance too far back",T.mode=cn;break e}if(k=0,E=d,0===u){if(k+=c-v,v<b){b-=v;do{C[a++]=d[k++]}while(--v);k=a-w,E=C}}else if(u<v){if(k+=c+u-v,v-=u,v<b){b-=v;do{C[a++]=d[k++]}while(--v);if(k=0,u<b){v=u,b-=v;do{C[a++]=d[k++]}while(--v);k=a-w,E=C}}}else if(k+=u-v,v<b){b-=v;do{C[a++]=d[k++]}while(--v);k=a-w,E=C}for(;b>2;)C[a++]=E[k++],C[a++]=E[k++],C[a++]=E[k++],b-=3;b&&(C[a++]=E[k++],b>1&&(C[a++]=E[k++]))}else{k=a-w;do{C[a++]=C[k++],C[a++]=C[k++],C[a++]=C[k++],b-=3}while(b>2);b&&(C[a++]=C[k++],b>1&&(C[a++]=C[k++]))}break}}break}}while(n<r&&a<o);b=h>>3,n-=b,h-=b<<3,f&=(1<<h)-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<o?o-a+257:257-(a-o),T.hold=f,T.bits=h};const un=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),dn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),fn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),hn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var pn=(e,t,n,r,a,i,o,s)=>{const c=s.bits;let l,u,d,f,h,p,m=0,_=0,y=0,g=0,v=0,b=0,w=0,k=0,E=0,S=0,C=null;const T=new Uint16Array(16),I=new Uint16Array(16);let M,O,A,N=null;for(m=0;m<=15;m++)T[m]=0;for(_=0;_<r;_++)T[t[n+_]]++;for(v=c,g=15;g>=1&&0===T[g];g--);if(v>g&&(v=g),0===g)return a[i++]=20971520,a[i++]=20971520,s.bits=1,0;for(y=1;y<g&&0===T[y];y++);for(v<y&&(v=y),k=1,m=1;m<=15;m++)if(k<<=1,k-=T[m],k<0)return-1;if(k>0&&(0===e||1!==g))return-1;for(I[1]=0,m=1;m<15;m++)I[m+1]=I[m]+T[m];for(_=0;_<r;_++)0!==t[n+_]&&(o[I[t[n+_]]++]=_);if(0===e?(C=N=o,p=20):1===e?(C=un,N=dn,p=257):(C=fn,N=hn,p=0),S=0,_=0,m=y,h=i,b=v,w=0,d=-1,E=1<<v,f=E-1,1===e&&E>852||2===e&&E>592)return 1;for(;;){M=m-w,o[_]+1<p?(O=0,A=o[_]):o[_]>=p?(O=N[o[_]-p],A=C[o[_]-p]):(O=96,A=0),l=1<<m-w,u=1<<b,y=u;do{u-=l,a[h+(S>>w)+u]=M<<24|O<<16|A}while(0!==u);for(l=1<<m-1;S&l;)l>>=1;if(0!==l?(S&=l-1,S+=l):S=0,_++,0==--T[m]){if(m===g)break;m=t[n+o[_]]}if(m>v&&(S&f)!==d){for(0===w&&(w=v),h+=y,b=m-w,k=1<<b;b+w<g&&(k-=T[b+w],!(k<=0));)b++,k<<=1;if(E+=1<<b,1===e&&E>852||2===e&&E>592)return 1;d=S&f,a[d]=v<<24|b<<16|h-i}}return 0!==S&&(a[h+S]=m-w<<24|64<<16),s.bits=v,0};const{Z_FINISH:mn,Z_BLOCK:_n,Z_TREES:yn,Z_OK:gn,Z_STREAM_END:vn,Z_NEED_DICT:bn,Z_STREAM_ERROR:wn,Z_DATA_ERROR:kn,Z_MEM_ERROR:En,Z_BUF_ERROR:Sn,Z_DEFLATED:Cn}=Be,Tn=16180,In=16190,Mn=16191,On=16192,An=16194,Nn=16199,Pn=16200,xn=16206,Dn=16209,Un=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Ln(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zn=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Tn||t.mode>16211?1:0},Rn=e=>{if(zn(e))return wn;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,(e=>{if(zn(e))return wn;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Tn,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,gn})(e)};let jn,Fn,Bn=!0;const Hn=e=>{if(Bn){jn=new Int32Array(512),Fn=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(pn(1,e.lens,0,288,jn,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;pn(2,e.lens,0,32,Fn,0,e.work,{bits:5}),Bn=!1}e.lencode=jn,e.lenbits=9,e.distcode=Fn,e.distbits=5},Gn=(e,t,n,r)=>{let a;const i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(t.subarray(n-r,n-r+a),i.wnext),(r-=a)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0};var Vn=Rn,qn=(e,t)=>{if(!e)return wn;const n=new Ln;e.state=n,n.strm=e,n.window=null,n.mode=Tn;const r=((e,t)=>{let n;if(zn(e))return wn;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?wn:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Rn(e))})(e,t);return r!==gn&&(e.state=null),r},Wn=(e,t)=>{let n,r,a,i,o,s,c,l,u,d,f,h,p,m,_,y,g,v,b,w,k,E,S=0;const C=new Uint8Array(4);let T,I;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(zn(e)||!e.output||!e.input&&0!==e.avail_in)return wn;n=e.state,n.mode===Mn&&(n.mode=On),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,l=n.hold,u=n.bits,d=s,f=c,E=gn;e:for(;;)switch(n.mode){case Tn:if(0===n.wrap){n.mode=On;break}for(;u<16;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(2&n.wrap&&35615===l){0===n.wbits&&(n.wbits=15),n.check=0,C[0]=255&l,C[1]=l>>>8&255,n.check=je(n.check,C,2,0),l=0,u=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){e.msg="incorrect header check",n.mode=Dn;break}if((15&l)!==Cn){e.msg="unknown compression method",n.mode=Dn;break}if(l>>>=4,u-=4,k=8+(15&l),0===n.wbits&&(n.wbits=k),k>15||k>n.wbits){e.msg="invalid window size",n.mode=Dn;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&l?16189:Mn,l=0,u=0;break;case 16181:for(;u<16;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(n.flags=l,(255&n.flags)!==Cn){e.msg="unknown compression method",n.mode=Dn;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Dn;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&4&n.wrap&&(C[0]=255&l,C[1]=l>>>8&255,n.check=je(n.check,C,2,0)),l=0,u=0,n.mode=16182;case 16182:for(;u<32;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}n.head&&(n.head.time=l),512&n.flags&&4&n.wrap&&(C[0]=255&l,C[1]=l>>>8&255,C[2]=l>>>16&255,C[3]=l>>>24&255,n.check=je(n.check,C,4,0)),l=0,u=0,n.mode=16183;case 16183:for(;u<16;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&4&n.wrap&&(C[0]=255&l,C[1]=l>>>8&255,n.check=je(n.check,C,2,0)),l=0,u=0,n.mode=16184;case 16184:if(1024&n.flags){for(;u<16;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&4&n.wrap&&(C[0]=255&l,C[1]=l>>>8&255,n.check=je(n.check,C,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(h=n.length,h>s&&(h=s),h&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+h),k)),512&n.flags&&4&n.wrap&&(n.check=je(n.check,r,h,i)),s-=h,i+=h,n.length-=h),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===s)break e;h=0;do{k=r[i+h++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&h<s);if(512&n.flags&&4&n.wrap&&(n.check=je(n.check,r,h,i)),s-=h,i+=h,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===s)break e;h=0;do{k=r[i+h++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&h<s);if(512&n.flags&&4&n.wrap&&(n.check=je(n.check,r,h,i)),s-=h,i+=h,k)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;u<16;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(4&n.wrap&&l!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Dn;break}l=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Mn;break;case 16189:for(;u<32;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}e.adler=n.check=Un(l),l=0,u=0,n.mode=In;case In:if(0===n.havedict)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=s,n.hold=l,n.bits=u,bn;e.adler=n.check=1,n.mode=Mn;case Mn:if(t===_n||t===yn)break e;case On:if(n.last){l>>>=7&u,u-=7&u,n.mode=xn;break}for(;u<3;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}switch(n.last=1&l,l>>>=1,u-=1,3&l){case 0:n.mode=16193;break;case 1:if(Hn(n),n.mode=Nn,t===yn){l>>>=2,u-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=Dn}l>>>=2,u-=2;break;case 16193:for(l>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if((65535&l)!=(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Dn;break}if(n.length=65535&l,l=0,u=0,n.mode=An,t===yn)break e;case An:n.mode=16195;case 16195:if(h=n.length,h){if(h>s&&(h=s),h>c&&(h=c),0===h)break e;a.set(r.subarray(i,i+h),o),s-=h,i+=h,c-=h,o+=h,n.length-=h;break}n.mode=Mn;break;case 16196:for(;u<14;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(n.nlen=257+(31&l),l>>>=5,u-=5,n.ndist=1+(31&l),l>>>=5,u-=5,n.ncode=4+(15&l),l>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Dn;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}n.lens[M[n.have++]]=7&l,l>>>=3,u-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},E=pn(0,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,E){e.msg="invalid code lengths set",n.mode=Dn;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[l&(1<<n.lenbits)-1],_=S>>>24,y=S>>>16&255,g=65535&S,!(_<=u);){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(g<16)l>>>=_,u-=_,n.lens[n.have++]=g;else{if(16===g){for(I=_+2;u<I;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(l>>>=_,u-=_,0===n.have){e.msg="invalid bit length repeat",n.mode=Dn;break}k=n.lens[n.have-1],h=3+(3&l),l>>>=2,u-=2}else if(17===g){for(I=_+3;u<I;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}l>>>=_,u-=_,k=0,h=3+(7&l),l>>>=3,u-=3}else{for(I=_+7;u<I;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}l>>>=_,u-=_,k=0,h=11+(127&l),l>>>=7,u-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Dn;break}for(;h--;)n.lens[n.have++]=k}}if(n.mode===Dn)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Dn;break}if(n.lenbits=9,T={bits:n.lenbits},E=pn(1,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,E){e.msg="invalid literal/lengths set",n.mode=Dn;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},E=pn(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,E){e.msg="invalid distances set",n.mode=Dn;break}if(n.mode=Nn,t===yn)break e;case Nn:n.mode=Pn;case Pn:if(s>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=s,n.hold=l,n.bits=u,ln(e,f),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,l=n.hold,u=n.bits,n.mode===Mn&&(n.back=-1);break}for(n.back=0;S=n.lencode[l&(1<<n.lenbits)-1],_=S>>>24,y=S>>>16&255,g=65535&S,!(_<=u);){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(y&&!(240&y)){for(v=_,b=y,w=g;S=n.lencode[w+((l&(1<<v+b)-1)>>v)],_=S>>>24,y=S>>>16&255,g=65535&S,!(v+_<=u);){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}l>>>=v,u-=v,n.back+=v}if(l>>>=_,u-=_,n.back+=_,n.length=g,0===y){n.mode=16205;break}if(32&y){n.back=-1,n.mode=Mn;break}if(64&y){e.msg="invalid literal/length code",n.mode=Dn;break}n.extra=15&y,n.mode=16201;case 16201:if(n.extra){for(I=n.extra;u<I;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;S=n.distcode[l&(1<<n.distbits)-1],_=S>>>24,y=S>>>16&255,g=65535&S,!(_<=u);){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(!(240&y)){for(v=_,b=y,w=g;S=n.distcode[w+((l&(1<<v+b)-1)>>v)],_=S>>>24,y=S>>>16&255,g=65535&S,!(v+_<=u);){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}l>>>=v,u-=v,n.back+=v}if(l>>>=_,u-=_,n.back+=_,64&y){e.msg="invalid distance code",n.mode=Dn;break}n.offset=g,n.extra=15&y,n.mode=16203;case 16203:if(n.extra){for(I=n.extra;u<I;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Dn;break}n.mode=16204;case 16204:if(0===c)break e;if(h=f-c,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Dn;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),m=n.window}else m=a,p=o-n.offset,h=n.length;h>c&&(h=c),c-=h,n.length-=h;do{a[o++]=m[p++]}while(--h);0===n.length&&(n.mode=Pn);break;case 16205:if(0===c)break e;a[o++]=n.length,c--,n.mode=Pn;break;case xn:if(n.wrap){for(;u<32;){if(0===s)break e;s--,l|=r[i++]<<u,u+=8}if(f-=c,e.total_out+=f,n.total+=f,4&n.wrap&&f&&(e.adler=n.check=n.flags?je(n.check,a,f,o-f):ze(n.check,a,f,o-f)),f=c,4&n.wrap&&(n.flags?l:Un(l))!==n.check){e.msg="incorrect data check",n.mode=Dn;break}l=0,u=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(4&n.wrap&&l!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Dn;break}l=0,u=0}n.mode=16208;case 16208:E=vn;break e;case Dn:E=kn;break e;case 16210:return En;default:return wn}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=s,n.hold=l,n.bits=u,(n.wsize||f!==e.avail_out&&n.mode<Dn&&(n.mode<xn||t!==mn))&&Gn(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,n.total+=f,4&n.wrap&&f&&(e.adler=n.check=n.flags?je(n.check,a,f,e.next_out-f):ze(n.check,a,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Mn?128:0)+(n.mode===Nn||n.mode===An?256:0),(0===d&&0===f||t===mn)&&E===gn&&(E=Sn),E},Kn=e=>{if(zn(e))return wn;let t=e.state;return t.window&&(t.window=null),e.state=null,gn},Qn=(e,t)=>{const n=t.length;let r,a,i;return zn(e)?wn:(r=e.state,0!==r.wrap&&r.mode!==In?wn:r.mode===In&&(a=1,a=ze(a,t,n,0),a!==r.check)?kn:(i=Gn(e,t,n,n),i?(r.mode=16210,En):(r.havedict=1,gn)))},Yn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Zn=Object.prototype.toString,{Z_NO_FLUSH:Jn,Z_FINISH:Xn,Z_OK:$n,Z_STREAM_END:er,Z_NEED_DICT:tr,Z_STREAM_ERROR:nr,Z_DATA_ERROR:rr,Z_MEM_ERROR:ar}=Be;function ir(e){this.options=Ft({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kt,this.strm.avail_out=0;let n=qn(this.strm,t.windowBits);if(n!==$n)throw new Error(Fe[n]);if(this.header=new Yn,((e,t)=>{if(zn(e))return wn;const n=e.state;2&n.wrap&&(n.head=t,t.done=!1)})(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Vt(t.dictionary):"[object ArrayBuffer]"===Zn.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Qn(this.strm,t.dictionary),n!==$n)))throw new Error(Fe[n])}function or(e,t){const n=new ir(t);if(n.push(e),n.err)throw n.msg||Fe[n.err];return n.result}ir.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,o,s;if(this.ended)return!1;for(o=t===~~t?t:!0===t?Xn:Jn,"[object ArrayBuffer]"===Zn.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=Wn(n,o),i===tr&&a&&(i=Qn(n,a),i===$n?i=Wn(n,o):i===rr&&(i=tr));n.avail_in>0&&i===er&&n.state.wrap>0&&0!==e[n.next_in];)Vn(n),i=Wn(n,o);switch(i){case nr:case rr:case tr:case ar:return this.onEnd(i),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||i===er))if("string"===this.options.to){let e=Wt(n.output,n.next_out),t=n.next_out-e,a=qt(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(a)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(i!==$n||0!==s){if(i===er)return i=Kn(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},ir.prototype.onData=function(e){this.chunks.push(e)},ir.prototype.onEnd=function(e){e===$n&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Bt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var sr={Inflate:ir,inflate:or,inflateRaw:function(e,t){return(t=t||{}).raw=!0,or(e,t)},ungzip:or,constants:Be};const{Deflate:cr,deflate:lr,deflateRaw:ur,gzip:dr}=sn,{Inflate:fr,inflate:hr,inflateRaw:pr,ungzip:mr}=sr;var _r,yr={Deflate:cr,deflate:lr,deflateRaw:ur,gzip:dr,Inflate:fr,inflate:hr,inflateRaw:pr,ungzip:mr,constants:Be};!function(e){e.CONNECTING="CONNECTING",e.OPEN="OPEN",e.CLOSED="CLOSED"}(_r||(_r={}));var gr,vr=function(e){function t(t,n){var r=n.sdkState,a=n.dispatcher,i=n.logger,o=e.call(this)||this;return o.lastActive=0,o._iid=t,o._sdkState=r,o._dispatcher=a,o._logger=i,o}return a(t,e),Object.defineProperty(t.prototype,"isOpen",{get:function(){return this.connectionState===_r.OPEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return _r.CONNECTING;case 1:return _r.OPEN}return _r.CLOSED},enumerable:!1,configurable:!0}),t.prototype._handleMessage=function(e){var t=this;e.split("\n").forEach((function(e){if(e){var n=ne.createFromRawMessage(t._iid,e);t._logger.debug("receive websocket event",n),"LOGI"===n.code?t.dispatch("message",n):"PONG"===n.code?t.dispatch("pong"):"EXPR"===n.code?n.payload&&n.payload.expires_in>=0&&t._dispatcher.dispatch(new J):"NOOP"===n.code||t.dispatch("message",n)}}))},t.prototype.connect=function(e){var t=this;this._ws=new WebSocket(e),this._ws.onopen=function(){t._logger.debug("websocket open"),t.dispatch("open")},this._ws.onmessage=function(e){return s(t,void 0,void 0,(function(){var t,n,r=this;return c(this,(function(a){return(null===(n=this._sdkState.websocket)||void 0===n?void 0:n.compression)?e.data instanceof Blob?((t=new FileReader).readAsArrayBuffer(e.data),t.onloadend=function(){return s(r,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,(r=t.result,s(void 0,void 0,void 0,(function(){var e;return c(this,(function(t){return e=yr.ungzip(r),[2,String.fromCharCode.apply(null,e)]}))})))];case 1:return e=n.sent(),this._handleMessage(e),[2]}var r}))}))}):"string"==typeof e.data&&this._handleMessage(e.data):this._handleMessage(e.data),[2]}))}))},this._ws.onerror=function(){t._logger.debug("websocket error"),t.dispatch("error",w.networkError)},this._ws.onclose=function(){t._logger.debug("websocket close"),t.dispatch("close")},this.lastActive=Date.now()},t.prototype.disconnect=function(){var e=this;return new Promise((function(t){e._logger.debug("websocket disconnect"),e._ws&&e.connectionState!==_r.CLOSED?(e._ws.onopen=re,e._ws.onmessage=re,e._ws.onerror=re,e._ws.onclose=function(){e.dispatch("close"),t()},e._ws.close(),e._ws=null):t()}))},t.prototype.send=function(e){if(!this._ws)throw w.connectionClosed;"PING"!==e.code?this.dispatch("ping-refresh"):this._logger.debug("send ping",e),this._ws.send(e.convertToMessage())},t.prototype.error=function(e){this._logger.debug("websocket error",e),this.dispatch("error",e)},t}(G),br=function(e){function t(t){var n,r=t.code,a=t.ackRequired,i=t.payload,o=void 0===i?null:i,s=this;return(s=e.call(this)||this).code=r,s.payload=o,s.requestId=null!==(n=s.payload.req_id)&&void 0!==n?n:B(),s.ackRequired=a,s.payload.req_id=s.requestId,s}return a(t,e),t.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),"\n")},t}(q),wr=function(e){function t(t){var n=t.all,r=t.custom_types,a=t.ts,i=e.call(this)||this;return i.all=n,i.customTypes=r,i.ts=a,i}return a(t,e),t}(q),kr=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Er=function(){function e(e,t){var n=t.auth,r=t.sdkState,a=t.dispatcher,i=t.logger,o=t.useFetchCompat,s=void 0!==o&&o,c=this;this._ackStateMap=new Map,this._sdkState=r,this._dispatcher=a,this._logger=i,this.apiClient=new te(e,{auth:n,sdkState:r,dispatcher:a,logger:i,useFetchCompat:s}),this.websocketClient=new vr(e,{sdkState:r,dispatcher:a,logger:i}),this.websocketClient.on("message",(function(e){if(e.payload.unread_cnt&&c._dispatcher.dispatch(new wr(e.payload.unread_cnt)),e.requestId){if(c._ackStateMap.has(e.requestId)){var t=c._ackStateMap.get(e.requestId);"EROR"!==e.code?t.resolve(e):t.reject(new w({code:e.payload.code,message:e.payload.message}))}}else c._dispatcher.dispatch(e)})).on("close",(function(){c._ackStateMap.forEach((function(e){e.reject(w.connectionClosed)})),c._ackStateMap.clear()}))}return e.prototype._sendApiRequest=function(e){return s(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.apiClient.send(e)];case 1:return[2,t.sent()]}}))}))},e.prototype._sendWebsocketRequest=function(e){return s(this,void 0,void 0,(function(){var t,n,r,a=this;return c(this,(function(i){if(t=new kr,e.ackRequired){n=null,r=function(r,i){void 0===r&&(r=null),void 0===i&&(i=null),a._ackStateMap.has(e.requestId)&&(a._ackStateMap.delete(e.requestId),n&&(clearTimeout(n),n=null),r?(a._logger.debug("fail websocket request",r),t.reject(r)):(a._logger.debug("receive websocket ack",e.requestId),t.resolve(i)))};try{n=setTimeout((function(){return r(w.noAckTimeout)}),this._sdkState.websocket.responseTimeout),this._ackStateMap.set(e.requestId,{resolve:function(e){return r(null,e)},reject:function(e){return r(e)}}),this.websocketClient.send(e)}catch(e){r(e)}}else try{this.websocketClient.send(e),t.resolve(null)}catch(e){t.reject(e)}return[2,t.promise]}))}))},e.prototype.send=function(e){return s(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return e instanceof Q?[4,this._sendApiRequest(e)]:[3,2];case 1:case 3:return[2,t.sent()];case 2:return e instanceof br?[4,this._sendWebsocketRequest(e)]:[3,4];case 4:throw w.invalidParameters}}))}))},e.prototype.cancel=function(e){this.apiClient.cancel(e)},e.prototype.cancelAll=function(){this.apiClient.cancelAll()},e}();!function(e){e[e.NONE=0]="NONE",e[e.INITIALIZED=1]="INITIALIZED",e[e.CONNECTING=2]="CONNECTING",e[e.CONNECTED=3]="CONNECTED",e[e.RECONNECTING=4]="RECONNECTING",e[e.INTERNAL_DISCONNECTED=5]="INTERNAL_DISCONNECTED",e[e.EXTERNAL_DISCONNECTED=6]="EXTERNAL_DISCONNECTED",e[e.LOGOUT=7]="LOGOUT"}(gr||(gr={}));var Sr=function(e){function t(t){var n=t.stateType,r=e.call(this)||this;return r.stateType=n,r}return a(t,e),t}(q),Cr=function(){function e(e,t){var n=t.auth,r=t.sdkState,a=t.dispatcher,i=t.logger,o=t.useFetchCompat,l=void 0!==o&&o,u=this;this._currentConnectionStateType=gr.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new Er(e,{auth:n,sdkState:r,dispatcher:a,logger:i,useFetchCompat:l}),this._auth=n,this._logger=i,this._dispatcher=a,this._dispatcher.on((function(e){if(e instanceof Sr){var t=e.stateType;switch(u._currentConnectionStateType=t,t){case gr.CONNECTED:var n=u._lazyCallQueue;u._lazyCallQueue=[],n.forEach((function(e){return s(u,void 0,void 0,(function(){var t,n,r,a,i;return c(this,(function(o){switch(o.label){case 0:t=e.command,n=e.deferred,r=e.timeout,clearTimeout(r),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.send(t)];case 2:return a=o.sent(),n.resolve(a),[3,4];case 3:return i=o.sent(),n.reject(i),[3,4];case 4:return[2]}}))}))}));break;case gr.INITIALIZED:case gr.INTERNAL_DISCONNECTED:case gr.EXTERNAL_DISCONNECTED:case gr.LOGOUT:n=u._lazyCallQueue,u._lazyCallQueue=[],n.forEach((function(e){return s(u,void 0,void 0,(function(){var t,n;return c(this,(function(r){return t=e.deferred,n=e.timeout,clearTimeout(n),this._auth&&this._auth.hasSession?t.reject(w.connectionClosed):t.reject(w.connectionRequired),[2]}))}))}))}}}))}return Object.defineProperty(e.prototype,"isReady",{get:function(){return this._currentConnectionStateType===gr.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===gr.CONNECTING||this._currentConnectionStateType===gr.RECONNECTING},enumerable:!1,configurable:!0}),e.prototype.send=function(e){return s(this,void 0,void 0,(function(){var t,n,r=this;return c(this,(function(a){switch(a.label){case 0:return e instanceof br?this.isReady?(this._logger.debug("send websocket request",e),[4,this.commandRouter.send(e)]):[3,2]:[3,4];case 1:case 5:return[2,a.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",e),t=new kr,this._lazyCallQueue.push({command:e,deferred:t,timeout:setTimeout((function(){return r.timeout(e.requestId)}),1e4)}),[2,t.promise];throw this._logger.debug("fail websocket request"),w.connectionRequired;case 3:return[3,7];case 4:return e instanceof Q?this._auth.hasSession?(this._logger.debug("send api request",e),[4,this.commandRouter.send(e)]):[3,6]:[3,7];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",e),t=new kr,this._lazyCallQueue.push({command:e,deferred:t,timeout:setTimeout((function(){return r.timeout(e.requestId)}),1e4)}),[2,t.promise];throw n=w.connectionRequired,this._logger.debug("fail api request",n),n;case 7:return[2]}}))}))},e.prototype.forceSend=function(e){return s(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this._logger.debug("send forced request",e),[4,this.commandRouter.send(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.timeout=function(e){this._logger.debug("timeout request",e);var t=this._lazyCallQueue.findIndex((function(t){return t.command.requestId===e}));t>-1&&(this._lazyCallQueue[t].deferred.reject(w.connectionRequired),this._lazyCallQueue.splice(t,1))},e.prototype.cancel=function(e){this._logger.debug("cancel api request",e),this.commandRouter.cancel(e)},e.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},e}(),Tr="sendbird@devicetokens",Ir=function(){function e(e){var t=e.type,n=e.token;this.type=t,this.token=n}return e.payloadify=function(e){return{type:e.type,token:e.token}},e}(),Mr="v3",Or="/".concat(Mr,"/users"),Ar="/".concat(Mr,"/storage/file"),Nr="/".concat(Mr,"/group_channels"),Pr="/".concat(Mr,"/sdk/group_channels"),xr="/".concat(Mr,"/open_channels"),Dr=("/".concat(Mr,"/sdk/open_channels"),"/".concat(Mr,"/search")),Ur="/".concat(Mr,"/report"),Lr="/".concat(Mr,"/emojis"),zr="/".concat(Mr,"/emoji_categories"),Rr="/".concat(Mr,"/polls"),jr="/".concat(Mr,"/scheduled_messages"),Fr="/".concat(Mr,"/sdk/statistics"),Br=function(e){function t(t){var n=t.userId,r=t.authToken,a=t.expiringSession,i=void 0===a||a,o=e.call(this)||this;return o.path="".concat(Or,"/").concat(n,"/session_key"),o.method=z.POST,o.params={token:r,expiring_session:!!i},o.requireAuth=!1,o}return a(t,e),t}(Q),Hr=function(e){function t(t){var n=t.authToken,r=t.expiringSession,a=void 0===r||r,i=t.requestId,o=void 0===i?null:i;return e.call(this,{code:"LOGI",payload:{token:n,expiring_session:a?1:0,req_id:o},ackRequired:!0})||this}return a(t,e),t}(br),Gr=function(e){function t(t,n){var r=e.call(this,t,n)||this,a=n.key;return r.key=a,r}return a(t,e),t}(Y),Vr=function(e){function t(t,n,r){var a=e.call(this,t,"LOGI",r)||this;return a.error=null,a.newKey=r.new_key,a.error=r.error?new w(r.error):null,a}return a(t,e),t}(ne),qr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(q),Wr=function(e){return s(void 0,void 0,void 0,(function(){return c(this,(function(t){return[2,new Promise((function(t){return setTimeout(t,e)}))]}))}))},Kr=function(){function e(){}return e.prototype.calcTimeout=function(){return 0},e}(),Qr=function(e,t,n){return void 0===n&&(n=new Kr),s(void 0,void 0,void 0,(function(){var r,a,i,o,s,l;return c(this,(function(c){switch(c.label){case 0:r=0,a=null,i=function(e){return void 0===e&&(e=null),a=null!=e?e:new Error("Halted")},o=function(){r=0},c.label=1;case 1:if(!(-1===t||r<t))return[3,9];c.label=2;case 2:return c.trys.push([2,4,,8]),[4,e(i,o)];case 3:if(s=c.sent(),a)throw a;return[2,s];case 4:if(l=c.sent(),a)return[3,6];if(++r===t)throw l;return[4,Wr(n.calcTimeout(r))];case 5:return c.sent(),[3,7];case 6:throw a;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}}))}))},Yr=function(e){return s(void 0,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return n.sent(),[3,3];case 2:if(!((t=n.sent())instanceof w))throw t;return t.throwOutside(),[3,3];case 3:return[2]}}))}))},Zr=function(e){return s(void 0,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e()];case 1:case 2:return t.sent(),[3,3];case 3:return[2]}}))}))},Jr=new WeakMap,Xr=function(e){function t(t){var n=t.auth,r=t.cacheContext,a=t.sdkState,i=t.dispatcher,o=t.requestQueue,s=t.logger,c=e.call(this)||this;return c._currentConnectionStateType=gr.INITIALIZED,c._isRefreshingAuthToken=!1,c._isRefreshingSessionKey=!1,c.auth=n,c._cacheContext=r,c._sdkState=a,c._dispatcher=i,c._requestQueue=o,c._logger=s,c._deviceTokens=[],c._dispatcher.on((function(e){if(e instanceof Sr){var t=e.stateType;c._currentConnectionStateType=t}else e instanceof J&&c.handler&&(c._logger.debug("session expired"),c.handler.onSessionExpired(),c.refresh())})),c}return a(t,e),Object.defineProperty(t.prototype,"ekey",{get:function(){return Jr.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceTokens",{get:function(){return this._deviceTokens},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceTokenLastDeletedAt",{get:function(){return this._deviceTokenLastDeletedAt},enumerable:!1,configurable:!0}),t.prototype.indexOfDeviceToken=function(e,t){return this._deviceTokens.findIndex((function(n){return n.type===e&&n.token===t}))},t.prototype.hasDeviceToken=function(e,t){return this.indexOfDeviceToken(e,t)>=0},t.prototype.createRefreshWebsocketCommand=function(e,t){return void 0===t&&(t=null),new Hr({authToken:e,expiringSession:!0,requestId:t})},t.prototype._refreshSessionKeyByWebSocket=function(e){return s(this,void 0,void 0,(function(){var t,n,r,a,i;return c(this,(function(o){switch(o.label){case 0:return t=this.createRefreshWebsocketCommand(e),[4,this._requestQueue.forceSend(t)];case 1:if(n=o.sent(),r=n.as(Vr),a=r.newKey,i=r.error)throw i;return this.auth.sessionKey=null!=a?a:this.auth.sessionKey,[2]}}))}))},t.prototype._refreshSessionKeyByApi=function(e){return s(this,void 0,void 0,(function(){var t,n=this;return c(this,(function(r){switch(r.label){case 0:return t=new Br({userId:this._sdkState.userId,authToken:e,expiringSession:!0}),[4,Qr((function(e){return s(n,void 0,void 0,(function(){var n,r,a;return c(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(t)];case 1:return n=i.sent(),r=n.as(Gr).key,this.auth.sessionKey=r,[3,3];case 2:if(a=i.sent(),!this._isSessionRelatedError(a))throw a;return e(a),[3,3];case 3:return[2]}}))}))}),3)];case 1:return r.sent(),[2]}}))}))},t.prototype._refreshSessionKey=function(e,t){return void 0===t&&(t=!0),s(this,void 0,void 0,(function(){var n,r,a,i;return c(this,(function(o){switch(o.label){case 0:if(this._currentConnectionStateType!==gr.CONNECTED)return[3,10];o.label=1;case 1:return o.trys.push([1,3,,10]),[4,this._refreshSessionKeyByWebSocket(e)];case 2:return o.sent(),this.complete(),[2];case 3:return n=o.sent(),this._isSessionRelatedError(n)&&t?(r=this.auth,[4,this._receiveNewAuthToken()]):[3,9];case 4:return r.authToken=o.sent(),this.auth.authToken?[4,this._refreshSessionKey(this.auth.authToken,!1)]:[3,6];case 5:return o.sent(),this.complete(),[3,8];case 6:return[4,this.clear()];case 7:o.sent(),this.close(),o.label=8;case 8:return[2];case 9:return[3,10];case 10:return o.trys.push([10,12,,22]),[4,this._refreshSessionKeyByApi(e)];case 11:return o.sent(),this.complete(),[3,22];case 12:return a=o.sent(),this._isSessionRelatedError(a)?t?(i=this.auth,[4,this._receiveNewAuthToken()]):[3,18]:[3,20];case 13:return i.authToken=o.sent(),this.auth.authToken?[4,this._refreshSessionKeyByApi(this.auth.authToken)]:[3,15];case 14:return o.sent(),this.complete(),[3,17];case 15:return[4,this.clear()];case 16:o.sent(),this.close(),o.label=17;case 17:return[3,19];case 18:throw a;case 19:return[3,21];case 20:throw a;case 21:return[3,22];case 22:return[2]}}))}))},t.prototype._receiveNewAuthToken=function(){var e=this,t=new kr;return Yr((function(){return s(e,void 0,void 0,(function(){var e,n,r=this;return c(this,(function(a){return this._isRefreshingAuthToken=!0,this.auth.clear(),e=null,n=function(){e&&(clearTimeout(e),e=null)},e=setTimeout((function(){r._isRefreshingAuthToken=!1,t.reject()}),1e3*this._sdkState.sessionTokenRefreshTimeout),this.handler.onSessionTokenRequired((function(e){n(),r._isRefreshingAuthToken&&(r._isRefreshingAuthToken=!1,r.dispatch("refresh-authtoken"),t.resolve(e))}),(function(e){n(),r._isRefreshingAuthToken=!1,t.reject(e)})),[2]}))}))})),t.promise},t.prototype._isSessionRelatedError=function(e){return e instanceof w&&(e.isSessionKeyExpiredError||e.isSessionTokenExpiredError)},Object.defineProperty(t.prototype,"isSessionKeyRefreshing",{get:function(){return this._isRefreshingSessionKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRefreshingAuthToken",{get:function(){return this._isRefreshingAuthToken},enumerable:!1,configurable:!0}),t.prototype.login=function(e){var t;return s(this,void 0,void 0,(function(){var n,r,a,i,o,s,l;return c(this,(function(c){switch(c.label){case 0:return n=e.key,r=e.ekey,a=e.userProfile,i=e.deviceTokenLastDeletedAt,o=void 0===i?0:i,this.auth.sessionKey=n,Jr.set(this,r),this._deviceTokenCacheEnabled=null===(t=null==a?void 0:a.appInfo)||void 0===t?void 0:t.deviceTokenCache,s=this._cacheContext.preference,this._deviceTokenCacheEnabled?[4,s.get(Tr)]:[3,5];case 1:return!(l=c.sent())||l.lastDeletedAt<o?(this._deviceTokens=[],this._deviceTokenLastDeletedAt=o,[4,this.saveDeviceToken()]):[3,3];case 2:return c.sent(),[3,4];case 3:this._deviceTokens=l.tokens.map((function(e){return new Ir(Ir.payloadify(e))})),this._deviceTokenLastDeletedAt=l.lastDeletedAt,c.label=4;case 4:return[3,7];case 5:return[4,s.remove(Tr)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))},t.prototype.complete=function(){var e=this;this.dispatch("refresh"),Yr((function(){return s(e,void 0,void 0,(function(){return c(this,(function(e){return this._logger.debug("session refreshed"),this.handler.onSessionRefreshed(),[2]}))}))}))},t.prototype.error=function(e){var t=this;Yr((function(){return s(t,void 0,void 0,(function(){return c(this,(function(t){return this.handler.onSessionError(e),[2]}))}))}))},t.prototype.close=function(){var e=this;this.dispatch("close"),Yr((function(){return s(e,void 0,void 0,(function(){return c(this,(function(e){return this._logger.debug("session closed"),this.handler.onSessionClosed(),[2]}))}))}))},t.prototype.refresh=function(){return s(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){switch(n.label){case 0:if(!this.handler)return[3,10];if(this._isRefreshingSessionKey)return[3,10];if(this._isRefreshingSessionKey=!0,this.auth.authToken)return[3,7];n.label=1;case 1:return n.trys.push([1,6,,7]),[4,this._receiveNewAuthToken()];case 2:return(e=n.sent())?(this._logger.debug("session refreshing.."),this.auth.authToken=e,[3,5]):[3,3];case 3:return[4,this.clear()];case 4:return n.sent(),this.close(),this._isRefreshingSessionKey=!1,[2];case 5:return[3,7];case 6:throw n.sent(),t=w.sessionTokenRequestFailed,this._dispatcher.dispatch(new qr),this.error(t),this._isRefreshingSessionKey=!1,t;case 7:return n.trys.push([7,9,,10]),[4,this._refreshSessionKey(this.auth.authToken)];case 8:return n.sent(),this._isRefreshingSessionKey=!1,[3,10];case 9:throw n.sent(),t=w.sessionTokenRefreshFailed,this._dispatcher.dispatch(new qr),this.error(t),this._isRefreshingSessionKey=!1,t;case 10:return[2]}}))}))},t.prototype.setDeviceToken=function(e,t){return!!(this._deviceTokenCacheEnabled&&this.indexOfDeviceToken(e,t)<0)&&(this._deviceTokens.push(new Ir({type:e,token:t})),!0)},t.prototype.unsetDeviceToken=function(e,t){if(this._deviceTokenCacheEnabled){var n=this.indexOfDeviceToken(e,t);n>=0&&this._deviceTokens.splice(n,1)}},t.prototype.unsetDeviceTokens=function(e){this._deviceTokenCacheEnabled&&(this._deviceTokens=e?this._deviceTokens.filter((function(t){return t.type!==e})):[])},t.prototype.setDeviceTokenDeletedAt=function(e){e>0&&(this._deviceTokenLastDeletedAt=e)},t.prototype.saveDeviceToken=function(){return s(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this._deviceTokenCacheEnabled?[4,this._cacheContext.preference.set(Tr,{tokens:this._deviceTokens,lastDeletedAt:this._deviceTokenLastDeletedAt})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.clear=function(){return s(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.currentUser=null,this.auth.clear(),Jr.delete(this),this._deviceTokens=[],this._deviceTokenLastDeletedAt=0,[4,this.saveDeviceToken()];case 1:return e.sent(),[2]}}))}))},t}(G),$r=function(){function e(){this.type=gr.NONE,this.name="none"}return e.prototype.run=function(e){return s(this,void 0,void 0,(function(){return c(this,(function(e){return[2]}))}))},e.prototype.onConnect=function(e,t){return s(this,void 0,void 0,(function(){return c(this,(function(e){return[2]}))}))},e.prototype.onReconnect=function(e,t){return t.resetReconnectCount,s(this,void 0,void 0,(function(){return c(this,(function(e){return[2]}))}))},e.prototype.onDisconnect=function(e,t){return t.error,t.autoReconnect,s(this,void 0,void 0,(function(){return c(this,(function(e){return[2]}))}))},e.prototype.onDisconnectWebSocket=function(e){return s(this,void 0,void 0,(function(){return c(this,(function(e){return[2]}))}))},e.prototype.onLogout=function(e){return s(this,void 0,void 0,(function(){return c(this,(function(e){return[2]}))}))},e}(),ea=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=gr.LOGOUT,t.name="logout",t}return a(t,e),t.prototype.run=function(e){return s(this,void 0,void 0,(function(){var t,n,r=this;return c(this,(function(a){switch(a.label){case 0:return t=Date.now(),n=e.sdkState.userId,[4,e.logout()];case 1:return a.sent(),[4,e.changeState(new oa,t)];case 2:return a.sent(),Yr((function(){return s(r,void 0,void 0,(function(){return c(this,(function(t){return e.connectionHandlers.forEach((function(e){e.onDisconnected(n)})),[2]}))}))})),[2]}}))}))},t}($r),ta=function(e){function t(){var t=e.call(this)||this;return t.type=gr.EXTERNAL_DISCONNECTED,t.name="externaldisconnected",t}return a(t,e),t.prototype.run=function(e){return s(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,e.disconnect()];case 1:return t.sent(),[2]}}))}))},t.prototype.onConnect=function(e,t){return s(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return n=Date.now(),[4,e.disconnect()];case 1:return r.sent(),[4,e.changeState(new ia({authToken:t}),n)];case 2:return r.sent(),[2]}}))}))},t.prototype.onReconnect=function(e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.changeState(new ra,t)];case 1:return n.sent(),[2]}}))}))},t.prototype.onLogout=function(e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.changeState(new ea,t)];case 1:return n.sent(),[2]}}))}))},t}($r),na=function(e){function t(t){var n=t.autoReconnect,r=e.call(this)||this;return r.type=gr.INTERNAL_DISCONNECTED,r.name="internaldisconnected",r._autoReconnect=!1,r._autoReconnect=n,r}return a(t,e),t.prototype.run=function(e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.disconnect()];case 1:return n.sent(),this._autoReconnect?[4,e.changeState(new ra,t)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.onConnect=function(e,t){return s(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return n=Date.now(),[4,e.disconnect()];case 1:return r.sent(),[4,e.changeState(new ia({authToken:t}),n)];case 2:return r.sent(),[2]}}))}))},t.prototype.onReconnect=function(e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.changeState(new ra,t)];case 1:return n.sent(),[2]}}))}))},t.prototype.onDisconnectWebSocket=function(e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.changeState(new ta,t)];case 1:return n.sent(),[2]}}))}))},t.prototype.onLogout=function(e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.changeState(new ea,t)];case 1:return n.sent(),[2]}}))}))},t}($r),ra=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=gr.RECONNECTING,t.name="reconnecting",t._haltConnect=null,t._resetConnect=null,t._callbacks=[],t}return a(t,e),t.prototype._halt=function(e){this._haltConnect&&(this._haltConnect(e),this._haltConnect=null)},t.prototype._flushCallbacks=function(e){void 0===e&&(e=null),this._haltConnect=null,this._resetConnect=null,this._callbacks.forEach((function(t){return t(e)}))},t.prototype.run=function(e){return s(this,void 0,void 0,(function(){var t,n,r,a,i,o,l=this;return c(this,(function(u){switch(u.label){case 0:t=Date.now(),n=new kr,this._callbacks.push((function(e){return e?n.reject(e):n.resolve()})),Yr((function(){return s(l,void 0,void 0,(function(){return c(this,(function(t){return e.connectionHandlers.forEach((function(e){e.onReconnectStarted()})),[2]}))}))})),u.label=1;case 1:return u.trys.push([1,4,,9]),r=e.sdkState.websocket,a=r.reconnectMaxRetry,i=r.reconnectRetryStrategy,[4,Qr((function(t,n){return s(l,void 0,void 0,(function(){var r;return c(this,(function(a){switch(a.label){case 0:this._haltConnect=t,this._resetConnect=n,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.connect()];case 2:return a.sent(),[3,4];case 3:if(r=a.sent(),e.clearLoginTimer(),r instanceof w&&r.code===f.CONNECTION_CANCELED)return t(r),[2];throw r;case 4:return[2]}}))}))}),a,i)];case 2:return u.sent(),[4,e.changeState(new aa,t)];case 3:return u.sent(),Yr((function(){return s(l,void 0,void 0,(function(){return c(this,(function(t){return this._flushCallbacks(null),e.connectionHandlers.forEach((function(e){e.onReconnectSucceeded()})),[2]}))}))})),[3,9];case 4:return o=u.sent(),b(o)?[3,7]:o instanceof w?o.code===f.CONNECTION_CANCELED?[3,6]:[4,e.changeState(new na({autoReconnect:!1}),t)]:[3,6];case 5:u.sent(),u.label=6;case 6:return Yr((function(){return s(l,void 0,void 0,(function(){return c(this,(function(t){return this._flushCallbacks(o),e.connectionHandlers.forEach((function(e){e.onReconnectFailed()})),[2]}))}))})),[3,8];case 7:throw o;case 8:return[3,9];case 9:return[2,n.promise]}}))}))},t.prototype.onConnect=function(e,t){return s(this,void 0,void 0,(function(){var n;return c(this,(function(r){return n=new kr,this._halt(w.connectionCanceled),e.cancelConnectForRetry(),this._callbacks.push((function(){var r=Date.now();e.changeState(new ia({authToken:t}),r).then((function(){n.resolve()})).catch((function(e){n.reject(e)}))})),[2,n.promise]}))}))},t.prototype.onReconnect=function(e,t){var n=t.resetReconnectCount,r=void 0!==n&&n;return s(this,void 0,void 0,(function(){var e;return c(this,(function(t){return e=new kr,this._resetConnect&&r&&this._resetConnect(),this._callbacks.push((function(t){return t?e.reject(t):e.resolve()})),[2,e.promise]}))}))},t.prototype.onDisconnect=function(e,t){t.error;var n=t.autoReconnect,r=void 0===n||n;return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=Date.now(),this._halt(w.connectionCanceled),[4,e.changeState(new na({autoReconnect:r}),t)];case 1:return n.sent(),[2]}}))}))},t.prototype.onDisconnectWebSocket=function(e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=Date.now(),this._halt(w.connectionCanceled),[4,e.changeState(new ta,t)];case 1:return n.sent(),[2]}}))}))},t.prototype.onLogout=function(e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=Date.now(),this._halt(w.connectionCanceled),[4,e.changeState(new ea,t)];case 1:return n.sent(),[2]}}))}))},t}($r),aa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=gr.CONNECTED,t.name="connected",t}return a(t,e),t.prototype.onReconnect=function(e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.disconnect()];case 1:return n.sent(),[4,e.changeState(new ra,t)];case 2:return n.sent(),[2]}}))}))},t.prototype.onDisconnect=function(e,t){var n=t.autoReconnect;return s(this,void 0,void 0,(function(){var t;return c(this,(function(r){switch(r.label){case 0:return t=Date.now(),[4,e.changeState(new na({autoReconnect:n}),t)];case 1:return r.sent(),[2]}}))}))},t.prototype.onDisconnectWebSocket=function(e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.changeState(new ta,t)];case 1:return n.sent(),[2]}}))}))},t.prototype.onLogout=function(e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.changeState(new ea,t)];case 1:return n.sent(),[2]}}))}))},t}($r),ia=function(e){function t(t){var n=t.authToken,r=e.call(this)||this;return r.type=gr.CONNECTING,r.name="connecting",r._authToken="",r._haltConnect=null,r._callbacks=[],r._authToken=n,r}return a(t,e),t.prototype._halt=function(e){this._haltConnect&&(this._haltConnect(e),this._haltConnect=null)},t.prototype._flushCallbacks=function(e){void 0===e&&(e=null),this._haltConnect=null,this._callbacks.forEach((function(t){return t(e)}))},t.prototype.run=function(e){return s(this,void 0,void 0,(function(){var t,n,r,a=this;return c(this,(function(i){switch(i.label){case 0:t=Date.now(),n=new kr,this._callbacks.push((function(e){return e?n.reject(e):n.resolve()})),i.label=1;case 1:return i.trys.push([1,4,,10]),[4,Qr((function(t){return s(a,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:this._haltConnect=t,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.connect(this._authToken)];case 2:return r.sent(),[3,4];case 3:if(n=r.sent(),e.clearLoginTimer(),n instanceof w&&n.code===f.CONNECTION_CANCELED)return t(n),[2];throw n;case 4:return[2]}}))}))}),e.sdkState.websocket.connectMaxRetry)];case 2:return i.sent(),[4,e.changeState(new aa,t)];case 3:return i.sent(),Yr((function(){return s(a,void 0,void 0,(function(){return c(this,(function(t){return this._flushCallbacks(null),e.connectionHandlers.forEach((function(t){t.onConnected(e.sdkState.userId)})),[2]}))}))})),[3,10];case 4:return r=i.sent(),b(r)?[3,8]:[4,e.disconnect()];case 5:return i.sent(),r instanceof w?r.code===f.CONNECTION_CANCELED?[3,7]:[4,e.changeState(new oa,t)]:[3,7];case 6:i.sent(),i.label=7;case 7:return Yr((function(){return s(a,void 0,void 0,(function(){return c(this,(function(e){return this._flushCallbacks(r),[2]}))}))})),[3,9];case 8:throw r;case 9:return[3,10];case 10:return[2,n.promise]}}))}))},t.prototype.onConnect=function(e){return s(this,void 0,void 0,(function(){var e;return c(this,(function(t){return e=new kr,this._callbacks.push((function(t){return t?e.reject(t):e.resolve()})),[2,e.promise]}))}))},t.prototype.onDisconnect=function(e,t){var n=t.error,r=void 0===n?null:n,a=t.autoReconnect;return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=Date.now(),this._halt(null!=r?r:w.connectionCanceled),e.hasSession?[4,e.changeState(new na({autoReconnect:a}),t)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.changeState(new ea,t)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},t.prototype.onDisconnectWebSocket=function(e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=Date.now(),this._halt(w.connectionCanceled),e.hasSession?[4,e.changeState(new ta,t)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.changeState(new ea,t)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},t.prototype.onLogout=function(e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=Date.now(),this._halt(w.connectionCanceled),[4,e.changeState(new ea,t)];case 1:return n.sent(),[2]}}))}))},t}($r),oa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=gr.INITIALIZED,t.name="initialized",t}return a(t,e),t.prototype.onConnect=function(e,t){return s(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return n=Date.now(),[4,e.changeState(new ia({authToken:t}),n)];case 1:return r.sent(),[2]}}))}))},t}($r),sa=function(e){function t(){return e.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return a(t,e),t}(br),ca=function(){function e(e){var t=e.pingDelegate,n=e.sdkState,r=e.logger;this._pingTimer=null,this._pingTimeoutTimer=null,this.pingDelegate=t,this.sdkState=n,this._logger=r}return Object.defineProperty(e.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),e.prototype.ping=function(){var e,t=this,n=new sa;try{var r=null!==(e=this.sdkState.websocket.pongTimeout)&&void 0!==e?e:5e3;this._pingTimeoutTimer=setTimeout((function(){t._logger.debug("pinger.ping() timeout"),t.pingDelegate.error(null)}),r),this.pingDelegate.send(n),this._logger.debug("pinger.ping()")}catch(e){this._logger.debug("pinger.ping() error",e),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null),this.pingDelegate.error(null)}return n},e.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},e.prototype.refreshTimer=function(){var e,t=this;this._logger.debug("pinger.refreshTimer()");var n=null!==(e=this.sdkState.websocket.pingInterval)&&void 0!==e?e:15e3;this.stop(),this._pingTimer=setInterval((function(){t.ping()}),n)},e.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},e.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},e}(),la=1048576,ua=function(){function e(e){void 0===e&&(e={}),this.emojiHash=e.emoji_hash||"",this.uploadSizeLimit=e.file_upload_size_limit?e.file_upload_size_limit*la:Number.MAX_SAFE_INTEGER,this.useReaction=!!e.use_reaction,this.applicationAttributes=e.application_attributes||[],this.premiumFeatureList=e.premium_feature_list||[],this.deviceTokenCache=this.applicationAttributes.includes("sdk_device_token_cache"),this.enabledChannelMemberShipHistory=this.applicationAttributes.includes("channel_membership_history")}return e.payloadify=function(e){return{emoji_hash:e.emojiHash,file_upload_size_limit:e.uploadSizeLimit/la,application_attributes:e.applicationAttributes,premium_feature_list:e.premiumFeatureList,use_reaction:e.useReaction}},e}(),da=function(){function e(e){this._iid="",this._iid=e}return e.payloadify=function(e){return e?{}:null},e}(),fa=function(e){function t(t){var n=t.userId,r=t.metadata,a=e.call(this)||this;return a.method=z.POST,a.path="".concat(Or,"/").concat(n,"/metadata"),a.params={metadata:r},a}return a(t,e),t}(Q),ha=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.metaData=n,r}return a(t,e),t}(Y),pa=function(e){function t(t){var n=t.userId,r=t.metadata,a=t.upsert,i=e.call(this)||this;return i.method=z.PUT,i.path="".concat(Or,"/").concat(n,"/metadata"),i.params={metadata:r,upsert:a},i}return a(t,e),t}(Q),ma=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.metadata=n,r}return a(t,e),t}(Y),_a=function(e){function t(t){var n=t.userId,r=t.metadataKey,a=e.call(this)||this;return a.method=z.DELETE,a.path="".concat(Or,"/").concat(n,"/metadata/").concat(r),a}return a(t,e),t}(Q);!function(e){a((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(Y);var ya=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=z.DELETE,r.path="".concat(Or,"/").concat(n,"/metadata"),r}return a(t,e),t}(Q);!function(e){a((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(Y);var ga,va=function(e,t){void 0===t&&(t=null);var n=JSON.parse(JSON.stringify(e));return n._iid&&delete n._iid,t&&t(n),n},ba=function(e,t){void 0===t&&(t=null);var n=JSON.parse(JSON.stringify(e));return t&&t(n),n},wa=function(e){return{do:function(t){e||t()},throw:function(t){if(!e)throw t}}};!function(e){e.ONLINE="online",e.OFFLINE="offline",e.NON_AVAILABLE="nonavailable"}(ga||(ga={}));var ka,Ea=function(e){function t(t,n){var r,a,i,o,s,c,l,f,h,p,m,_,y=this;return(y=e.call(this,t)||this).userId=null!==(a=null!==(r=n.guest_id)&&void 0!==r?r:n.user_id)&&void 0!==a?a:"",y.nickname=null!==(o=null!==(i=n.nickname)&&void 0!==i?i:n.name)&&void 0!==o?o:"",y.plainProfileUrl=null!==(c=null!==(s=n.profile_url)&&void 0!==s?s:n.image)&&void 0!==c?c:"",y.requireAuth=null!==(l=n.require_auth_for_profile_image)&&void 0!==l&&l,y.metaData=null!==(f=n.metadata)&&void 0!==f?f:{},y.connectionStatus=ga.NON_AVAILABLE,T(ga,n.is_online)?y.connectionStatus=n.is_online:C("boolean",n.is_online)&&(y.connectionStatus=n.is_online?ga.ONLINE:ga.OFFLINE),y.isActive=null===(h=n.is_active)||void 0===h||h,y.lastSeenAt=null!==(p=n.last_seen_at)&&void 0!==p?p:null,y.preferredLanguages=n.preferred_languages?d([],u(n.preferred_languages),!1):null,y.friendDiscoveryKey=null!==(m=n.friend_discovery_key)&&void 0!==m?m:null,y.friendName=null!==(_=n.friend_name)&&void 0!==_?_:null,y}return a(t,e),t.payloadify=function(t){return t?W(i(i({},e.payloadify.call(this,t)),{user_id:t.userId,nickname:t.nickname,profile_url:t.plainProfileUrl,require_auth_for_profile_image:t.requireAuth,metadata:t.metaData,is_online:t.connectionStatus,is_active:t.isActive,last_seen_at:t.lastSeenAt,preferred_languages:t.preferredLanguages,friend_discovery_key:t.friendDiscoveryKey,friend_name:t.friendName})):null},Object.defineProperty(t.prototype,"profileUrl",{get:function(){var e=qa.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(e.ekey):this.plainProfileUrl},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return va(this)},t.prototype._isValidMetaData=function(e){return!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map((function(t){return e[t]})).every((function(e){return C("string",e)}))},t.prototype._applyMetaData=function(e,t){var n=this;void 0===t&&(t=!1),Object.keys(e).forEach((function(r){t?delete n.metaData[r]:n.metaData[r]=e[r]}))},t.prototype.createMetaData=function(e){return s(this,void 0,void 0,(function(){var t,n,r,a,i,o;return c(this,(function(s){switch(s.label){case 0:return wa(this._isValidMetaData(e)).throw(w.invalidParameters),t=qa.of(this._iid),n=t.sdkState,r=t.requestQueue,a=new fa({userId:n.userId,metadata:e}),[4,r.send(a)];case 1:return i=s.sent(),o=i.as(ha).metaData,this._applyMetaData(o),[2,this.metaData]}}))}))},t.prototype.updateMetaData=function(e,t){return void 0===t&&(t=!1),s(this,void 0,void 0,(function(){var n,r,a,i,o,s;return c(this,(function(c){switch(c.label){case 0:return wa(this._isValidMetaData(e)).throw(w.invalidParameters),n=qa.of(this._iid),r=n.sdkState,a=n.requestQueue,i=new pa({userId:r.userId,metadata:e,upsert:t}),[4,a.send(i)];case 1:return o=c.sent(),s=o.as(ma).metadata,this._applyMetaData(s),[2,this.metaData]}}))}))},t.prototype.deleteMetaData=function(e){return s(this,void 0,void 0,(function(){var t,n,r,a,i;return c(this,(function(o){switch(o.label){case 0:return wa(C("string",e)).throw(w.invalidParameters),t=qa.of(this._iid),n=t.sdkState,r=t.requestQueue,a=new _a({userId:n.userId,metadataKey:e}),[4,r.send(a)];case 1:return o.sent(),this._applyMetaData(((i={})[e]=!0,i),!0),[2,this.metaData]}}))}))},t.prototype.deleteAllMetaData=function(){return s(this,void 0,void 0,(function(){var e,t,n,r;return c(this,(function(a){switch(a.label){case 0:return e=qa.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new ya({userId:t.userId}),[4,n.send(r)];case 1:return a.sent(),this.metaData={},[2]}}))}))},t}(da),Sa=function(e){function t(t){var n=t.userProfile,r=e.call(this)||this;return r.userProfile=n,r}return a(t,e),t}(q),Ca=function(){function e(e,t){var n,r,a,i,o,s,c,l,u,d,f,h,p,m;this._iid=e,this.appInfo=new ua(t),this.user=new Ea(e,t),this.connectedAt=null!==(n=t.login_ts)&&void 0!==n?n:0,this.firstConnectedAt=0,this.pingInterval=null!==(r=t.ping_interval)&&void 0!==r?r:15e3,this.pongTimeout=null!==(a=t.pong_timeout)&&void 0!==a?a:5e3,this.reconnectInterval=null!==(o=null===(i=t.reconnect)||void 0===i?void 0:i.interval)&&void 0!==o?o:3e3,this.reconnectMaxInterval=null!==(c=null===(s=t.reconnect)||void 0===s?void 0:s.max_interval)&&void 0!==c?c:6e4,this.reconnectRetryCount=null!==(u=null===(l=t.reconnect)||void 0===l?void 0:l.retry_cnt)&&void 0!==u?u:5,this.reconnectIntervalMultiple=null!==(f=null===(d=t.reconnect)||void 0===d?void 0:d.mul)&&void 0!==f?f:2,this.maxUnreadCountOnSuperGroup=null!==(h=t.max_unread_cnt_on_super_group)&&void 0!==h?h:100,this.profileImageEncryption=!!t.profile_image_encryption,this.concurrentCallLimit=null!==(p=t.concurrent_call_limit)&&void 0!==p?p:5,this.backOffDelay=null!==(m=t.back_off_delay)&&void 0!==m?m:100}return e.payloadify=function(e){return i(i(i({},Ea.payloadify(e.user)),ua.payloadify(e.appInfo)),{login_ts:e.connectedAt,ping_interval:e.pingInterval,pong_timeout:e.pongTimeout,reconnect:{interval:e.reconnectInterval,max_interval:e.reconnectMaxInterval,retry_cnt:e.reconnectRetryCount,mul:e.reconnectIntervalMultiple},max_unread_cnt_on_super_group:e.maxUnreadCountOnSuperGroup,profile_image_encryption:e.profileImageEncryption,concurrent_call_limit:e.concurrentCallLimit,back_off_delay:e.backOffDelay})},e.prototype.apply=function(){var e=this.reconnectInterval,t=this.reconnectMaxInterval,n=this.reconnectIntervalMultiple,r=qa.of(this._iid);r.sdkState.websocket.pingInterval=1e3*this.pingInterval,r.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,r.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,r.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(r){return r>0?1e3*Math.min(e*Math.pow(n,r-1),t):10}},r.appInfo=this.appInfo,r.sessionManager.currentUser=this.user,r.connectedAt=this.connectedAt,this.firstConnectedAt||(r.firstConnectedAt=this.connectedAt),r.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,r.concurrentCallLimit=this.concurrentCallLimit,r.backOffDelay=this.backOffDelay,r.dispatcher.dispatch(new Sa({userProfile:this}))},e}(),Ta=function(e){function t(t,n,r){var a,i=this;return(i=e.call(this,t,n,r)||this).error=null,i.userProfile=new Ca(t,r),i.deviceTokenLastDeletedAt=r.device_token_last_deleted_at,i.key=r.key,i.ekey=null!==(a=r.ekey)&&void 0!==a?a:"",i.error=r.error?new w(r):null,i}return a(t,e),t.asError=function(e){return new t(null,"LOGI",i({user_id:null,error:!0},e))},t.prototype.applyTo=function(e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return this.error?[3,4]:(t=qa.of(e))?[4,t.sessionManager.login(this)]:[3,2];case 1:return n.sent(),this.userProfile.apply(),[3,3];case 2:throw w.lostInstance;case 3:return[3,5];case 4:throw this.error;case 5:return[2]}}))}))},t}(ne),Ia=function(e){function t(t){var n=e.call(this)||this;return n.enabled=t,n}return a(t,e),t}(q),Ma=function(e){function t(t,n){var r=n.sdkState,a=n.cacheContext,i=n.connectionHandlers,o=n.sessionManager,s=n.websocketClient,c=n.dispatcher,l=n.logger,u=n.entryState,d=void 0===u?new oa:u,f=e.call(this)||this;return f._currentState=null,f._loginTimer=null,f._unresolvedLogi=null,f._stateUpdatedAt=0,f._connectingAt=0,f._connectionRequestQueue=[],f._iid=t,f.sdkState=r,f.cacheContext=a,f.connectionHandlers=i,f._sessionManager=o,f._websocketClient=s,f._dispatcher=c,f._logger=l,f._currentState=d,f.sdkState.websocket.pingerDisabled||(f._pinger=new ca({pingDelegate:{send:function(e){return f._websocketClient.send(e)},error:function(e){return f._websocketClient.error(e)}},sdkState:f.sdkState,logger:l})),f._websocketClient.on("open",(function(){f._tryResolveConnectionRequest()})).on("message",(function(e){"LOGI"===e.code&&(f.clearLoginTimer(),f._dispatcher.dispatch(e.as(Ta)))})).on("ping-refresh",(function(){var e;return null===(e=f._pinger)||void 0===e?void 0:e.refreshTimer()})).on("pong",(function(){var e;return null===(e=f._pinger)||void 0===e?void 0:e.pong()})).on("error",(function(){var e;return null===(e=f._pinger)||void 0===e?void 0:e.stop()})).on("close",(function(){return f._rejectConnectionRequest(w.networkError)})),f._dispatcher.on((function(e){e instanceof Ta&&(f._unresolvedLogi=e,f._tryResolveConnectionRequest())})),f}return a(t,e),Object.defineProperty(t.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSession",{get:function(){return this._sessionManager.auth.hasSession},enumerable:!1,configurable:!0}),t.prototype.changeState=function(e,t){return s(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return t>=this._stateUpdatedAt?(this._currentState=e,this._stateUpdatedAt=t,this._dispatcher.dispatch(new Sr({stateType:e.type})),this._logger.debug("connection state changes to ".concat(e.name)),[4,this._currentState.run(this)]):[3,2];case 1:return n.sent(),[2,!0];case 2:return[2,!1]}}))}))},t.prototype._tryResolveConnectionRequest=function(){var e;return s(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:return t=this._unresolvedLogi,this._websocketClient.isOpen&&t?(this._unresolvedLogi=null,t.error?[3,2]:[4,t.applyTo(this._iid)]):[3,3];case 1:return r.sent(),n=t.userProfile,this._enableStatLog(n.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish")),this._statLogConnection(null),null===(e=this._pinger)||void 0===e||e.start(),this._connectionRequestQueue.forEach((function(e){return e.resolve()})),this._connectionRequestQueue=[],this.sdkState.appState="foreground",[3,3];case 2:this._sessionManager.auth.authToken=null,(t.error.isSessionKeyExpiredError||t.error.isSessionTokenExpiredError)&&this._dispatcher.dispatch(new J),this._rejectConnectionRequest(t.error),r.label=3;case 3:return[2]}}))}))},t.prototype._rejectConnectionRequest=function(e){var t;if(null===(t=this._pinger)||void 0===t||t.stop(),this.clearLoginTimer(),this._connectionRequestQueue.length>0){var n=this._connectionRequestQueue;this._connectionRequestQueue=[],n.forEach((function(t){return t.reject(e)})),this._statLogConnection(e)}},t.prototype._url=function(e){var t;void 0===e&&(e="");var n=this.sdkState,r=n.appId,a=n.appVersion,i=n.userId,o=n.extensions,s=this.cacheContext.localCacheEnabled,c=this._sessionManager.auth,l=null===(t=this.sdkState.websocket)||void 0===t?void 0:t.compression,u=o.sb_syncmanager?"s".concat(o.sb_syncmanager):"",d=o.sb_uikit?"u".concat(o.sb_uikit):"",f="JS/c".concat(p.SDK_VERSION,"/").concat(u,"/").concat(d);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(p.OS_VERSION),"&sv=").concat(encodeURIComponent(p.SDK_VERSION),"&ai=").concat(r).concat(a?"&av=".concat(a):"").concat(c.hasSession?"&key=".concat(encodeURIComponent(c.sessionKey)):"&user_id=".concat(encodeURIComponent(i),"&access_token=").concat(encodeURIComponent(e)),"&pmce=").concat(l?1:0,"&active=1&device_token_types=").concat(encodeURIComponent(["gcm","huawei","apns"].join(",")),"&SB-User-Agent=").concat(f,"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=").concat(s?1:0,"&include_poll_details=1")},t.prototype._enableStatLog=function(e){this._dispatcher.dispatch(new Ia(e))},t.prototype._statLogConnection=function(e){this._dispatcher.dispatch(new X(new $({type:K.WEBSOCKET_CONNECT,data:{host_url:this.sdkState.websocket.host,success:!e,latency:Date.now()-this._connectingAt,error_code:null==e?void 0:e.code,error_description:null==e?void 0:e.message}})))},t.prototype.connect=function(e){return void 0===e&&(e=""),s(this,void 0,void 0,(function(){var t,n,r=this;return c(this,(function(a){return t=this._url(e),n=new kr,this._connectionRequestQueue.push(n),1===this._connectionRequestQueue.length&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout((function(){r._loginTimer=null,r._dispatcher.dispatch(Ta.asError(w.loginTimeout))}),this.sdkState.websocket.responseTimeout),this._sessionManager.auth.authToken=e,this._websocketClient.connect(t)),[2,n.promise]}))}))},t.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(Ta.asError(w.connectionRenew))},t.prototype.disconnect=function(){return s(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this._websocketClient.disconnect()];case 1:return e.sent(),[2]}}))}))},t.prototype.logout=function(){return s(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.sdkState.userId=null,this._unresolvedLogi=null,[4,this._sessionManager.clear()];case 1:return e.sent(),[4,this.disconnect()];case 2:return e.sent(),[2]}}))}))},t.prototype.clearLoginTimer=function(){this._loginTimer&&(clearTimeout(this._loginTimer),this._loginTimer=null)},t}(G),Oa=function(){function e(e,t){var n=t.sdkState,r=t.cacheContext,a=t.connectionHandlers,i=t.sessionManager,o=t.websocketClient,s=t.dispatcher,c=t.logger,l=t.disableWebSocketCloseEventHandling,u=void 0!==l&&l;this._context=null,this._disableWebSocketCloseEventHandling=!1,this._externalCalledWebSocketClose=!1,this._logger=c,this._disableWebSocketCloseEventHandling=u,this._context=new Ma(e,{sdkState:n,cacheContext:r,connectionHandlers:a,sessionManager:i,websocketClient:o,dispatcher:s,logger:c}),this._sdkState=n,this._sessionManager=i,this._websocketClient=o}return e.prototype._registerEventDispatcher=function(){var e=this;this._disableWebSocketCloseEventHandling||(this._clearEventDispatcher(),this._sessionEventDispatcherContext=this._sessionManager.on("refresh-authtoken",(function(){e.isConnected||(e._logger.debug("try reconnect by session token refresh"),e.reconnect())})).on("refresh",(function(){e.isConnecting||e.isConnected||(e._logger.debug("try reconnect by session key refresh"),e.reconnect())})),this._websocketEventDispatcherContext=this._websocketClient.on("close",(function(){"foreground"!==e._sdkState.appState||e._externalCalledWebSocketClose||e._sessionManager.isRefreshingAuthToken||(e._logger.debug("try reconnect by websocket connection closed"),e.reconnect())})))},e.prototype._clearEventDispatcher=function(){this._sessionEventDispatcherContext&&(this._sessionEventDispatcherContext.close(),this._sessionEventDispatcherContext=null),this._websocketEventDispatcherContext&&(this._websocketEventDispatcherContext.close(),this._websocketEventDispatcherContext=null)},Object.defineProperty(e.prototype,"isConnected",{get:function(){return this._context.currentState.type===gr.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isConnecting",{get:function(){var e=this._context.currentState;return e.type===gr.CONNECTING||e.type===gr.RECONNECTING},enumerable:!1,configurable:!0}),e.prototype.connect=function(e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,t.onConnect(this._context,e)];case 1:return n.sent(),this._registerEventDispatcher(),[2]}}))}))},e.prototype.reconnect=function(){return s(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return e=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,e.onReconnect(this._context,{})];case 1:return t.sent(),[2]}}))}))},e.prototype.resetAndReconnect=function(){return s(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return e=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,e.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return t.sent(),[2]}}))}))},e.prototype.background=function(){return s(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return e=this._context.currentState,this._externalCalledWebSocketClose=!0,[4,e.onDisconnect(this._context,{autoReconnect:!1})];case 1:return t.sent(),[2]}}))}))},e.prototype.disconnect=function(e){return void 0===e&&(e=null),s(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:e,autoReconnect:!0})];case 1:return t.sent(),[2]}}))}))},e.prototype.disconnectWebSocket=function(){return s(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return e=this._context.currentState,this._externalCalledWebSocketClose=!0,[4,e.onDisconnectWebSocket(this._context)];case 1:return t.sent(),[2]}}))}))},e.prototype.logout=function(){return s(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return e=this._context.currentState,this._clearEventDispatcher(),[4,e.onLogout(this._context)];case 1:return t.sent(),[2]}}))}))},e}(),Aa=function(e){function t(t){var n=t.deviceId,r=t.statLogs,a=e.call(this)||this;return a.method=z.POST,a.path="".concat(Fr),a.params={device_id:n,log_entries:r.map((function(e){return $.payloadify(e)}))},a}return a(t,e),t}(Q);!function(e){e[e.PENDING=0]="PENDING",e[e.ENABLED=1]="ENABLED",e[e.DISABLED=2]="DISABLED"}(ka||(ka={}));var Na,Pa=function(){function e(e){var t=e.cacheContext,n=e.requestQueue,r=e.dispatcher,a=e.baseLimit,i=void 0===a?100:a,o=e.maxLimit,s=void 0===o?1e3:o,c=e.minLimit,l=void 0===c?10:c;this.queue=[],this.enabledstate=ka.PENDING,this.isFlushing=!1,this.generation=1,this.lastFlushedAt=0,this.deviceId=B(),this.cacheContext=t,this.requestQueue=n,this.dispatcher=r,this.baseLimit=i,this.limit=i,this.maxLimit=s,this.minLimit=l}return Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.enabledstate===ka.ENABLED},enumerable:!1,configurable:!0}),e.prototype._save=function(){return s(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map((function(e){return $.payloadify(e)})),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype._flush=function(){return s(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){switch(n.label){case 0:if(!this.isEnabled)return[3,7];if(this.isFlushing)return[3,7];this.isFlushing=!0,n.label=1;case 1:return n.trys.push([1,5,6,7]),(e=this.queue.slice(0,Math.min(this.limit,this.maxLimit))).length>0?(t=new Aa({deviceId:this.deviceId,statLogs:e}),[4,this.requestQueue.send(t)]):[3,4];case 2:return n.sent(),this.queue=this.queue.slice(e.length),[4,this._save()];case 3:n.sent(),n.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,7];case 5:return n.sent(),this.limit=this.limit+20,[3,7];case 6:return this.isFlushing=!1,[7];case 7:return[2]}}))}))},e.prototype.init=function(e){return s(this,void 0,void 0,(function(){var t,n,r=this;return c(this,(function(a){switch(a.label){case 0:return this.key=e,this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.get(this.key)]:[3,4];case 1:return(t=a.sent())?(this.deviceId=t.deviceId,this.queue=t.statLogs.map((function(e){return new $({type:e.stat_type,ts:e.ts,data:e.data})})),this.generation=t.generation,this.lastFlushedAt=t.lastFlushedAt,Date.now()-this.lastFlushedAt>=108e5&&this.queue.length>=this.minLimit?(n=Math.min(Math.floor(18e4*Math.random()),100),[4,Wr(n)]):[3,4]):[3,4];case 2:return a.sent(),[4,this._flush()];case 3:a.sent(),a.label=4;case 4:return this.dispatcher.on((function(e){if(e instanceof X){var t=e.statLog;r.put(t)}else e instanceof Ia&&(r.enabledstate=e.enabled?ka.ENABLED:ka.DISABLED,r.isEnabled?r.queue.length>=r.limit&&r._flush():r.clear())})),[2]}}))}))},e.prototype.put=function(e){return s(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.enabledstate===ka.DISABLED?[3,3]:(this.queue.push(e),[4,this._save()]);case 1:return t.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.clear=function(){return s(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return e.sent(),[2]}}))}))},e}();!function(e){e[e.NONE=0]="NONE",e[e.VERBOSE=1]="VERBOSE",e[e.DEBUG=2]="DEBUG",e[e.INFO=3]="INFO",e[e.WARN=4]="WARN",e[e.ERROR=5]="ERROR"}(Na||(Na={}));var xa,Da,Ua,La,za,Ra,ja,Fa,Ba,Ha,Ga=function(){function e(){this.level=Na.WARN}return e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.level<=Na.VERBOSE&&console.log.apply(console,d(["[verbose]"],u(e),!1))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.level<=Na.DEBUG&&console.log.apply(console,d(["[debug]"],u(e),!1))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.level<=Na.INFO&&console.log.apply(console,d(["[info]"],u(e),!1))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.level<=Na.WARN&&console.warn.apply(console,d(["[warn]"],u(e),!1))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.level<=Na.ERROR&&console.error.apply(console,d(["[error]"],u(e),!1))},e}(),Va={},qa=function(){function e(e,t){var n,r,a,i,o,s,c,l,u,d;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!Va[e]){Va[e]=this;var f=null!==(n=t.options)&&void 0!==n?n:new x,h=this.sdkState={appId:t.appId,appVersion:null!==(r=t.appVersion)&&void 0!==r?r:"",appState:"foreground",userId:null,extensions:{},api:{host:null!==(a=t.apiHost)&&void 0!==a?a:"https://api-".concat(t.appId,".sendbird.com")},websocket:{host:null!==(i=t.websocketHost)&&void 0!==i?i:"wss://ws-".concat(t.appId,".sendbird.com"),pingerDisabled:!!t.noPingpong,pingInterval:null,pongTimeout:null,connectMaxRetry:2,compression:!0,reconnectMaxRetry:-1,reconnectRetryStrategy:new Kr,responseTimeout:f.websocketResponseTimeout},sessionTokenRefreshTimeout:f.sessionTokenRefreshTimeout};this.appInfo=null,this.subscribedUnreadMessageCount={all:0,customTypes:{},ts:0};var m=this.logger=new Ga;this.logger.level=null!==(o=t.logLevel)&&void 0!==o?o:Na.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map;var _=this.cacheContext=new L({encryption:t.encryption,store:t.store,localCacheEnabled:null!==(s=t.localCacheEnabled)&&void 0!==s&&s,localCacheConfig:null!==(c=t.localCacheConfig)&&void 0!==c?c:new j});this.debugMode=null!==(l=t.debugMode)&&void 0!==l&&l,this.maxSuperGroupChannelUnreadCount=p.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=f.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=f.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=f.typingIndicatorThrottle,this.concurrentCallLimit=null,this.backOffDelay=null;var y=this.dispatcher=new V,g=new F;this.requestQueue=new Cr(e,{auth:g,sdkState:h,dispatcher:y,logger:m,useFetchCompat:t.useFetchCompat}),this.sessionManager=new Xr({auth:g,cacheContext:_,sdkState:h,dispatcher:y,requestQueue:this.requestQueue,logger:m}),this.connectionManager=new Oa(e,{sdkState:h,cacheContext:this.cacheContext,connectionHandlers:this.connectionHandlers,dispatcher:y,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,disableWebSocketCloseEventHandling:null!==(u=t.disableWebSocketCloseEventHandling)&&void 0!==u&&u,logger:m}),this.statLogCollector=new Pa({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:y}),this.appStateToggleEnabled=null===(d=t.appStateToggleEnabled)||void 0===d||d}return Va[e]}return e.of=function(e){if(Va[e])return Va[e];throw w.lostInstance},e.clear=function(e){Va[e]&&delete Va[e]},e}(),Wa=function(){function e(){}return e.prototype.init=function(e,t){var n=t.sdkState,r=t.dispatcher,a=t.sessionManager,i=t.requestQueue,o=t.logger;t.onlineDetector;var s=t.cacheContext,c=void 0===s?null:s;this._iid=e,this._cacheContext=c,this._sdkState=n,this._dispatcher=r,this._sessionManager=a,this._requestQueue=i,this._logger=o},e}();!function(e){e.BASE="base",e.USER="user",e.FILE="file",e.ADMIN="admin"}(xa||(xa={})),function(e){e.ALL="",e.USER="MESG",e.FILE="FILE",e.ADMIN="ADMM"}(Da||(Da={})),function(e){e.USER="MESG",e.FILE="FILE",e.ADMIN="ADMM"}(Ua||(Ua={})),function(e){e.USERS="users",e.CHANNEL="channel"}(La||(La={})),function(e){e.ALL="all",e.NONE="none",e.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(za||(za={})),function(e){e.DEFAULT="default",e.SUPPRESS="suppress"}(Ra||(Ra={})),function(e){e.PENDING="pending",e.SCHEDULED="scheduled",e.SUCCEEDED="succeeded",e.FAILED="failed",e.CANCELED="canceled"}(ja||(ja={})),function(e){e.BASE="base",e.GROUP="group",e.OPEN="open"}(Fa||(Fa={})),function(e){e.OPERATOR="operator",e.NONE="none"}(Ba||(Ba={})),function(e){e.OPEN="open",e.CLOSED="closed"}(Ha||(Ha={}));var Ka,Qa="removed",Ya=function(e){switch(e){case Ha.OPEN:return Ha.OPEN;case Ha.CLOSED:return Ha.CLOSED}},Za=function(e){return!e||e.text&&C("string",e.text)},Ja=function(e){return M("string",e)&&e.every((function(e){return""!==e.trim()}))},Xa=function(e){function t(t,n){var r,a,i,o,s,c,l,u=this;return(u=e.call(this,t)||this).pollId=0,u.id=0,u.text=null,u.voteCount=0,u.createdBy=null,u.createdAt=0,u.updatedAt=0,u._lastVotedAt=0,u.pollId=null!==(r=n.poll_id)&&void 0!==r?r:0,u.id=null!==(a=n.id)&&void 0!==a?a:0,u.text=null!==(i=n.text)&&void 0!==i?i:null,u.voteCount=null!==(o=n.vote_count)&&void 0!==o?o:0,u.createdBy=null!==(s=n.created_by)&&void 0!==s?s:null,u.createdAt=null!==(c=n.created_at)&&void 0!==c?c:0,u.updatedAt=null!==(l=n.updated_at)&&void 0!==l?l:0,u}return a(t,e),t.payloadify=function(t){return t?W(i(i({},e.payloadify.call(this,t)),{vote_count:t.voteCount,poll_id:t.pollId,text:t.text,created_at:t.createdAt,id:t.id,created_by:t.createdBy,updated_at:t.updatedAt})):null},t}(da),$a=function(e){function t(t,n){var r,a,i,o,s,c,l,u,d,f,h,p,m,_=this;return(_=e.call(this,t)||this).id=0,_.title=null,_.createdAt=0,_.updatedAt=0,_.closeAt=-1,_.status=Ha.CLOSED,_.messageId=0,_.data=null,_.voterCount=-1,_.options=[],_.createdBy=null,_.allowUserSuggestion=!1,_.allowMultipleVotes=!1,_.votedPollOptionIds=[],_.id=null!==(r=n.id)&&void 0!==r?r:0,_.title=null!==(a=n.title)&&void 0!==a?a:null,_.createdAt=null!==(i=n.created_at)&&void 0!==i?i:0,_.updatedAt=null!==(o=n.updated_at)&&void 0!==o?o:0,_.closeAt=null!==(s=n.close_at)&&void 0!==s?s:-1,_.status=null!==(c=Ya(n.status))&&void 0!==c?c:Ha.CLOSED,_.messageId=null!==(l=n.message_id)&&void 0!==l?l:0,_.data=null!==(u=n.data)&&void 0!==u?u:null,_.voterCount=null!==(d=n.voter_count)&&void 0!==d?d:-1,_.options=n.options?n.options.map((function(e){return new Xa(_._iid,e)})):[],_.createdBy=null!==(f=n.created_by)&&void 0!==f?f:null,_.allowUserSuggestion=null!==(h=n.allow_user_suggestion)&&void 0!==h&&h,_.allowMultipleVotes=null!==(p=n.allow_multiple_votes)&&void 0!==p&&p,_.votedPollOptionIds=null!==(m=n.voted_option_ids)&&void 0!==m?m:[],_}return a(t,e),t.prototype._applyPollUpdatePayload=function(e){var t,n,r,a,i,o,s,c,l=this;this.title=null!==(t=e.title)&&void 0!==t?t:this.title,this.updatedAt=null!==(n=e.updated_at)&&void 0!==n?n:this.updatedAt,this.closeAt=null!==(r=e.close_at)&&void 0!==r?r:this.closeAt,this.status=null!==(a=Ya(e.status))&&void 0!==a?a:this.status,this.data=null!==(i=e.data)&&void 0!==i?i:this.data,this.voterCount=null!==(o=e.voter_count)&&void 0!==o?o:this.voterCount,e.options&&(this.options=e.options.map((function(e){return new Xa(l._iid,e)})),this.votedPollOptionIds=e.options.filter((function(e){return e.vote_count>0})).map((function(e){return e.id}))),this.allowUserSuggestion=null!==(s=e.allow_user_suggestion)&&void 0!==s?s:this.allowUserSuggestion,this.allowMultipleVotes=null!==(c=e.allow_multiple_votes)&&void 0!==c?c:this.allowMultipleVotes},t.payloadify=function(t){return t?W(i(i({},e.payloadify.call(this,t)),{id:t.id,title:t.title,created_at:t.createdAt,updated_at:t.updatedAt,close_at:t.closeAt,status:t.status,message_id:t.messageId,data:t.data,voter_count:t.voterCount,options:t.options.map((function(e){return Xa.payloadify(e)})),created_by:t.createdBy,allow_user_suggestion:t.allowUserSuggestion,allow_multiple_votes:t.allowMultipleVotes,voted_option_ids:t.votedPollOptionIds})):null},t.prototype.applyPollUpdateEvent=function(e){var t=e._payload.poll;return!(!t||this.id!==t.id||t.updated_at<this.updatedAt||(this._applyPollUpdatePayload(t),0))},t.prototype.applyPollVoteEvent=function(e){if(this.id!==e.pollId)return!1;var t=this.options,n=t.map((function(e){return e.id})),r=e._payload,a=Math.floor(r.ts/1e3);return r.updated_vote_counts.forEach((function(e){var r=n.indexOf(e.option_id);if(r>-1){var i=t[r];a>=i._lastVotedAt&&(i.voteCount=e.vote_count,i._lastVotedAt=a)}})),r.req_id&&r.voted_option_ids&&(this.votedPollOptionIds=r.voted_option_ids),!0},t.prototype.serialize=function(){return va(this)},t}(da),ei=function(e){switch(e){case Fa.GROUP:return Nr;case Fa.OPEN:return xr;default:return null}},ti=function(e){switch(e){case Fa.GROUP:return"".concat(Ur,"/group_channels");case Fa.OPEN:return"".concat(Ur,"/open_channels");default:return null}},ni=function(e,t,n){var r,a;switch(e){case La.CHANNEL:return!0;case La.USERS:if(t)try{for(var i=l(t),o=i.next();!o.done;o=i.next())if(o.value===n)return!0}catch(e){r={error:e}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}}return!1},ri=function(e,t,n){var r=ni(e.mentionType,e.mentionedUserIds,n),a=ni(t.mentionType,t.mentionedUserIds,n);return!r&&a?1:r&&!a?-1:0};!function(e){e.UNKNOWN="UNKNOWN",e.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",e.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",e.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",e.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",e.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",e.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",e.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",e.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",e.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",e.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",e.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",e.REQUEST_MESSAGE="REQUEST_MESSAGE",e.EVENT_POLL_UPDATED="EVENT_POLL_UPDATED",e.EVENT_POLL_VOTED="EVENT_POLL_VOTED",e.SYNC_POLL_CHANGELOGS="SYNC_POLL_CHANGELOGS",e.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",e.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",e.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",e.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",e.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",e.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",e.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",e.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",e.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",e.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"}(Ka||(Ka={}));var ai=function(e){return e.startsWith("EVENT_")||e===Ka.SYNC_MESSAGE_FILL||e===Ka.SYNC_MESSAGE_CHANGELOGS||e===Ka.SYNC_POLL_CHANGELOGS},ii=function(e){function t(t){var n=t.messages,r=t.source,a=e.call(this)||this;return a.messages=n,a.source=r,a}return a(t,e),t}(q),oi=function(e){function t(t){var n=t.messageIds,r=t.source,a=e.call(this)||this;return a.messageIds=n,a.source=r,a}return a(t,e),t}(q),si=function(e){function t(t){var n=t.reqId,r=t.source,a=e.call(this)||this;return a.reqId=n,a.source=r,a}return a(t,e),t}(q),ci=function(e){function t(t){var n=t.polls,r=t.source,a=e.call(this)||this;return a.polls=n,a.source=r,a}return a(t,e),t}(q),li=function(e){function t(t){var n=t.event,r=t.source,a=e.call(this)||this;return a.event=n,a.source=r,a}return a(t,e),t}(q),ui=function(e){function t(t){var n=t.event,r=t.source,a=e.call(this)||this;return a.event=null,a.source=null,a.event=n,a.source=r,a}return a(t,e),t}(q),di=function(){function e(e,t){var n;this._iid=null,this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=e,this.limit=null!==(n=t.limit)&&void 0!==n?n:20}return Object.defineProperty(e.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),e.prototype._validate=function(){return C("number",this.limit)&&this.limit>0},e}(),fi=function(e){function t(t,n,r,a){var i=e.call(this,t,a)||this;return i.channelUrl=n,i.channelType=r,i}return a(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&C("string",this.channelUrl)&&T(Fa,this.channelType)},t}(di)},93872:(e,t,n)=>{"use strict";n.d(t,{A:()=>_,B:()=>v,F:()=>A,I:()=>u,M:()=>ie,O:()=>p,P:()=>T,R:()=>d,S:()=>w,T:()=>k,U:()=>I,a:()=>ne,b:()=>Z,c:()=>h,d:()=>re,e:()=>b,f:()=>J,g:()=>z,h:()=>j,i:()=>F,j:()=>l,k:()=>x,l:()=>M,m:()=>s,n:()=>o,o:()=>C,p:()=>O,q:()=>X,r:()=>U,s:()=>m,t:()=>f,u:()=>r,v:()=>R,w:()=>c});var r,a,i=n(35115),o=function(e){function t(t){var n=e.call(this)||this;if(n.method=i.A.POST,n.path="".concat(i.T),n.params=(0,i.e)({file:t.file,channel_url:t.channelUrl}),t.thumbnailSizes)for(var r=0;r<t.thumbnailSizes.length;r++){var a=t.thumbnailSizes[r],o=a.maxWidth,s=a.maxHeight;n.params["thumbnail".concat(r+1)]="".concat(o,",").concat(s)}return n.requestId=t.requestId,n}return(0,i._)(t,e),t}(i.f),s=function(e){function t(t,n){var r,a,i,o=this;return(o=e.call(this,t,n)||this).url=n.url,o.fileSize=null!==(r=n.file_size)&&void 0!==r?r:0,o.thumbnailSizes=null!==(a=n.thumbnails)&&void 0!==a?a:[],o.requireAuth=null!==(i=n.require_auth)&&void 0!==i&&i,o}return(0,i._)(t,e),t}(i.h),c=function(e){function t(t,n){var r,a,o,s=this;return(s=e.call(this,t)||this).replyCount=0,s.mostRepliedUsers=null,s.lastRepliedAt=0,s.updatedAt=0,s.replyCount=null!==(r=n.reply_count)&&void 0!==r?r:0,s.mostRepliedUsers=n.hasOwnProperty("most_replies")&&(0,i.l)("object",n.most_replies)?n.most_replies.map((function(e){return new i.U(s._iid,e)})):[],s.lastRepliedAt=null!==(a=n.last_replied_at)&&void 0!==a?a:0,s.updatedAt=null!==(o=n.updated_at)&&void 0!==o?o:0,s}return(0,i._)(t,e),t.payloadify=function(t){return t?(0,i.e)((0,i.g)((0,i.g)({},e.payloadify.call(this,t)),{reply_count:t.replyCount,most_replies:Array.isArray(t.mostRepliedUsers)?t.mostRepliedUsers.map((function(e){return i.U.payloadify(e)})):[],last_replied_at:t.lastRepliedAt,updated_at:t.updatedAt})):null},t}(i.X);(a=r||(r={})).ADD="add",a.DELETE="delete";var l,u,d=function(e){this.messageId=0,this.userId=null,this.key=null,this.operation=null,this.updatedAt=0;var t=(0,i.a)("string",e.msg_id)?parseInt(e.msg_id):e.msg_id,n=e.user_id,a=e.operation?e.operation.toLowerCase():null,o=e.reaction,s=e.updated_at;t&&(0,i.a)("string",n)&&(0,i.a)("string",a)&&(0,i.I)(r,a)&&(0,i.a)("string",o)&&o&&(0,i.a)("number",s)&&(this.messageId=t,this.userId=n,this.key=o,this.operation=a,this.updatedAt=s)},f=function(){function e(e){var t,n,r,a=e.key,o=null!==(r=(0,i.p)([],(0,i.q)(e.user_ids),!1))&&void 0!==r?r:[],s=e.updated_at;(0,i.a)("string",a)&&a&&(0,i.l)("string",o)&&o.length>0&&(0,i.a)("number",s)&&(this.key=a,this.userIds=o,this.updatedAt=s);var c={};try{for(var l=(0,i.H)(this.userIds),u=l.next();!u.done;u=l.next())c[u.value]=this.updatedAt}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}this._version=c}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.userIds.length},enumerable:!1,configurable:!0}),e.payloadify=function(e){return e?(0,i.e)({key:e.key,user_ids:e.userIds,updated_at:e.updatedAt}):null},e.prototype.applyEvent=function(e){if(e.key===this.key&&this.updatedAt<=e.updatedAt){if(!this._version[e.userId]||this._version[e.userId]<=e.updatedAt){var t=this.userIds.indexOf(e.userId);switch(e.operation){case r.ADD:t<0&&this.userIds.push(e.userId);break;case r.DELETE:t>=0&&this.userIds.splice(t,1)}this._version[e.userId]=e.updatedAt}this.updatedAt=Math.max(this.updatedAt,e.updatedAt)}},e}(),h=function(){function e(e){this.key=e.key,this.value=(0,i.l)("string",e.value)?(0,i.p)([],(0,i.q)(e.value),!1):[]}return e.payloadify=function(e){var t;return e?(0,i.e)({key:e.key,value:null!==(t=e.value)&&void 0!==t?t:[]}):null},e}(),p=function(){function e(e){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=e.url,e.hasOwnProperty("secure_url")&&(this.secureUrl=e.secure_url),e.hasOwnProperty("type")&&(this.type=e.type),e.hasOwnProperty("width")&&(this.width=e.width),e.hasOwnProperty("height")&&(this.height=e.height),e.hasOwnProperty("alt")&&(this.alt=e.alt)}return e.payloadify=function(e){var t,n;return e?(0,i.e)({url:e.url,secure_url:e.secureUrl,type:e.type,width:null!==(t=e.width)&&void 0!==t?t:0,height:null!==(n=e.height)&&void 0!==n?n:0,alt:e.alt}):null},e}(),m=function(){function e(e){this.title=null,this.url=null,this.description=null,this.defaultImage=null,e.hasOwnProperty("og:title")&&(this.title=e["og:title"]),e.hasOwnProperty("og:url")&&(this.url=e["og:url"]),e.hasOwnProperty("og:description")&&(this.description=e["og:description"]),e.hasOwnProperty("og:image")&&(this.defaultImage=new p(e["og:image"]))}return e.payloadify=function(e){return e?(0,i.e)({"og:title":e.title,"og:url":e.url,"og:description":e.description,"og:image":e.defaultImage?p.payloadify(e.defaultImage):null}):null},e}(),_=function(){function e(e){var t,n;this.name=null,this.volume=0,this.name=null!==(t=e.name)&&void 0!==t?t:"default",this.volume=null!==(n=e.volume)&&void 0!==n?n:1}return e.prototype.serialize=function(){return{name:this.name,volume:this.volume}},e.payloadify=function(e){return e?(0,i.e)({name:e.name,volume:e.volume}):null},e}();!function(e){e.PENDING="pending",e.SENT="sent",e.FAILED="failed",e.CANCELED="canceled"}(l||(l={})),function(e){e.PENDING="pending",e.IN_QUEUE="in_queue",e.SENT="sent",e.FAILED="failed",e.CANCELED="canceled",e.REMOVED="removed"}(u||(u={}));var y,g=function(e){switch(e){case i.Z.BASE:return"";case i.Z.USER:return"MESG";case i.Z.FILE:return"FILE";case i.Z.ADMIN:return"ADMM"}},v=function(e){function t(t,n){var r,a,o,s,l,u,d,p,y,g,v,b,w,k,E,S=this;(S=e.call(this,t)||this).channelUrl=null,S.channelType=i.M.BASE,S.messageId=0,S.parentMessageId=null,S.parentMessage=null,S.silent=!1,S.isOperatorMessage=!1,S.messageType=i.Z.BASE,S.data=null,S.customType=null,S.mentionType=null,S.mentionedUsers=[],S.mentionedUserIds=[],S.mentionedMessageTemplate=null,S.threadInfo=null,S.reactions=[],S.metaArrays=[],S.ogMetaData=null,S.appleCriticalAlertOptions=null,S.createdAt=0,S.updatedAt=0,S.scheduledInfo=null,S.extendedMessage={},S._isContinuousMessages=!1,S._scheduledStatus=null,S.messageId=null!==(a=null!==(r=n.msg_id)&&void 0!==r?r:n.message_id)&&void 0!==a?a:0,S.channelUrl=n.channel_url,S.channelType=(0,i.I)(i.M,n.channel_type)?n.channel_type:i.M.GROUP,n.channel&&(n.channel.channel_url&&(S.channelUrl=n.channel.channel_url),n.channel.channel_type&&(S.channelType=n.channel.channel_type)),S.parentMessageId=null!==(o="string"==typeof n.parent_message_id?parseInt(n.parent_message_id):n.parent_message_id)&&void 0!==o?o:0,S.data=null!==(s=n.data)&&void 0!==s?s:"",S.customType=null!==(l=n.custom_type)&&void 0!==l?l:"",S.mentionType=(0,i.I)(i.a0,n.mention_type)?n.mention_type:null;var C=n.mentioned_users;S.mentionedUsers=C?C.map((function(e){return new i.U(S._iid,e)})):null;var T=n.mentioned_user_ids;S.mentionedUserIds=null!=T?T:null,S.mentionedUsers&&!S.mentionedUserIds&&(S.mentionedUserIds=S.mentionedUsers.map((function(e){return e.userId}))),S.mentionedMessageTemplate=null!==(u=n.mentioned_message_template)&&void 0!==u?u:"",S.threadInfo=n.thread_info?new c(S._iid,n.thread_info):null,S.reactions=n.reactions?n.reactions.map((function(e){return new f(e)})):[];for(var I=null!==(d=n.metaarray)&&void 0!==d?d:{},M=null!==(p=n.metaarray_key_order)&&void 0!==p?p:Object.keys(I).sort((function(e,t){return e.localeCompare(t)})),O=0;O<M.length;O++){var A=M[O];S.metaArrays.push(new h({key:A,value:I[A]||[]}))}return n.sorted_metaarray&&(S.metaArrays=n.sorted_metaarray.map((function(e){return new h(e)}))),S.ogMetaData=n.og_tag?new m(n.og_tag):null,S.silent=null!==(y=n.silent)&&void 0!==y&&y,S.isOperatorMessage=null!==(g=n.is_op_msg)&&void 0!==g&&g,S.appleCriticalAlertOptions=n.apple_critical_alert_options?new _(n.apple_critical_alert_options):null,S.createdAt=null!==(b=null!==(v=n.created_at)&&void 0!==v?v:n.ts)&&void 0!==b?b:0,S.updatedAt=null!==(w=n.updated_at)&&void 0!==w?w:0,"number"==typeof n.scheduled_message_id&&"number"==typeof n.scheduled_at&&n.scheduled_status&&(S.scheduledInfo={scheduledMessageId:n.scheduled_message_id,scheduledAt:n.scheduled_at},S._scheduledStatus=n.scheduled_status),S.extendedMessage=null!==(k=n.extended_message)&&void 0!==k?k:{},S._isContinuousMessages=null!==(E=n.is_continuous_messages)&&void 0!==E&&E,S}return(0,i._)(t,e),t.payloadify=function(t){var n,r,a,o;return t?(0,i.e)((0,i.g)((0,i.g)({},e.payloadify.call(this,t)),{channel_url:t.channelUrl,channel_type:t.channelType,message_id:t.messageId,type:g(t.messageType),parent_message_id:t.parentMessageId,data:t.data,custom_type:t.customType,mention_type:t.mentionType,mentioned_user_ids:t.mentionedUserIds,mentioned_users:null===(n=t.mentionedUsers)||void 0===n?void 0:n.map((function(e){return i.U.payloadify(e)})),mentioned_message_template:t.mentionedMessageTemplate,thread_info:t.threadInfo?c.payloadify(t.threadInfo):null,reactions:t.reactions.map((function(e){return f.payloadify(e)})),sorted_metaarray:null===(r=t.metaArrays)||void 0===r?void 0:r.map((function(e){return h.payloadify(e)})),og_tag:m.payloadify(t.ogMetaData),silent:t.silent,is_op_msg:t.isOperatorMessage,apple_critical_alert_options:_.payloadify(t.appleCriticalAlertOptions),created_at:t.createdAt,updated_at:t.updatedAt,scheduled_message_id:null===(a=t.scheduledInfo)||void 0===a?void 0:a.scheduledMessageId,scheduled_at:null===(o=t.scheduledInfo)||void 0===o?void 0:o.scheduledAt,scheduled_status:t._scheduledStatus,extended_message:t.extendedMessage})):null},t.prototype.isIdentical=function(e){return this.messageId===e.messageId},t.prototype.isEqual=function(e){return(0,i.Y)(this,e)},t.prototype.isUserMessage=function(){return this.messageType===i.Z.USER},t.prototype.isFileMessage=function(){return this.messageType===i.Z.FILE},t.prototype.isAdminMessage=function(){return this.messageType===i.Z.ADMIN},t.prototype.serialize=function(){return(0,i.$)(this)},t.prototype.getMetaArraysByKeys=function(e){return this.metaArrays.filter((function(t){return e.includes(t.key)}))},t.prototype.applyThreadInfoUpdateEvent=function(e){return this.messageId===e.targetMessageId&&(this.threadInfo=e.threadInfo),!1},t.prototype.applyReactionEvent=function(e){if(this.messageId===e.messageId){for(var t=!1,n=0;n<this.reactions.length;n++)if(this.reactions[n].key===e.key){this.reactions[n].applyEvent(e),this.reactions[n].isEmpty&&this.reactions.splice(n,1),t=!0;break}t||"add"!==e.operation||this.reactions.push(new f(f.payloadify({key:e.key,userIds:[e.userId],updatedAt:e.updatedAt})))}},t.prototype.applyParentMessage=function(e){if(this.parentMessageId===e.messageId){var t=this.parentMessage.updatedAt;if(e.updatedAt>=t)return this.parentMessage=e,!0}return!1},t}(i.X),b=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.role=null,r.isBlockedByMe=!1,r.role=(0,i.I)(i.R,n.role)?n.role:i.R.NONE,n.hasOwnProperty("is_blocked_by_me")&&(r.isBlockedByMe=n.is_blocked_by_me),r}return(0,i._)(t,e),t.payloadify=function(t){return t?(0,i.e)((0,i.g)((0,i.g)({},e.payloadify.call(this,t)),{role:t.role,is_blocked_by_me:t.isBlockedByMe})):null},t}(i.U),w=function(e){function t(t,n){var r,a,o,s,c=this;if((c=e.call(this,t,n)||this).sender=null,c.reqId="",c.replyToChannel=!1,c.sendingStatus=null,c.errorCode=0,c.sender=n.user?new b(c._iid,n.user):n.sender_id,c.reqId=null!==(a=null!==(r=n.req_id)&&void 0!==r?r:n.request_id)&&void 0!==a?a:"",c.replyToChannel=null!==(o=n.is_reply_to_channel)&&void 0!==o&&o,n.request_state&&(0,i.I)(i.a1,n.request_state)&&(c.sendingStatus=n.request_state),!c.sendingStatus)if(c.messageId>0)c.sendingStatus=i.a1.SUCCEEDED;else if(c.scheduledInfo)switch(c._scheduledStatus=n.scheduled_status,n.scheduled_status){case u.SENT:case u.IN_QUEUE:c.sendingStatus=i.a1.SUCCEEDED;break;case u.PENDING:c.sendingStatus=i.a1.SCHEDULED;break;case u.FAILED:case u.REMOVED:c.sendingStatus=i.a1.FAILED;break;case u.CANCELED:c.sendingStatus=i.a1.CANCELED}else c.sendingStatus=i.a1.PENDING;return c.errorCode=null!==(s=n.error_code)&&void 0!==s?s:0,c}return(0,i._)(t,e),t.payloadify=function(t){return t?(0,i.e)((0,i.g)((0,i.g)({},e.payloadify.call(this,t)),{user:b.payloadify(t.sender),req_id:t.reqId,is_reply_to_channel:t.replyToChannel,request_state:t.sendingStatus,error_code:t.errorCode})):null},Object.defineProperty(t.prototype,"isResendable",{get:function(){return this.sendingStatus===i.a1.FAILED&&(0,i.a2)(this.errorCode)},enumerable:!1,configurable:!0}),t.prototype.isIdentical=function(e){return this.messageId>0&&e.messageId>0?this.messageId===e.messageId:this.reqId===e.reqId},t}(v),k=function(){function e(e){var t,n;this.url=null,this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=e.url,this.width=e.width,this.height=e.height,this.realWidth=null!==(t=e.real_width)&&void 0!==t?t:e.width,this.realHeight=null!==(n=e.real_height)&&void 0!==n?n:e.height}return e.payloadify=function(e){return e?(0,i.e)({url:"",width:e.maxWidth,height:e.maxHeight,real_width:0,real_height:0}):null},Object.defineProperty(e.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),e}(),E={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:i.a3.ALL,customTypesFilter:null,senderUserIdsFilter:null,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},S=function(e){return(0,i.a)("number",e.prevResultSize)&&(0,i.a)("number",e.nextResultSize)&&(0,i.a)("boolean",e.isInclusive)&&(0,i.a)("boolean",e.reverse)&&(0,i.a)("string",e.messageTypeFilter)&&(0,i.I)(i.a3,e.messageTypeFilter)&&(0,i.l)("string",e.customTypesFilter,!0)&&(0,i.l)("string",e.senderUserIdsFilter,!0)&&(0,i.a)("boolean",e.includeMetaArray)&&(0,i.a)("boolean",e.includeReactions)&&(0,i.a)("boolean",e.includeParentMessageInfo)},C=function(e){function t(t,n){var r,a,o,s,c=this;if((c=e.call(this,t,n)||this).message=null,c.translations={},c.message=null!==(r=n.message)&&void 0!==r?r:"",c.messageType=i.Z.ADMIN,c.translations=null!==(a=n.translations)&&void 0!==a?a:{},n.parent_message_info){var l=n.parent_message_info,u=(0,i.g)((0,i.g)({},l),{message_id:c.parentMessageId,channel_url:c.channelUrl,channel_type:c.channelType,file:l.file,url:null===(o=l.file)||void 0===o?void 0:o.url,require_auth:null===(s=l.file)||void 0===s?void 0:s.require_auth});c.parentMessage=O(t,u)}return c}return(0,i._)(t,e),t.payloadify=function(t){return t?(0,i.e)((0,i.g)((0,i.g)({},e.payloadify.call(this,t)),{message:t.message,translations:t.translations,parent_message_info:M(t.parentMessage)})):null},t.prototype.getThreadedMessagesByTimestamp=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return n=(0,i.g)((0,i.g)({},E),t),(0,i.r)(this.messageId>0&&(0,i.a)("number",e)&&S(n)).throw(i.S.invalidParameters),[4,Z.of(this._iid).getThreadedMessagesByTimestamp(this,e,n)];case 1:return[2,r.sent()]}}))}))},t}(v),T=function(){function e(e){var t,n;this.type=null,this.vendor=null,this.detail={},this.type=null!==(t=e.type)&&void 0!==t?t:"",this.vendor=null!==(n=e.vendor)&&void 0!==n?n:"",e.hasOwnProperty("detail")&&(0,i.a)("object",e.detail)&&!Array.isArray(e.detail)&&(this.detail=e.detail)}return e.payloadify=function(e){return e?(0,i.e)({type:e.type,vendor:e.vendor,detail:e.detail}):null},e}(),I=function(e){function t(t,n){var r,a,o,s,c,l,u,d=this;if((d=e.call(this,t,n)||this).message="",d.messageParams=null,d.translations={},d.translationTargetLanguages=[],d.messageSurvivalSeconds=-1,d.plugins=[],d._poll=null,d.message=n.message,d.messageType=i.Z.USER,d.translations=null!==(o=n.translations)&&void 0!==o?o:{},d.translationTargetLanguages=null!==(s=n.target_langs)&&void 0!==s?s:[],0===Object.keys(d.translations).length&&d.translationTargetLanguages.length>0)try{for(var f=(0,i.H)(d.translationTargetLanguages),h=f.next();!h.done;h=f.next()){var p=h.value;d.translations[p]=""}}catch(t){r={error:t}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}if(d.messageSurvivalSeconds=null!==(c=n.message_survival_seconds)&&void 0!==c?c:-1,d.plugins=n.plugins?n.plugins.map((function(e){return new T(e)})):[],d._poll=n.poll?new i.a4(d._iid,n.poll):null,n.parent_message_info){var m=n.parent_message_info,_=(0,i.g)((0,i.g)({},m),{created_at:m.ts,message_id:d.parentMessageId,channel_url:d.channelUrl,channel_type:d.channelType,file:m.file,url:null===(l=m.file)||void 0===l?void 0:l.url,require_auth:null===(u=m.file)||void 0===u?void 0:u.require_auth});d.parentMessage=O(t,(0,i.e)(_))}return d}return(0,i._)(t,e),t.payloadify=function(t){return t?(0,i.e)((0,i.g)((0,i.g)({},e.payloadify.call(this,t)),{message:t.message,translations:t.translations,message_survival_seconds:t.messageSurvivalSeconds,plugins:t.plugins.map((function(e){return T.payloadify(e)})),poll:i.a4.payloadify(t._poll),parent_message_info:M(t.parentMessage)})):null},t.prototype.getThreadedMessagesByTimestamp=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return n=(0,i.g)((0,i.g)({},E),t),(0,i.r)(this.messageId>0&&(0,i.a)("number",e)&&S(n)).throw(i.S.invalidParameters),[4,Z.of(this._iid).getThreadedMessagesByTimestamp(this,e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype.applyPoll=function(e){return!(this._poll&&this._poll.id===e.id&&this._poll.updatedAt>e.updatedAt||(this._poll=e,0))},Object.defineProperty(t.prototype,"poll",{get:function(){return this._poll},enumerable:!1,configurable:!0}),t}(w),M=function(e){if(e)switch(e.messageType){case i.Z.USER:return I.payloadify(e);case i.Z.FILE:return A.payloadify(e);case i.Z.ADMIN:return C.payloadify(e)}return null},O=function(e,t){switch(t.type){case"MESG":return new I(e,t);case"FILE":return new A(e,t);case"ADMM":case"BRDM":return new C(e,t)}return null},A=function(e){function t(t,n){var r,a,o,s,c,l,u,d,f,h,p,m,_,y,g,v=this;(v=e.call(this,t,n)||this).messageParams=null,v.plainUrl="",v.requireAuth=!1,v.name=null,v.size=0,v.type=null,v.thumbnails=[],v.messageSurvivalSeconds=-1,v.messageType=i.Z.FILE;var b=null!==(r=n.file)&&void 0!==r?r:null;v.plainUrl=(null!==(o=null!==(a=null==b?void 0:b.url)&&void 0!==a?a:n.url)&&void 0!==o?o:"").split("?auth=")[0],v.name=null!==(c=null!==(s=null==b?void 0:b.name)&&void 0!==s?s:n.name)&&void 0!==c?c:"File",v.size=null!==(u=null!==(l=null==b?void 0:b.size)&&void 0!==l?l:n.size)&&void 0!==u?u:0,v.data=null!==(f=null!==(d=null==b?void 0:b.data)&&void 0!==d?d:n.custom)&&void 0!==f?f:"",v.type=b?null!==(h=b.type)&&void 0!==h?h:"":null!==(p=n.type)&&void 0!==p?p:"";var w=i.V.of(v._iid).sessionManager;if(v.requireAuth=null!==(m=n.require_auth)&&void 0!==m&&m,v.thumbnails=n.thumbnails?n.thumbnails.map((function(e){return new k((0,i.g)((0,i.g)({},e),{url:"".concat(e.url.split("?auth=")[0]).concat(v.requireAuth?"?auth=".concat(w.ekey):"")}))})):[],v.messageSurvivalSeconds=null!==(_=n.message_survival_seconds)&&void 0!==_?_:-1,n.parent_message_info){var E=n.parent_message_info,S=(0,i.g)((0,i.g)({},E),{message_id:v.parentMessageId,channel_url:v.channelUrl,channel_type:v.channelType,file:E.file,url:null===(y=E.file)||void 0===y?void 0:y.url,require_auth:null===(g=E.file)||void 0===g?void 0:g.require_auth});v.parentMessage=O(t,S)}return v}return(0,i._)(t,e),t.payloadify=function(t){return t?(0,i.e)((0,i.g)((0,i.g)({},e.payloadify.call(this,t)),{url:t.plainUrl,require_auth:t.requireAuth,file:{name:t.name,size:t.size,type:t.type,data:t.data},thumbnails:t.thumbnails.map((function(e){return{url:e.url,width:e.width,height:e.height,real_width:e.realWidth,real_height:e.realHeight}})),message_survival_seconds:t.messageSurvivalSeconds,parent_message_info:M(t.parentMessage)})):null},Object.defineProperty(t.prototype,"url",{get:function(){var e=i.V.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(e.ekey):this.plainUrl},enumerable:!1,configurable:!0}),t.prototype.getThreadedMessagesByTimestamp=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return n=(0,i.g)((0,i.g)({},E),t),(0,i.r)(this.messageId>0&&(0,i.a)("number",e)&&S(n)).throw(i.S.invalidParameters),[4,Z.of(this._iid).getThreadedMessagesByTimestamp(this,e,n)];case 1:return[2,r.sent()]}}))}))},t}(w),N=function(e){function t(t){var n,r,a,o=[];return t.mentionType===i.a0.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map((function(e){return e.userId})))),e.call(this,{code:"FILE",ackRequired:!0,payload:(0,i.e)({channel_url:t.channelUrl,url:t.url,name:null!==(n=t.fileName)&&void 0!==n?n:"",type:null!==(r=t.mimeType)&&void 0!==r?r:"",size:null!==(a=t.fileSize)&&void 0!==a?a:0,custom:t.data,custom_type:t.customType,thumbnails:t.thumbnailSizes,require_auth:t.requireAuth,metaarray:t.metaArrays,mention_type:t.mentionType,mentioned_user_ids:o,push_option:t.pushNotificationDeliveryOption&&t.pushNotificationDeliveryOption!==i.a5.DEFAULT?t.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:t.appleCriticalAlertOptions,silent:t.silent,reply_to_channel:t.isReplyToChannel,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,req_id:t.reqId,pin_message:t.isPinnedMessage})})||this}return(0,i._)(t,e),t}(i.a6),P=function(e){function t(t){var n,r=this;r=e.call(this)||this;var a=[];return t.mentionType===i.a0.USERS&&(t.mentionedUserIds?a=t.mentionedUserIds:t.mentionedUsers&&(a=t.mentionedUsers.map((function(e){return e.userId})))),r.method=i.A.POST,r.path="".concat((0,i.a7)(t.channelType),"/").concat(encodeURIComponent(t.channelUrl),"/messages"),r.params=(0,i.e)({message_type:i.Z.FILE,user_id:t.userId,url:t.fileUrl,mention_type:t.mentionType,mentioned_user_ids:a,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,data:t.data,custom_type:t.customType,thumbnails:t.thumbnailSizes.map((function(e){return k.payloadify(e)})),require_auth:t.requireAuth,sorted_metaarray:null===(n=t.metaArrays)||void 0===n?void 0:n.map((function(e){return h.payloadify(e)})),push_option:t.pushNotificationDeliveryOption,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,apple_critical_alert_options:_.payloadify(t.appleCriticalAlertOptions),reply_to_channel:t.isReplyToChannel,req_id:t.reqId,pin_message:t.isPinnedMessage}),r}return(0,i._)(t,e),t}(i.f),x=function(e){function t(t,n,r){var a,o,s,c=this;(c=e.call(this,t,"FILE",r)||this).message=new A(t,r);var l=i.V.of(t).sdkState;return c.isMentioned=(0,i.a8)(c.message.mentionType,null!==(a=c.message.mentionedUserIds)&&void 0!==a?a:null===(o=c.message.mentionedUsers)||void 0===o?void 0:o.map((function(e){return e.userId})),l.userId),c.forceUpdateLastMessage=null!==(s=r.force_update_last_message)&&void 0!==s&&s,c}return(0,i._)(t,e),t}(i.W),D=function(e){function t(t,n){var r,a,o=this;(o=e.call(this,t,n)||this).message=new A(t,n);var s=i.V.of(t).sdkState;return o.isMentioned=(0,i.a8)(o.message.mentionType,null!==(r=o.message.mentionedUserIds)&&void 0!==r?r:o.message.mentionedUsers.map((function(e){return e.userId})),s.userId),o.forceUpdateLastMessage=null!==(a=n.force_update_last_message)&&void 0!==a&&a,o}return(0,i._)(t,e),t}(i.h);!function(e){e[e.PENDING=0]="PENDING",e[e.UPLOADING=1]="UPLOADING",e[e.UPLOADED=2]="UPLOADED",e[e.SENDING=3]="SENDING",e[e.FAILED=4]="FAILED"}(y||(y={}));var U,L=function(){function e(e,t){var n=t.sdkState,r=t.dispatcher,a=t.requestQueue,o=t.onlineDetector,s=t.cacheContext,c=this;this._queueMap=new Map,this._connectionState=null,this._onlineDetector=null,this._iid=e,this._sdkState=n,this._requestQueue=a,this._cacheContext=s,this._dispatcher=r,this._dispatcher.on((function(e){e instanceof i.t&&(c._connectionState=e.stateType)})),this._onlineDetector=o}return Object.defineProperty(e.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===i.w.CONNECTED||this._connectionState===i.w.CONNECTING||this._connectionState===i.w.RECONNECTING},enumerable:!1,configurable:!0}),e.prototype._sendFileMessage=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return this._shouldSendThroughWebSocket?(n=new N((0,i.g)((0,i.g)({},t.params),{channelUrl:e.url,channelType:e.channelType,url:t.params.fileUrl,requireAuth:t.requireAuth,reqId:t.requestId})),[4,this._requestQueue.send(n)]):[3,2];case 1:return[2,r.sent().as(x).message];case 2:return n=new P((0,i.g)((0,i.g)({},t.params),{channelUrl:e.url,channelType:e.channelType,url:t.params.fileUrl,userId:this._sdkState.userId,requireAuth:t.requireAuth,reqId:t.requestId})),[4,this._requestQueue.send(n)];case 3:return[2,r.sent().as(D).message]}}))}))},e.prototype._resolveMessageQueue=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a,o,s,c,l,u,d,f,h;return(0,i.c)(this,(function(p){switch(p.label){case 0:if(!(t=this._queueMap.get(e.url)))return[3,21];if(t.isResolving)return[3,20];t.isResolving=!0,n=[],r=!0,p.label=1;case 1:p.trys.push([1,15,16,17]),a=(0,i.H)(t.messageQueue),o=a.next(),p.label=2;case 2:if(o.done)return[3,14];switch((s=o.value).state){case y.PENDING:case y.UPLOADING:return[3,3];case y.UPLOADED:return[3,4];case y.FAILED:return[3,12]}return[3,13];case 3:return r=!1,n.push(s),[3,13];case 4:if(!r)return[3,10];p.label=5;case 5:return p.trys.push([5,8,,9]),s.state=y.SENDING,[4,this._sendFileMessage(e,s)];case 6:return c=p.sent(),s.deferred.resolve(c),[4,(0,i.aa)(100)];case 7:return p.sent(),[3,9];case 8:return l=p.sent(),s.deferred.reject(l),[3,9];case 9:return[3,11];case 10:n.push(s),p.label=11;case 11:return[3,13];case 12:return s.deferred.reject(s.error.code===i.a9.REQUEST_CANCELED?i.S.fileUploadCanceled:s.error),[3,13];case 13:return o=a.next(),[3,2];case 14:return[3,17];case 15:return u=p.sent(),f={error:u},[3,17];case 16:try{o&&!o.done&&(h=a.return)&&h.call(a)}finally{if(f)throw f.error}return[7];case 17:return d=t.isResolveRequestPending,t.messageQueue=n,t.isResolving=!1,t.isResolveRequestPending=!1,d?[4,this._resolveMessageQueue(e)]:[3,19];case 18:p.sent(),p.label=19;case 19:return[3,21];case 20:t.isResolveRequestPending=!0,p.label=21;case 21:return[2]}}))}))},e.prototype._uploadNextPendingItem=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a,c,l,u,d,f,h,p,m,_,g;return(0,i.c)(this,(function(v){switch(v.label){case 0:return t=this._queueMap.get(e.url),(n=t.messageQueue.find((function(e){return e.state===y.PENDING})))?(0,i.i)(n.params.file)?t.uploadQueue.length<6?(n.state=y.UPLOADING,t.uploadQueue.push(n),[4,this._onlineDetector.isOnline()]):[3,10]:[3,11]:[3,13];case 1:if(!v.sent())return[3,8];v.label=2;case 2:return v.trys.push([2,4,5,7]),r=new o({file:n.params.file,channelUrl:e.url,thumbnailSizes:n.params.thumbnailSizes,requestId:n.requestId}),[4,this._requestQueue.send(r)];case 3:return a=v.sent(),c=a.as(s),l=c.url,u=c.fileSize,d=void 0===u?n.params.fileSize:u,f=c.thumbnailSizes,h=void 0===f?n.params.thumbnailSizes:f,p=c.requireAuth,m=void 0!==p&&p,n.params.fileUrl=l,n.params.fileSize=d,n.params.thumbnailSizes=h,n.params.requireAuth=m,n.requireAuth=m,n.state=y.UPLOADED,[3,7];case 4:return(_=v.sent()).code===i.a9.REQUEST_FAILED?n.error=new i.S({code:i.a9.NETWORK_ERROR,message:"Failed to upload a file."}):n.error=_,n.state=y.FAILED,[3,7];case 5:return(g=t.uploadQueue.findIndex((function(e){return e.requestId===n.requestId})))>=0&&(t.uploadQueue.splice(g,1),this._uploadNextPendingItem(e)),[4,this._resolveMessageQueue(e)];case 6:return v.sent(),[7];case 7:return[3,10];case 8:return n.state=y.FAILED,n.error=i.S.connectionRequired,(g=t.uploadQueue.findIndex((function(e){return e.requestId===n.requestId})))>=0&&(t.uploadQueue.splice(g,1),this._uploadNextPendingItem(e)),[4,this._resolveMessageQueue(e)];case 9:v.sent(),v.label=10;case 10:return[3,13];case 11:return n.params.thumbnailSizes=[],n.state=y.UPLOADED,[4,this._resolveMessageQueue(e)];case 12:v.sent(),v.label=13;case 13:return[2]}}))}))},e.prototype.request=function(e,t,n){var r,a,o;return(0,i.b)(this,void 0,void 0,(function(){var s;return(0,i.c)(this,(function(c){return s=new i.ab,(0,i.i)(n.file)&&(n.fileName=null!==(r=n.fileName)&&void 0!==r?r:n.file.name,n.mimeType=null!==(a=n.mimeType)&&void 0!==a?a:n.file.type,n.fileSize=null!==(o=n.fileSize)&&void 0!==o?o:n.file.size),this._queueMap.has(e.url)||this._queueMap.set(e.url,{messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1}),this._queueMap.get(e.url).messageQueue.push({requestId:t,params:n,state:y.PENDING,deferred:s,requireAuth:n.requireAuth}),this._uploadNextPendingItem(e),[2,s.promise]}))}))},e.prototype.cancel=function(e,t){var n,r;void 0===t&&(t=null);var a=this._queueMap.get(e.url);if(a){var o=t?[a.messageQueue.find((function(e){return e.requestId===t}))]:(0,i.p)([],(0,i.q)(a.messageQueue),!1);try{for(var s=(0,i.H)(o),c=s.next();!c.done;c=s.next()){var l=c.value;if(l)switch(l.state){case y.PENDING:l.state=y.FAILED,l.error=i.S.requestCanceled,this._resolveMessageQueue(e);break;case y.UPLOADING:this._requestQueue.cancel(l.requestId)}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},e}(),z={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:i.a3.ALL,customTypesFilter:null,senderUserIdsFilter:null,replyType:i.ac.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},R=function(e){return(0,i.a)("number",e.prevResultSize)&&(0,i.a)("number",e.nextResultSize)&&(0,i.a)("boolean",e.isInclusive)&&(0,i.a)("boolean",e.reverse)&&(0,i.a)("string",e.messageTypeFilter)&&(0,i.I)(i.a3,e.messageTypeFilter)&&(0,i.l)("string",e.customTypesFilter,!0)&&(0,i.l)("string",e.senderUserIdsFilter,!0)&&(0,i.I)(i.ac,e.replyType)&&(0,i.a)("boolean",e.includeMetaArray)&&(0,i.a)("boolean",e.includeReactions)&&(0,i.a)("boolean",e.includeParentMessageInfo)&&(0,i.a)("boolean",e.includeThreadInfo)&&(0,i.a)("boolean",e.showSubchannelMessagesOnly)},j={replyType:i.ac.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1},F=function(e){return(0,i.I)(i.ac,e.replyType)&&(0,i.a)("boolean",e.includeReactions)&&(0,i.a)("boolean",e.includeMetaArray)&&(0,i.a)("boolean",e.includeParentMessageInfo)&&(0,i.a)("boolean",e.includeThreadInfo)},B=function(e){function t(t){var n=t.channelType,r=t.channelUrl,a=t.messageId,o=t.includeMetaArray,s=t.includeReactions,c=t.includeThreadInfo,l=t.includeParentMessageInfo,u=e.call(this)||this;return u.method=i.A.GET,u.path="".concat((0,i.a7)(n),"/").concat(encodeURIComponent(r),"/messages/").concat(encodeURIComponent(a)),u.params={is_sdk:!0,with_sorted_meta_array:o,include_reactions:s,include_thread_info:c,include_parent_message_info:l,include_poll_details:!0},u}return(0,i._)(t,e),t}(i.f),H=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.message=n?O(t,(0,i.g)({},n)):null,r}return(0,i._)(t,e),t}(i.h),G=function(e){function t(t){var n=t.channelType,r=t.channelUrl,a=t.timestamp,o=void 0===a?null:a,s=t.token,c=void 0===s?null:s,l=t.prevResultSize,u=t.nextResultSize,d=t.isInclusive,f=t.reverse,h=t.messageTypeFilter,p=t.customTypesFilter,m=t.senderUserIdsFilter,_=t.replyType,y=t.includeMetaArray,g=t.includeReactions,v=t.parentMessageId,b=t.includeThreadInfo,w=t.includeParentMessageInfo,k=t.showSubchannelMessagesOnly,E=t.checkingContinuousMessages,S=e.call(this)||this;return S.method=i.A.GET,S.path="".concat((0,i.a7)(n),"/").concat(encodeURIComponent(r),"/messages"),S.params=(0,i.e)({is_sdk:!0,prev_limit:l,next_limit:u,include:d,reverse:f,message_ts:o,message_id:c,message_type:null!=h?h:null,custom_types:p,sender_ids:m,include_reply_type:_,with_sorted_meta_array:y,include_reactions:g,parent_message_id:v,include_thread_info:b,include_parent_message_info:w,show_subchannel_message_only:k,include_poll_details:!0,checking_continuous_messages:E}),S}return(0,i._)(t,e),t}(i.f),V=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.messages=n.messages.map((function(e){return O(t,e)})),r}return(0,i._)(t,e),t}(i.h),q=function(e){function t(t){var n=t.channelType,r=t.channelUrl,a=t.timestamp,o=t.token,s=t.replyType,c=t.includeMetaArray,l=t.includeReactions,u=t.includeThreadInfo,d=t.includeParentMessageInfo,f=e.call(this)||this;return f.method=i.A.GET,f.path="".concat((0,i.a7)(n),"/").concat(encodeURIComponent(r),"/messages/changelogs"),f.params={change_ts:a,token:o,with_sorted_meta_array:c,include_reactions:l,include_thread_info:u,include_reply_type:s,include_parent_message_info:d,include_poll_details:!0},f}return(0,i._)(t,e),t}(i.f),W=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.updatedMessages=n.updated.map((function(e){return O(t,e)})),r.deletedMessagesInfo=n.deleted.map((function(e){return{messageId:e.message_id,deletedAt:e.deleted_at}})),r.hasMore=n.has_more,r.nextToken=n.next,r}return(0,i._)(t,e),t}(i.h),K=function(e){function t(t){var n=t.channelUrl,r=t.scheduledMessageId,a=e.call(this)||this;return a.method=i.A.GET,a.path="".concat(i.ad,"/").concat(encodeURIComponent(n),"/scheduled_messages/").concat(encodeURIComponent(r)),a.params={},a}return(0,i._)(t,e),t}(i.f),Q=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.message=n?O(t,(0,i.g)({},n)):null,r}return(0,i._)(t,e),t}(i.h),Y={},Z=function(){function e(e,t){var n=t.sdkState,r=t.dispatcher,a=t.requestQueue,i=t.onlineDetector,o=t.cacheContext;this._iid=e,this._sdkState=n,this._requestQueue=a,this._dispatcher=r,this._cacheContext=o,this.fileMessageQueue=new L(e,{sdkState:n,dispatcher:r,requestQueue:a,onlineDetector:i,cacheContext:o}),Y[e]=this}return e.of=function(e){return Y[e]},e.prototype.buildMessageFromSerializedData=function(e){var t=(0,i.s)(e);switch(t.messageType){case i.Z.USER:return new I(this._iid,I.payloadify(t));case i.Z.FILE:return new A(this._iid,A.payloadify(t));case i.Z.ADMIN:return new C(this._iid,C.payloadify(t))}return null},e.prototype.buildUserMessageCreateParamsFromSerializedData=function(e,t){return(0,i.e)({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUserIds:t.mentionedUserIds,mentionedUsers:t.mentionedUsers,mentionedMessageTemplate:t.mentionedMessageTemplate,metaArrays:t.metaArrays,parentMessageId:t.parentMessageId,isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption,appleCriticalAlertOptions:t.appleCriticalAlertOptions,reqId:t.reqId,message:t.message,translationTargetLanguages:Object.keys(t.translations),pollId:e.pollId})},e.prototype.buildFileMessageCreateParamsFromSerializedData=function(e,t){return(0,i.e)({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUserIds:t.mentionedUserIds,mentionedUsers:t.mentionedUsers,mentionedMessageTemplate:t.mentionedMessageTemplate,metaArrays:t.metaArrays,parentMessageId:t.parentMessageId,isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption,appleCriticalAlertOptions:t.appleCriticalAlertOptions,reqId:t.reqId,file:e.file,fileKey:e.fileKey,fileUrl:t.plainUrl,fileName:t.name,fileSize:t.size,mimeType:t.type,thumbnailSizes:t.thumbnails.map((function(e){return{maxWidth:e.width,maxHeight:e.height}})),fileType:e.fileType,requireAuth:t.requireAuth})},e.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(e,t){return(0,i.g)((0,i.g)({},this.buildUserMessageCreateParamsFromSerializedData(e,t)),{scheduledAt:e.scheduledAt})},e.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(e,t){return(0,i.g)((0,i.g)({},this.buildFileMessageCreateParamsFromSerializedData(e,t)),{scheduledAt:e.scheduledAt})},e.prototype.buildSenderFromSerializedData=function(e){var t=(0,i.s)(e);return new b(this._iid,b.payloadify(t))},e.prototype.getMessage=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t;return(0,i.c)(this,(function(n){switch(n.label){case 0:return t=new B(e),[4,this._requestQueue.send(t)];case 1:return[2,n.sent().as(H).message]}}))}))},e.prototype.getScheduledMessage=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t;return(0,i.c)(this,(function(n){switch(n.label){case 0:return t=new K(e),[4,this._requestQueue.send(t)];case 1:return[2,n.sent().as(Q).message]}}))}))},e.prototype.getMessagesByMessageId=function(e,t,n,r,a){return void 0===a&&(a=i.ae.REQUEST_MESSAGE),(0,i.b)(this,void 0,void 0,(function(){var o,s,c;return(0,i.c)(this,(function(l){switch(l.label){case 0:return o=new G((0,i.g)((0,i.g)({channelType:t,channelUrl:e,token:String(n)},z),r)),[4,this._requestQueue.send(o)];case 1:return s=l.sent(),c=s.as(V).messages,this._dispatcher.dispatch(new i.af({messages:c,source:a})),[2,c]}}))}))},e.prototype.getMessagesByTimestamp=function(e,t,n,r,a){return void 0===a&&(a=i.ae.REQUEST_MESSAGE),(0,i.b)(this,void 0,void 0,(function(){var o,s,c;return(0,i.c)(this,(function(l){switch(l.label){case 0:return o=new G((0,i.g)((0,i.g)({channelType:t,channelUrl:e,timestamp:n},z),r)),[4,this._requestQueue.send(o)];case 1:return s=l.sent(),c=s.as(V).messages,this._dispatcher.dispatch(new i.af({messages:c,source:a})),[2,c]}}))}))},e.prototype._getMessagesByTimestampForCollection=function(e,t,n,r,a,o){return void 0===a&&(a=i.ae.REQUEST_MESSAGE),(0,i.b)(this,void 0,void 0,(function(){var s,c,l,u;return(0,i.c)(this,(function(d){switch(d.label){case 0:return s=new G((0,i.g)((0,i.g)((0,i.g)({channelType:t,channelUrl:e,timestamp:n},z),r),{checkingContinuousMessages:o})),[4,this._requestQueue.send(s)];case 1:return c=d.sent(),l=c.payload,u=c.as(V).messages,this._dispatcher.dispatch(new i.af({messages:u,source:a})),[2,{messages:u,isContinuousMessages:l}]}}))}))},e.prototype.getThreadedMessagesByTimestamp=function(e,t,n,r){return void 0===r&&(r=i.ae.REQUEST_THREADED_MESSAGE),(0,i.b)(this,void 0,void 0,(function(){var a,o,s,c;return(0,i.c)(this,(function(l){switch(l.label){case 0:return a=new G((0,i.g)((0,i.g)((0,i.g)({channelUrl:e.channelUrl,channelType:e.channelType,timestamp:t},E),n),{replyType:i.ac.ALL,parentMessageId:e.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(a)];case 1:return o=l.sent(),s=o.as(V).messages,(c=s.slice(1)).forEach((function(t){t.parentMessage=e})),this._dispatcher.dispatch(new i.af({messages:c,source:r})),[2,{parentMessage:s[0],threadedMessages:c}]}}))}))},e.prototype.getMessageChangelogs=function(e,t,n,r,a){return void 0===a&&(a=i.ae.REQUEST_MESSAGE_CHANGELOGS),(0,i.b)(this,void 0,void 0,(function(){var o,s,c,l,u,d,f,h;return(0,i.c)(this,(function(p){switch(p.label){case 0:return o=new q((0,i.e)((0,i.g)((0,i.g)({channelType:t,channelUrl:e,timestamp:"number"==typeof n?n:null,token:"string"==typeof n?n:null},j),r))),[4,this._requestQueue.send(o)];case 1:return s=p.sent(),c=s.as(W),l=c.updatedMessages,u=c.deletedMessagesInfo,d=c.hasMore,f=c.nextToken,h=u.map((function(e){return e.messageId})),l.length>0&&this._dispatcher.dispatch(new i.af({messages:l,source:a})),h.length>0&&this._dispatcher.dispatch(new i.ag({messageIds:h,source:a})),[2,{updatedMessages:l,deletedMessageIds:h,hasMore:d,token:f}]}}))}))},e}(),J=function(){function e(){this._onPending=i.n,this._onFailed=i.n,this._onSucceeded=i.n}return e.prototype._trigger=function(e,t){switch(t.sendingStatus){case i.a1.PENDING:0===t.errorCode&&this._onPending(t);break;case i.a1.FAILED:case i.a1.CANCELED:this._onFailed(e,t.scheduledInfo?null:t);break;case i.a1.SCHEDULED:case i.a1.SUCCEEDED:this._onSucceeded(t)}},e.prototype.onPending=function(e){return this._onPending=e,this},e.prototype.onFailed=function(e){return this._onFailed=e,this},e.prototype.onSucceeded=function(e){return this._onSucceeded=e,this},e}(),X=function(e){function t(t,n){var r=e.call(this,t)||this;r.threadInfo=null,r.targetMessageId=0,r.channelUrl=null,r.channelType=null;var a=n.thread_info,o=n.parent_message_id,s=n.channel_url,l=n.channel_type;return a&&(0,i.a)("object",a)&&(0,i.a)("number",o)&&(0,i.a)("string",s)&&(0,i.a)("string",l)&&(r.threadInfo=new c(t,a),r.targetMessageId=o,r.channelUrl=s,r.channelType=l),r}return(0,i._)(t,e),t}(i.X),$={channelUrl:null,channelType:null,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1},ee=function(e){function t(t){var n=t.channelCustomType,r=t.keyword,a=t.limit,o=t.reverse,s=t.exactMatch,c=t.channelUrl,l=t.order,u=t.messageTimestampFrom,d=t.messageTimestampTo,f=t.advancedQuery,h=t.targetFields,p=t.nextToken,m=e.call(this)||this;return m.method=i.A.GET,m.path="".concat(i.ah,"/messages"),m.params={custom_type:n,query:r,limit:a,reverse:o,exact_match:s,channel_url:c,message_ts_from:u,message_ts_to:d,sort_field:l,advanced_query:f,target_fields:h,after:p},m}return(0,i._)(t,e),t}(i.f),te=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.messages=n.results.map((function(e){return O(t,e)})),r.hasNext=n.has_next,r.nextToken=n.end_cursor,r.totalCount=n.total_count,r}return(0,i._)(t,e),t}(i.h);!function(e){e.SCORE="score",e.TIMESTAMP="ts"}(U||(U={}));var ne=function(e){function t(t,n){var r,a,i,o,s,c,l,u,d,f=this;return(f=e.call(this,t,n)||this).keyword="",f.reverse=!1,f.exactMatch=!1,f.channelUrl="",f.channelCustomType="",f.messageTimestampFrom=null,f.messageTimestampTo=null,f.order=U.SCORE,f.advancedQuery=!1,f.targetFields=null,f._nextToken="",f.totalCount=-1,f.keyword=n.keyword,f.reverse=null!==(r=n.reverse)&&void 0!==r&&r,f.exactMatch=null!==(a=n.exactMatch)&&void 0!==a&&a,f.channelUrl=null!==(i=n.channelUrl)&&void 0!==i?i:"",f.channelCustomType=null!==(o=n.channelCustomType)&&void 0!==o?o:"",f.messageTimestampFrom=null!==(s=n.messageTimestampFrom)&&void 0!==s?s:null,f.messageTimestampTo=null!==(c=n.messageTimestampTo)&&void 0!==c?c:null,f.order=null!==(l=n.order)&&void 0!==l?l:U.SCORE,f.advancedQuery=null!==(u=n.advancedQuery)&&void 0!==u&&u,f.targetFields=null!==(d=n.targetFields)&&void 0!==d?d:null,f}return(0,i._)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,i.a)("string",this.keyword)&&this.keyword.length>0&&(0,i.a)("boolean",this.reverse)&&(0,i.a)("boolean",this.exactMatch)&&(0,i.a)("string",this.channelUrl)&&(0,i.a)("string",this.channelCustomType)&&((0,i.a)("number",this.messageTimestampFrom)||null===this.messageTimestampFrom)&&((0,i.a)("number",this.messageTimestampTo)||null===this.messageTimestampTo)&&(0,i.I)(U,this.order)&&(0,i.a)("boolean",this.advancedQuery)&&(0,i.l)("string",this.targetFields,!0)},t.prototype.next=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a,o,s,c;return(0,i.c)(this,(function(l){switch(l.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=i.V.of(this._iid).requestQueue,t=new ee((0,i.g)((0,i.g)({},this),{nextToken:this._nextToken?this._nextToken:null})),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=l.sent(),r=n.as(te),a=r.messages,o=r.hasNext,s=r.nextToken,c=r.totalCount,this._nextToken=s,this._hasNext=o,this._isLoading=!1,this.totalCount=c,[2,a];case 2:return[2,[]];case 3:throw i.S.queryInProgress;case 4:return[3,6];case 5:throw i.S.invalidParameters;case 6:return[2]}}))}))},t}(i.B),re=function(e){function t(t,n,r,a){var o,s,c,l,u,d,f,h,p,m,_=this;return(_=e.call(this,t,n,r,a)||this).reverse=!1,_.messageTypeFilter=i.a3.ALL,_.customTypesFilter=null,_.senderUserIdsFilter=null,_.replyType=i.ac.NONE,_.includeMetaArray=!1,_.includeReactions=!1,_.includeParentMessageInfo=!1,_.includeThreadInfo=!1,_.showSubchannelMessagesOnly=!1,_._edge=Number.MAX_SAFE_INTEGER,_.reverse=null!==(o=a.reverse)&&void 0!==o&&o,_.messageTypeFilter=null!==(s=a.messageTypeFilter)&&void 0!==s?s:i.a3.ALL,_.customTypesFilter=null!==(c=a.customTypesFilter)&&void 0!==c?c:null,_.senderUserIdsFilter=null!==(l=a.senderUserIdsFilter)&&void 0!==l?l:null,_.replyType=null!==(u=a.replyType)&&void 0!==u?u:i.ac.NONE,_.includeMetaArray=null!==(d=a.includeMetaArray)&&void 0!==d&&d,_.includeReactions=null!==(f=a.includeReactions)&&void 0!==f&&f,_.includeParentMessageInfo=null!==(h=a.includeParentMessageInfo)&&void 0!==h&&h,_.includeThreadInfo=null!==(p=a.includeThreadInfo)&&void 0!==p&&p,_.showSubchannelMessagesOnly=null!==(m=a.showSubchannelMessagesOnly)&&void 0!==m&&m,_}return(0,i._)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,i.a)("boolean",this.reverse)&&(0,i.I)(i.a3,this.messageTypeFilter)&&(0,i.I)(i.ac,this.replyType)&&(0,i.l)("string",this.customTypesFilter,!0)&&(0,i.l)("string",this.senderUserIdsFilter,!0)&&(0,i.a)("boolean",this.includeMetaArray)&&(0,i.a)("boolean",this.includeReactions)&&(0,i.a)("boolean",this.includeParentMessageInfo)&&(0,i.a)("boolean",this.includeThreadInfo)&&(0,i.a)("boolean",this.showSubchannelMessagesOnly)},t.prototype.load=function(){return(0,i.b)(this,void 0,void 0,(function(){var e;return(0,i.c)(this,(function(t){switch(t.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Z.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,{prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly})]):[3,2]:[3,5];case 1:return e=t.sent(),this._edge=Math.min.apply(Math,(0,i.p)([Number.MAX_SAFE_INTEGER],(0,i.q)(e.map((function(e){return e.createdAt}))),!1)),this._hasNext=e.length>=this.limit,this._isLoading=!1,[2,e];case 2:return[2,[]];case 3:throw i.S.queryInProgress;case 4:return[3,6];case 5:throw i.S.invalidParameters;case 6:return[2]}}))}))},t}(i.ai),ae={channelUrl:null,scheduledMessageId:0},ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="message",t}return(0,i._)(t,e),t.prototype.init=function(t,n){var r=n.sdkState,a=n.dispatcher,i=n.sessionManager,o=n.requestQueue,s=n.logger,c=n.onlineDetector,l=n.cacheContext;e.prototype.init.call(this,t,{sdkState:r,dispatcher:a,sessionManager:i,requestQueue:o,logger:s,onlineDetector:c,cacheContext:l}),this._manager=new Z(t,{sdkState:r,dispatcher:a,requestQueue:o,onlineDetector:c,cacheContext:l})},t.prototype.buildMessageFromSerializedData=function(e){return this._manager.buildMessageFromSerializedData(e)},t.prototype.buildSenderFromSerializedData=function(e){return this._manager.buildSenderFromSerializedData(e)},t.prototype.getMessage=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t;return(0,i.c)(this,(function(n){return t=(0,i.g)((0,i.g)({},$),e),(0,i.r)(function(e){return(0,i.a)("string",e.channelUrl)&&(0,i.a)("string",e.channelType)&&(0,i.I)(i.M,e.channelType)&&(0,i.a)("number",e.messageId)&&(0,i.a)("boolean",e.includeMetaArray)&&(0,i.a)("boolean",e.includeParentMessageInfo)&&(0,i.a)("boolean",e.includeThreadInfo)}(t)).throw(i.S.invalidParameters),[2,this._manager.getMessage(t)]}))}))},t.prototype.getScheduledMessage=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t;return(0,i.c)(this,(function(n){return t=(0,i.g)((0,i.g)({},ae),e),(0,i.r)(function(e){return(0,i.a)("string",e.channelUrl)&&(0,i.a)("number",e.scheduledMessageId)}(t)).throw(i.S.invalidParameters),[2,this._manager.getScheduledMessage(t)]}))}))},t}(i.aj)},99613:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CountPreference:()=>zt,GroupChannel:()=>Ht,GroupChannelCollection:()=>Kt,GroupChannelEventContext:()=>He,GroupChannelEventSource:()=>s.n,GroupChannelFilter:()=>P,GroupChannelHandler:()=>Jt,GroupChannelListOrder:()=>s.G,GroupChannelListQuery:()=>Ue,GroupChannelModule:()=>tn,GroupChannelSearchField:()=>M,HiddenChannelFilter:()=>C,HiddenState:()=>jt,Member:()=>O,MemberListOrder:()=>ot,MemberListQuery:()=>pt,MemberState:()=>u,MemberStateFilter:()=>st,MembershipFilter:()=>Bt,MessageCollection:()=>lt,MessageCollectionInitHandler:()=>ct,MessageCollectionInitPolicy:()=>Fe,MessageEventContext:()=>Ge,MessageEventSource:()=>i.ae,MessageFilter:()=>s.p,MutedMemberFilter:()=>it,MutedState:()=>Rt,MyMemberStateFilter:()=>k,OperatorFilter:()=>T,PublicChannelFilter:()=>w,PublicGroupChannelListOrder:()=>s.P,PublicGroupChannelListQuery:()=>Zt,QueryType:()=>I,ReadStatus:()=>A,ScheduledMessageListOrder:()=>s.t,ScheduledMessageListQuery:()=>en,ScheduledStatus:()=>c.j,SuperChannelFilter:()=>E,UnreadChannelFilter:()=>S,UnreadItemKey:()=>N});var r,a,i=n(35115),o=n(37425),s=n(79181),c=n(93872),l=n(63582);(a=r||(r={}))[a.NONE=0]="NONE",a[a.CHANNEL_ENTER=10102]="CHANNEL_ENTER",a[a.CHANNEL_EXIT=10103]="CHANNEL_EXIT",a[a.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",a[a.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",a[a.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",a[a.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",a[a.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",a[a.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",a[a.TYPING_START=10900]="TYPING_START",a[a.TYPING_END=10901]="TYPING_END",a[a.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",a[a.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",a[a.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",a[a.CHANNEL_INVITE=10020]="CHANNEL_INVITE",a[a.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",a[a.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",a[a.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",a[a.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",a[a.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",a[a.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",a[a.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",a[a.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE",a[a.PINNED_MESSAGE_CHANGED=11300]="PINNED_MESSAGE_CHANGED";var u,d,f=function(){function e(e){this.channelUrl=e.channel_url,this.channelType=e.channel_type,this.category=e.cat,this.data=e.data,this.ts=e.ts}return Object.defineProperty(e.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===i.M.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===i.M.OPEN},enumerable:!1,configurable:!0}),e}(),h=function(e){function t(t,n,r){var a=e.call(this,t,"SYEV",r)||this;return a.event=new f(r),a}return(0,i._)(t,e),t}(i.W),p=function(e){function t(t,n,r){var a=e.call(this,t,n,r)||this,o=r.data.operators,s=void 0===o?[]:o;return a.operators=s.map((function(e){return new i.U(a._iid,e)})),a}return(0,i._)(t,e),t}(h),m=function(e){function t(t,n,r){var a=e.call(this,t,"MCNT",r)||this;return a.groupChannelMemberCounts=r.group_channels.map((function(e){return{channelUrl:e.channel_url,memberCount:e.member_count,joinedMemberCount:e.joined_member_count,updatedAt:e.ts}})),a.openChannelMemberCounts=r.open_channels.map((function(e){return{channelUrl:e.channel_url,participantCount:e.participant_count,updatedAt:e.ts}})),a}return(0,i._)(t,e),t}(i.W),_=function(e){function t(t,n,r){var a,o,s,l=this;(l=e.call(this,t,"ADMM",r)||this).message=new c.o(t,r);var u=i.V.of(t).sdkState;return l.isMentioned=(0,i.a8)(l.message.mentionType,null!==(a=l.message.mentionedUserIds)&&void 0!==a?a:null===(o=l.message.mentionedUsers)||void 0===o?void 0:o.map((function(e){return e.userId})),u.userId),l.forceUpdateLastMessage=null!==(s=r.force_update_last_message)&&void 0!==s&&s,l}return(0,i._)(t,e),t}(i.W),y=function(e){function t(t,n,r){var a,o,s,l,u,d,f=this;(f=e.call(this,t,"AEDI",r)||this).message=new c.o(t,r);var h=i.V.of(t).sdkState;return f.mentionCountChange=(0,i.aw)({mentionType:null!==(o=null===(a=r.old_values)||void 0===a?void 0:a.mention_type)&&void 0!==o?o:null,mentionedUserIds:null!==(l=null===(s=r.old_values)||void 0===s?void 0:s.mentioned_user_ids)&&void 0!==l?l:[]},{mentionType:f.message.mentionType,mentionedUserIds:null!==(u=f.message.mentionedUserIds)&&void 0!==u?u:null===(d=f.message.mentionedUsers)||void 0===d?void 0:d.map((function(e){return e.userId}))},h.userId),f}return(0,i._)(t,e),t}(i.W),g=function(e){function t(t,n,r){var a=e.call(this,t,"MRCT",r)||this;return a.channelUrl=r.channel_url,a.channelType=r.channel_type,a.event=new c.R(r),a}return(0,i._)(t,e),t}(i.W),v=function(e){function t(t,n,r){var a=e.call(this,t,"MTHD",r)||this;return a.event=new c.q(t,r),a}return(0,i._)(t,e),t}(i.W),b=function(e){function t(t,n,r){var a=e.call(this,t,"PEDI",r)||this;return a.event=null,a.status=null,a.channelUrl=null,a.channelType=null,a.event=new l.h(t,r),a.status=(0,i.aI)(r.poll.status)||r.poll.status,a.channelUrl=r.channel_url,a.channelType=r.channel_type,a}return(0,i._)(t,e),t}(i.W);(d=u||(u={})).NONE="none",d.JOINED="joined",d.INVITED="invited",d.LEFT="left";var w,k,E,S,C,T,I,M,O=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state=null,r.role=null,r.isMuted=!1,r.isBlockedByMe=!1,r.isBlockingMe=!1,r.state=(0,i.I)(u,n.state)?n.state:null,r.role=(0,i.I)(i.R,n.role)?n.role:null,n.hasOwnProperty("is_muted")&&(r.isMuted=n.is_muted),n.hasOwnProperty("is_blocked_by_me")&&(r.isBlockedByMe=n.is_blocked_by_me),n.hasOwnProperty("is_blocking_me")&&(r.isBlockingMe=n.is_blocking_me),r}return(0,i._)(t,e),t.payloadify=function(t){return t?(0,i.e)((0,i.g)((0,i.g)({},e.payloadify.call(this,t)),{state:t.state,role:t.role,is_muted:t.isMuted,is_blocked_by_me:t.isBlockedByMe,is_blocking_me:t.isBlockingMe})):null},t}(o.g),A=function(e){function t(t,n){var r,a,o=this;return(o=e.call(this,t)||this).channelUrl=null!==(r=n.channel_url)&&void 0!==r?r:"",o.channelType=null!==(a=n.channel_type)&&void 0!==a?a:i.M.GROUP,o.reader=new i.U(o._iid,n.user),o.readAt=n.ts,o}return(0,i._)(t,e),t}(i.X);!function(e){e.ALL="all",e.PUBLIC="public",e.PRIVATE="private"}(w||(w={})),function(e){e.ALL="all",e.JOINED="joined_only",e.INVITED="invited_only",e.INVITED_BY_FRIEND="invited_by_friend",e.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(k||(k={})),function(e){e.ALL="all",e.SUPER="super",e.NON_SUPER="nonsuper",e.BROADCAST_ONLY="broadcast_only",e.EXCLUSIVE_ONLY="exclusive_only"}(E||(E={})),function(e){e.ALL="all",e.UNREAD_MESSAGE="unread_message"}(S||(S={})),function(e){e.ALL="all",e.UNHIDDEN="unhidden_only",e.HIDDEN="hidden_only",e.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",e.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(C||(C={})),function(e){e.ALL="all",e.OPERATOR="operator",e.NONOPERATOR="nonoperator"}(T||(T={})),function(e){e.AND="AND",e.OR="OR"}(I||(I={})),function(e){e.MEMBER_NICKNAME="member_nickname",e.CHANNEL_NAME="channel_name"}(M||(M={}));var N,P=function(){function e(){this._searchFilter=null,this._userIdsFilter=null,this.includeEmpty=!1,this.nicknameContainsFilter=null,this.nicknameStartsWithFilter=null,this.nicknameExactMatchFilter=null,this.channelNameContainsFilter="",this.myMemberStateFilter=k.ALL,this.customTypesFilter=null,this.channelUrlsFilter=null,this.superChannelFilter=E.ALL,this.publicChannelFilter=w.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=S.ALL,this.hiddenChannelFilter=C.UNHIDDEN,this.includeFrozen=!0}return e.prototype._isFriend=function(e){return!!e.friendDiscoveryKey||!!e.friendName},Object.defineProperty(e.prototype,"searchFilter",{get:function(){return this._searchFilter},enumerable:!1,configurable:!0}),e.prototype.setSearchFilter=function(e,t){Array.isArray(e)&&0!==e.length&&"string"==typeof t&&t&&(this._searchFilter={query:t,fields:e})},Object.defineProperty(e.prototype,"userIdsFilter",{get:function(){return this._userIdsFilter},enumerable:!1,configurable:!0}),e.prototype.setUserIdsFilter=function(e,t,n){void 0===n&&(n=I.AND),this._userIdsFilter={userIds:e,includeMode:t,queryType:n}},e.prototype.clone=function(){var t=new e;this.searchFilter&&t.setSearchFilter(this.searchFilter.fields,this.searchFilter.query),this.userIdsFilter&&t.setUserIdsFilter(this.userIdsFilter.userIds,this.userIdsFilter.includeMode,this.userIdsFilter.queryType);var n=JSON.parse(JSON.stringify(this));return Object.keys(n).forEach((function(e){t[e]=n[e]})),t},e.prototype.match=function(e,t){if(this._searchFilter){var n=this._searchFilter,r=n.query,a=n.fields;if(r&&a&&a.length>0&&!a.some((function(t){switch(t){case M.CHANNEL_NAME:return e.name.toLowerCase().includes(r.toLowerCase());case M.MEMBER_NICKNAME:return e.members.some((function(e){return e.nickname.toLowerCase().includes(r.toLowerCase())}));default:return!0}})))return!1}if(this._userIdsFilter){var o=this._userIdsFilter,s=o.userIds,c=o.includeMode,l=o.queryType,u=e.members.map((function(e){return e.userId}));if(c){if(s.length>0)switch(l){case I.AND:if(s.some((function(e){return!u.includes(e)})))return!1;break;case I.OR:if(s.every((function(e){return!u.includes(e)})))return!1}}else{if(s.includes(t)||s.push(t),e.members.length>s.length)return!1;if(!(0,i.aA)(s,u))return!1}}if(!this.includeEmpty&&!e.lastMessage)return!1;if(!this.includeFrozen&&e.isFrozen)return!1;if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(e.customType))return!1;if(this.customTypeStartsWithFilter&&!new RegExp("^".concat(this.customTypeStartsWithFilter)).test(e.customType))return!1;if(this.channelNameContainsFilter&&!e.name.toLowerCase().includes(this.channelNameContainsFilter.toLowerCase()))return!1;if(this.nicknameContainsFilter){var d=this.nicknameContainsFilter.toLowerCase();if(!e.members.some((function(e){return e.userId!==t&&e.nickname.toLowerCase().includes(d)})))return!1}if(this.nicknameStartsWithFilter){var f=this.nicknameStartsWithFilter.toLowerCase();if(!e.members.some((function(e){return e.userId!==t&&e.nickname.toLowerCase().startsWith(f)})))return!1}if(this.nicknameExactMatchFilter){var h=this.nicknameExactMatchFilter.toLowerCase();if(!e.members.some((function(e){return e.userId!==t&&e.nickname.toLowerCase()!=h})))return!1}if(this.channelUrlsFilter&&this.channelUrlsFilter.length>0&&!this.channelUrlsFilter.includes(e.url))return!1;if(this.myMemberStateFilter)switch(this.myMemberStateFilter){case k.JOINED:if("joined"!==e.myMemberState)return!1;break;case k.INVITED:if("invited"!==e.myMemberState)return!1;break;case k.INVITED_BY_FRIEND:if("invited"!==e.myMemberState||!this._isFriend(e.inviter))return!1;break;case k.INVITED_BY_NON_FRIEND:if("invited"!==e.myMemberState||this._isFriend(e.inviter))return!1}if(this.hiddenChannelFilter)switch(this.hiddenChannelFilter){case C.UNHIDDEN:if(e.isHidden||"unhidden"!==e.hiddenState)return!1;break;case C.HIDDEN:if(!e.isHidden)return!1;break;case C.HIDDEN_ALLOW_AUTO_UNHIDE:if(!e.isHidden||"hidden_allow_auto_unhide"!==e.hiddenState)return!1;break;case C.HIDDEN_PREVENT_AUTO_UNHIDE:if(!e.isHidden||"hidden_prevent_auto_unhide"!==e.hiddenState)return!1}if(this.unreadChannelFilter&&this.unreadChannelFilter===S.UNREAD_MESSAGE&&0===e.unreadMessageCount)return!1;if(this.publicChannelFilter)switch(this.publicChannelFilter){case w.PUBLIC:if(!e.isPublic)return!1;break;case w.PRIVATE:if(e.isPublic)return!1}if(this.superChannelFilter)switch(this.superChannelFilter){case E.SUPER:if(!e.isSuper)return!1;break;case E.NON_SUPER:if(e.isSuper)return!1}return!0},e}(),x=function(e){function t(t,n){var r=n.sdkState,a=n.cacheContext,i=e.call(this,t)||this;return i._channels=new Map,i._sdkState=r,i._cacheContext=a,i}return(0,i._)(t,e),Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return e?e.collection(o.N):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e,t){return void 0===t&&(t=0),(0,i.g)((0,i.g)({},e.serialize()),{lastMessageUpdatedAt:e.lastMessage?e.lastMessage.createdAt:0,syncIndex:t})},t.prototype._deserialize=function(e){return je.of(this._iid).buildGroupChannelFromSerializedData(e)},Object.defineProperty(t.prototype,"channels",{get:function(){return(0,i.p)([],(0,i.q)(this._channels.values()),!1)},enumerable:!1,configurable:!0}),t.prototype.isCachedInMemory=function(e){return this._channels.has(e)},t.prototype.filterOffsetChanged=function(e){var t=this;return e.filter((function(e){if(t._channels.has(e.url))return t._channels.get(e.url).messageOffsetTimestamp<e.messageOffsetTimestamp}))},t.prototype.get=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return this._channels.has(e)?[3,3]:this.localCacheEnabled?[4,this.collection.getByKey(e)]:[3,2];case 1:if(t=r.sent())return n=this._deserialize(t),this._channels.set(e,n),[2,n];r.label=2;case 2:return[2,null];case 3:return[2,this._channels.get(e)]}}))}))},t.prototype.fetch=function(e){var t=e.token,n=e.limit,r=void 0===n?o.o:n,a=e.backward,c=void 0!==a&&a,l=e.filter,u=void 0===l?new P:l,d=e.order,f=void 0===d?s.G.LATEST_LAST_MESSAGE:d;return(0,i.b)(this,void 0,void 0,(function(){var e,n,a,o,l=this;return(0,i.c)(this,(function(i){switch(i.label){case 0:return this.localCacheEnabled?(e=(0,s.g)(f),n={where:function(e){if(t)switch(f){case s.G.CHANNEL_NAME_ALPHABETICAL:if(!c&&e.name.localeCompare(t)<0||c&&e.name.localeCompare(t)>0)return!1;break;case s.G.CHRONOLOGICAL:if(!c&&e.createdAt>t||c&&e.createdAt<t)return!1;break;case s.G.LATEST_LAST_MESSAGE:if(!c&&e.lastMessageUpdatedAt>t||c&&e.lastMessageUpdatedAt<t)return!1}return u.match(l._deserialize(e),l._sdkState.userId)},index:e,backward:c},[4,this.collection.query(n)]):[3,3];case 1:return[4,i.sent().fetch({limit:r})];case 2:return a=i.sent(),(o=a.map((function(e){return l._deserialize(e)}))).forEach((function(e){l._channels.has(e.url)||l._channels.set(e.url,e)})),[2,o];case 3:return[2,[]]}}))}))},t.prototype.upsert=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r=this;return(0,i.c)(this,(function(a){switch(a.label){case 0:if(e.forEach((function(e){if(r._channels.has(e.url)){var t=r._channels.get(e.url);e._pinnedMessagesUpdatedAt<t._pinnedMessagesUpdatedAt&&(e._pinnedMessagesUpdatedAt=t._pinnedMessagesUpdatedAt),Object.assign(t,e,{_iid:r._iid})}else r._channels.set(e.url,e)})),!this.localCacheEnabled)return[3,2];for(n in t=[],e)t.push(this._serialize(e[n],parseInt(n)));return[4,this.collection.upsertMany(t)];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},t.prototype.remove=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a,o,s;return(0,i.c)(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,7]),t=(0,i.H)(e),n=t.next(),c.label=1;case 1:return n.done?[3,4]:(r=n.value,this._channels.delete(r),this.localCacheEnabled?[4,this.collection.remove(r)]:[3,3]);case 2:c.sent(),c.label=3;case 3:return n=t.next(),[3,1];case 4:return[3,7];case 5:return a=c.sent(),o={error:a},[3,7];case 6:try{n&&!n.done&&(s=t.return)&&s.call(t)}finally{if(o)throw o.error}return[7];case 7:return[2]}}))}))},t.prototype.clear=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return this.clearMemoryCache(),this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.clearMemoryCache=function(){this._channels.clear()},t.prototype._setBlockStateOfAllChannels=function(e,t,n){return(0,i.b)(this,void 0,void 0,(function(){var r,a,o,s,c,l,u,d,f,h,p,m,_,y,g,v,b,w,k;return(0,i.c)(this,(function(E){switch(E.label){case 0:if(r=[],e===this._sdkState.userId)try{for(a=(0,i.H)(this._channels.values()),o=a.next();!o.done;o=a.next()){d=o.value;try{for(y=void 0,s=(0,i.H)(d.members),c=s.next();!c.done;c=s.next())if((p=c.value).userId===t){p.isBlockedByMe=n,r.push(d);break}}catch(e){y={error:e}}finally{try{c&&!c.done&&(g=s.return)&&g.call(s)}finally{if(y)throw y.error}}}}catch(e){m={error:e}}finally{try{o&&!o.done&&(_=a.return)&&_.call(a)}finally{if(m)throw m.error}}else if(t===this._sdkState.userId)try{for(l=(0,i.H)(this._channels.values()),u=l.next();!u.done;u=l.next()){d=u.value;try{for(w=void 0,f=(0,i.H)(d.members),h=f.next();!h.done;h=f.next())if((p=h.value).userId===e){p.isBlockingMe=n,r.push(d);break}}catch(e){w={error:e}}finally{try{h&&!h.done&&(k=f.return)&&k.call(f)}finally{if(w)throw w.error}}}}catch(e){v={error:e}}finally{try{u&&!u.done&&(b=l.return)&&b.call(l)}finally{if(v)throw v.error}}return r.length>0?[4,this.upsert(r)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}}))}))},t.prototype.block=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(n){switch(n.label){case 0:return[4,this._setBlockStateOfAllChannels(e,t,!0)];case 1:return n.sent(),[2]}}))}))},t.prototype.unblock=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(n){switch(n.label){case 0:return[4,this._setBlockStateOfAllChannels(e,t,!1)];case 1:return n.sent(),[2]}}))}))},t.prototype.markAsRead=function(e,t){return void 0===t&&(t=(0,i.p)([],(0,i.q)(this._channels.keys()),!1)),(0,i.b)(this,void 0,void 0,(function(){var n,r,a,o,s,c,l,u;return(0,i.c)(this,(function(d){switch(d.label){case 0:n=[],d.label=1;case 1:d.trys.push([1,6,7,8]),r=(0,i.H)(t),a=r.next(),d.label=2;case 2:return a.done?[3,5]:(o=a.value,[4,this.get(o)]);case 3:(s=d.sent())._updateUnreadMemberState(this._sdkState.userId,e)&&(s._updateUnreadCount(0,0),n.push(s)),d.label=4;case 4:return a=r.next(),[3,2];case 5:return[3,8];case 6:return c=d.sent(),l={error:c},[3,8];case 7:try{a&&!a.done&&(u=r.return)&&u.call(r)}finally{if(l)throw l.error}return[7];case 8:return n.length>0?[4,this.upsert(n)]:[3,10];case 9:d.sent(),d.label=10;case 10:return[2]}}))}))},t}(i.X),D={invitedUserIds:null,channelUrl:null,coverUrl:null,coverImage:null,isDistinct:null,isSuper:null,isBroadcast:null,isExclusive:null,isPublic:null,isDiscoverable:null,isStrict:null,isEphemeral:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},U=function(e){return(0,i.l)("string",e.invitedUserIds,!0)&&(0,i.a)("string",e.channelUrl,!0)&&(0,i.a)("string",e.coverUrl,!0)&&((0,i.i)(e.coverImage)||(0,i.a)("string",e.coverImage)||null===e.coverImage)&&(0,i.a)("boolean",e.isDistinct,!0)&&(0,i.a)("boolean",e.isSuper,!0)&&(0,i.a)("boolean",e.isBroadcast,!0)&&(0,i.a)("boolean",e.isExclusive,!0)&&(0,i.a)("boolean",e.isPublic,!0)&&(0,i.a)("boolean",e.isStrict,!0)&&(0,i.a)("boolean",e.isDiscoverable,!0)&&(0,i.a)("boolean",e.isEphemeral,!0)&&(0,i.a)("string",e.accessCode,!0)&&(0,i.a)("string",e.name,!0)&&(0,i.a)("string",e.data,!0)&&(0,i.a)("string",e.customType,!0)&&(0,i.l)("string",e.operatorUserIds,!0)&&(0,i.a)("number",e.messageSurvivalSeconds,!0)},L={customTypes:null,includeEmpty:!1,includeFrozen:!0},z=function(e){return(0,i.l)("string",e.customTypes,!0)&&(0,i.a)("boolean",e.includeEmpty)&&(0,i.a)("boolean",e.includeFrozen)},R={myMemberStateFilter:k.ALL},j=function(e){return(0,i.I)(k,e.myMemberStateFilter)};!function(e){e.GROUP_CHANNEL_UNREAD_MENTION_COUNT="group_channel_unread_mention_count",e.NONSUPER_UNREAD_MENTION_COUNT="non_super_group_channel_unread_mention_count",e.SUPER_UNREAD_MENTION_COUNT="super_group_channel_unread_mention_count",e.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT="group_channel_unread_message_count",e.NONSUPER_UNREAD_MESSAGE_COUNT="non_super_group_channel_unread_message_count",e.SUPER_UNREAD_MESSAGE_COUNT="super_group_channel_unread_message_count",e.GROUP_CHANNEL_INVITATION_COUNT="group_channel_invitation_count",e.NONSUPER_INVITATION_COUNT="non_super_group_channel_invitation_count",e.SUPER_INVITATION_COUNT="super_group_channel_invitation_count"}(N||(N={}));var F,B={keys:[]},H={channelCustomTypesFilter:null,superChannelFilter:E.ALL},G={channelUrl:null,scheduledStatus:null,messageTypeFilter:i.a3.ALL},V=function(){function e(e){var t=e.groupChannelCache,n=e.messageCache,r=e.unsentMessageCache,a=e.dispatcher,o=this;this._observers=new Map,a.on((function(e){return(0,i.b)(o,void 0,void 0,(function(){var a,o,c,l,u,d,f,h,p,m,_,y,g=this;return(0,i.c)(this,(function(v){switch(v.label){case 0:if(!(e instanceof s.m))return[3,10];a=e.channels,m=e.source,o=e.data,c=a.filter((function(e){return e instanceof Ht})),l=t.filterOffsetChanged(c),v.label=1;case 1:v.trys.push([1,6,7,8]),u=(0,i.H)(l),d=u.next(),v.label=2;case 2:return d.done?[3,5]:(f=d.value,[4,n.removeUnderOffset(f.url,f.messageOffsetTimestamp)]);case 3:v.sent(),v.label=4;case 4:return d=u.next(),[3,2];case 5:return[3,8];case 6:return h=v.sent(),_={error:h},[3,8];case 7:try{d&&!d.done&&(y=u.return)&&y.call(u)}finally{if(_)throw _.error}return[7];case 8:return[4,t.upsert(c)];case 9:return v.sent(),this._broadcastUpdateEvent(c,m,o),[3,15];case 10:return e instanceof s.l?(p=e.channelUrls,m=e.source,[4,t.remove(p)]):[3,13];case 11:return v.sent(),[4,(0,i.G)((function(){return(0,i.b)(g,void 0,void 0,(function(){var e,t,a,o,s,c;return(0,i.c)(this,(function(l){switch(l.label){case 0:l.trys.push([0,6,7,8]),e=(0,i.H)(p),t=e.next(),l.label=1;case 1:return t.done?[3,5]:(a=t.value,[4,n.removeMessagesOfChannel(a)]);case 2:return l.sent(),[4,r.removeMessagesOfChannel(a)];case 3:l.sent(),l.label=4;case 4:return t=e.next(),[3,1];case 5:return[3,8];case 6:return o=l.sent(),s={error:o},[3,8];case 7:try{t&&!t.done&&(c=e.return)&&c.call(e)}finally{if(s)throw s.error}return[7];case 8:return[2]}}))}))}))];case 12:return v.sent(),this._broadcastRemoveEvent(p,m),[3,15];case 13:return e instanceof s.D?[4,t.fetch({token:Number.MAX_SAFE_INTEGER,limit:Number.MAX_SAFE_INTEGER})]:[3,15];case 14:v.sent(),v.label=15;case 15:return[2]}}))}))}))}return e.prototype._broadcastUpdateEvent=function(e,t,n){var r,a;try{for(var o=(0,i.H)(this._observers.values()),s=o.next();!s.done;s=o.next())s.value.onUpdate(e,t,n)}catch(e){r={error:e}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},e.prototype._broadcastRemoveEvent=function(e,t){var n,r;try{for(var a=(0,i.H)(this._observers.values()),o=a.next();!o.done;o=a.next())o.value.onRemove(e,t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.subscribe=function(e,t){this._observers.set(e,t)},e.prototype.unsubscribe=function(e){this._observers.delete(e)},e.prototype.unsubscribeAll=function(){this._observers.clear()},e}(),q=function(){function e(e){var t=e.cacheContext,n=e.messageCache,r=e.unsentMessageCache,a=e.dispatcher,o=e.logger,s=this;this._cacheContext=null,this._observers=new Map,this._logger=null,this._cacheContext=t,this._logger=o,a.on((function(e){return(0,i.b)(s,void 0,void 0,(function(){var t,a,o,s,l,u,d,f,h,p,m,_,y,g=this;return(0,i.c)(this,(function(v){switch(v.label){case 0:return e instanceof i.af?(t=e.messages,_=e.source,a=t.filter((function(e){return e.messageId>0})),o=t.filter((function(e){return 0===e.messageId})),a.length>0?[4,(0,i.G)((function(){return(0,i.b)(g,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return[4,n.upsert(a)];case 1:return e.sent(),[4,r.remove(a.map((function(e){return e instanceof c.S?e.reqId:null})).filter((function(e){return null!==e})))];case 2:return e.sent(),[2]}}))}))}))]:[3,2]):[3,5];case 1:v.sent(),this._broadcastUpdateEvent(a,_),v.label=2;case 2:return o.length>0?[4,(0,i.G)((function(){return(0,i.b)(g,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return[4,r.upsert(o)];case 1:return e.sent(),[2]}}))}))}))]:[3,4];case 3:v.sent(),this._broadcastUpdateEvent(o,_),v.label=4;case 4:return[3,21];case 5:return e instanceof i.ag?(s=e.messageIds,_=e.source,[4,(0,i.G)((function(){return(0,i.b)(g,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return[4,n.remove(s)];case 1:return e.sent(),[2]}}))}))}))]):[3,7];case 6:return v.sent(),this._broadcastRemoveEvent(s,_),[3,21];case 7:return e instanceof i.aC?(l=e.reqId,_=e.source,[4,(0,i.G)((function(){return(0,i.b)(g,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return[4,r.remove([l])];case 1:return e.sent(),[2]}}))}))}))]):[3,9];case 8:return v.sent(),this._broadcastRemoveUnsentEvent(l,_),[3,21];case 9:return e instanceof i.at?(u=e.polls,_=e.source,this._cacheContext.localCacheEnabled?(d=u.map((function(e){return e.messageId})),[4,Promise.all(d.map((function(e){return n.get(e)})))]):[3,12]):[3,13];case 10:return(f=v.sent().filter((function(e){return e}))).length>0&&u.forEach((function(e){var t=f.find((function(t){return t.messageId===e.messageId}));t&&t.applyPoll(e)})),[4,(0,i.G)((function(){return(0,i.b)(g,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return[4,n.upsert(f)];case 1:return[2,e.sent()]}}))}))}))];case 11:v.sent(),v.label=12;case 12:return this._broadcastPollChangeLogEvent(u,_),[3,21];case 13:return e instanceof i.aB?(h=e.event,_=e.source,[4,n.get(h.messageId)]):[3,17];case 14:return(p=v.sent())&&p.isUserMessage()&&p.poll&&p.poll.applyPollUpdateEvent(h)?[4,(0,i.G)((function(){return(0,i.b)(g,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return[4,n.upsert([p])];case 1:return[2,e.sent()]}}))}))}))]:[3,16];case 15:v.sent(),v.label=16;case 16:return this._broadcastPollUpdateEvent(h,_),[3,21];case 17:return e instanceof i.az?(m=e.event,_=e.source,[4,n.get(m.messageId)]):[3,21];case 18:return(y=v.sent())&&y.isUserMessage()&&y.poll&&y.poll.applyPollVoteEvent(m)?[4,(0,i.G)((function(){return(0,i.b)(g,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return[4,n.upsert([y])];case 1:return[2,e.sent()]}}))}))}))]:[3,20];case 19:v.sent(),v.label=20;case 20:this._broadcastPollVoteEvent(m,_),v.label=21;case 21:return[2]}}))}))}))}return e.prototype._broadcastUpdateEvent=function(e,t){var n,r;try{for(var a=(0,i.H)(this._observers.values()),o=a.next();!o.done;o=a.next())o.value.onUpdate(e,t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype._broadcastPollChangeLogEvent=function(e,t){var n,r;try{for(var a=(0,i.H)(this._observers.values()),o=a.next();!o.done;o=a.next())o.value.onPollChangeLogUpdate(e,t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype._broadcastPollUpdateEvent=function(e,t){var n,r;try{for(var a=(0,i.H)(this._observers.values()),o=a.next();!o.done;o=a.next())o.value.onPollUpdate(e,t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype._broadcastPollVoteEvent=function(e,t){var n,r;try{for(var a=(0,i.H)(this._observers.values()),o=a.next();!o.done;o=a.next())o.value.onPollVote(e,t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype._broadcastRemoveEvent=function(e,t){var n,r;try{for(var a=(0,i.H)(this._observers.values()),o=a.next();!o.done;o=a.next())o.value.onRemove(e,t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype._broadcastRemoveUnsentEvent=function(e,t){var n,r;try{for(var a=(0,i.H)(this._observers.values()),o=a.next();!o.done;o=a.next())o.value.onRemoveUnsent(e,t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.subscribe=function(e,t){this._observers.set(e,t)},e.prototype.unsubscribe=function(e){this._observers.delete(e)},e.prototype.unsubscribeAll=function(){this._observers.clear()},e}(),W=function(e){function t(t){var n=t.userId,r=t.ts,a=t.token,o=t.filter,s=e.call(this)||this,c=(0,i.g)((0,i.g)({},L),o),l=c.customTypes,u=c.includeEmpty,d=c.includeFrozen;return s.method=i.A.GET,s.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/my_group_channels/changelogs"),s.params=(0,i.e)({show_delivery_receipt:!0,show_member:!0,show_read_receipt:!0,change_ts:r>0?r:null,token:a,custom_types:l,show_empty:u,show_frozen:d}),s}return(0,i._)(t,e),t}(i.f),K=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.updatedChannels=n.updated.map((function(e){return new Ht(t,e)})),r.deletedChannelUrls=n.deleted,r.hasMore=n.has_more,r.token=n.next,r}return(0,i._)(t,e),t}(i.h),Q=function(e){function t(t){var n=t.channelUrl,r=t.isInternalCall,a=e.call(this)||this;return a.method=i.A.GET,a.path="".concat(r?i.aD:i.ad,"/").concat(encodeURIComponent(n)),a.params={show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0},a}return(0,i._)(t,e),t}(i.f),Y=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.channel=null,r.channel=new Ht(t,n),r}return(0,i._)(t,e),t}(i.h),Z=function(e){function t(t){var n=this,r=t.userId,a=t.token,o=t.limit,s=t.order,c=t.includeEmpty,l=t.myMemberStateFilter,u=t.superChannelFilter,d=t.publicChannelFilter,f=t.unreadChannelFilter,h=t.nicknameContainsFilter,p=t.nicknameStartsWithFilter,m=t.nicknameExactMatchFilter,_=t.channelNameContainsFilter,y=t.channelUrlsFilter,g=t.customTypesFilter,v=t.customTypeStartsWithFilter,b=t.hiddenChannelFilter,w=t.metadataOrderKeyFilter,k=t.metadataKey,E=t.metadataValues,S=t.metadataValueStartsWith,C=t.includeFrozen,T=t.includeMetaData,I=t.searchFilter,M=t.userIdsFilter;return(n=e.call(this)||this).method=i.A.GET,n.path="".concat(i.d,"/").concat(encodeURIComponent(r),"/my_group_channels"),n.params=(0,i.e)({token:a,limit:o,order:s,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:c,member_state_filter:l,super_mode:u,public_mode:d,unread_filter:f,members_nickname_contains:h,members_nickname_startswith:p,members_nickname:m,name_contains:_,channel_urls:y,custom_types:g,custom_type_startswith:v,hidden_mode:b,metadata_order_key:w,metadata_key:k,metadata_values:E,metadata_value_startswith:S,show_frozen:C,show_metadata:T}),I&&I.query&&I.fields&&(n.params.search_query=I.query,n.params.search_fields=I.fields),M&&M.userIds&&M.userIds.length>0&&(M.includeMode?(n.params.members_include_in=M.userIds,n.params.query_type=M.queryType.toUpperCase()):n.params.members_exactly_in=M.userIds),n}return(0,i._)(t,e),t}(i.f),J=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.token=null,r.channels=[],r.ts=null;var a=n.next,i=n.channels,o=n.ts;return r.token=a,i&&i.length>0&&(r.channels=i.map((function(e){return e.ts=o,new Ht(t,e)}))),r.ts=null!=o?o:null,r}return(0,i._)(t,e),t}(i.h),X=function(e){function t(t){var n=t.userId,r=t.filter,a=e.call(this)||this,o=r.myMemberStateFilter;return a.method=i.A.GET,a.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/group_channel_count"),a.params={state:null!=o?o:k.ALL},a}return(0,i._)(t,e),t}(i.f),$=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.groupChannelCount=n.group_channel_count,r}return(0,i._)(t,e),t}(i.h),ee=function(e){function t(t){var n=t.userId,r=t.filter,a=e.call(this)||this,o=r.keys;return a.method=i.A.GET,a.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/unread_item_count"),a.params={item_keys:o},a}return(0,i._)(t,e),t}(i.f),te=function(e){function t(t,n){var r=e.call(this,t,n)||this;return"number"==typeof n[N.GROUP_CHANNEL_UNREAD_MENTION_COUNT]&&(r.groupChannelUnreadMentionCount=n[N.GROUP_CHANNEL_UNREAD_MENTION_COUNT]),"number"==typeof n[N.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]&&(r.groupChannelUnreadMessageCount=n[N.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]),"number"==typeof n[N.GROUP_CHANNEL_INVITATION_COUNT]&&(r.groupChannelInvitationCount=n[N.GROUP_CHANNEL_INVITATION_COUNT]),"number"==typeof n[N.SUPER_UNREAD_MENTION_COUNT]&&(r.superGroupChannelUnreadMentionCount=n[N.SUPER_UNREAD_MENTION_COUNT]),"number"==typeof n[N.SUPER_UNREAD_MESSAGE_COUNT]&&(r.superGroupChannelUnreadMessageCount=n[N.SUPER_UNREAD_MESSAGE_COUNT]),"number"==typeof n[N.SUPER_INVITATION_COUNT]&&(r.superGroupChannelInvitationCount=n[N.SUPER_INVITATION_COUNT]),"number"==typeof n[N.NONSUPER_UNREAD_MENTION_COUNT]&&(r.nonSuperGroupChannelUnreadMentionCount=n[N.NONSUPER_UNREAD_MENTION_COUNT]),"number"==typeof n[N.NONSUPER_UNREAD_MESSAGE_COUNT]&&(r.nonSuperGroupChannelUnreadMessageCount=n[N.NONSUPER_UNREAD_MESSAGE_COUNT]),"number"==typeof n[N.NONSUPER_INVITATION_COUNT]&&(r.nonSuperGroupChannelInvitationCount=n[N.NONSUPER_INVITATION_COUNT]),r}return(0,i._)(t,e),t}(i.h),ne=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=i.A.GET,r.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/unread_channel_count"),r}return(0,i._)(t,e),t}(i.f),re=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.unreadCount=n.unread_count,r}return(0,i._)(t,e),t}(i.h),ae=function(e){function t(t){var n=t.userId,r=t.filter,a=e.call(this)||this,o=r.channelCustomTypesFilter,s=r.superChannelFilter;return a.method=i.A.GET,a.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/unread_message_count"),a.params={super_mode:null!=s?s:E.ALL,custom_types:o},a}return(0,i._)(t,e),t}(i.f),ie=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.unreadCount=n.unread_count,r}return(0,i._)(t,e),t}(i.h),oe=function(e){function t(t){var n=t.channelUrl,r=t.scheduledStatus,a=t.messageTypeFilter,o=e.call(this)||this;return o.method=i.A.GET,o.path="".concat(i.aE,"/count"),o.params={channel_url:n,status:ce(r)},a&&(o.params.message_type=a),o}return(0,i._)(t,e),t}(i.f),se=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.count=n.count,r}return(0,i._)(t,e),t}(i.h),ce=function(e){if(e){var t=[];return e.forEach((function(e){switch(e){case c.j.PENDING:t.push(c.I.PENDING);break;case c.j.SENT:t.push(c.I.IN_QUEUE),t.push(c.I.SENT);break;case c.j.CANCELED:t.push(c.I.CANCELED);break;case c.j.FAILED:t.push(c.I.FAILED)}})),t}},le=function(e){function t(t){var n=this,r=t.userId,a=t.channelUrl,o=t.coverUrl,s=t.coverImage,c=t.isDistinct,l=t.isSuper,u=t.isBroadcast,d=t.isPublic,f=t.isExclusive,h=t.isDiscoverable,p=t.isStrict,m=t.isEphemeral,_=t.accessCode,y=t.name,g=t.data,v=t.customType,b=t.messageSurvivalSeconds,w=t.invitedUserIds,k=t.operatorUserIds;return(n=e.call(this)||this).method=i.A.POST,n.path=i.ad,n.params=(0,i.e)({user_ids:(0,i.p)([r],(0,i.q)(null!=w?w:[]),!1).filter((function(e,t,n){return t===n.indexOf(e)})),channel_url:a,cover_url:o,cover_file:s,is_distinct:c,is_super:l,is_broadcast:u,is_exclusive:f,is_public:d,is_discoverable:h,strict:p,is_ephemeral:m,access_code:_,name:y,data:g,custom_type:v,operator_ids:k,message_survival_seconds:b}),n}return(0,i._)(t,e),t}(i.f),ue=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.channel=new Ht(t,n),r.isCreated=n.is_created,r}return(0,i._)(t,e),t}(i.h),de=function(e){function t(t){var n=t.userId,r=t.channelUrls,a=e.call(this)||this;return a.method=i.A.PUT,a.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/mark_as_read_all"),a.params={channel_urls:r},a}return(0,i._)(t,e),t}(i.f);F=i.h,(0,i._)((function(){return null!==F&&F.apply(this,arguments)||this}),F);var fe=function(e){function t(t){var n=this,r=t.channelUrl,a=t.userId,o=t.accessCode;return(n=e.call(this)||this).method=i.A.PUT,n.path="".concat(i.ad,"/").concat(encodeURIComponent(r),"/join"),n.params={user_id:a,access_code:o},n}return(0,i._)(t,e),t}(i.f),he=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.channel=new Ht(t,n),r}return(0,i._)(t,e),t}(i.h),pe=function(e){function t(t,n,r){var a=e.call(this,t,n,r)||this,i=r.data,o=i.member_count,s=void 0===o?null:o,c=i.joined_member_count,l=void 0===c?null:c,u=i.users,d=void 0===u?null:u;return a.memberCount=s,a.joinedMemberCount=l,a.members=Array.isArray(d)?d.map((function(e){return new O(t,e)})):[new O(t,r.data)],a}return(0,i._)(t,e),t}(h),me=function(e){function t(t){var n=this,r=t.channelUrl,a=t.userId,o=t.shouldRemoveOperatorStatus;return(n=e.call(this)||this).method=i.A.PUT,n.path="".concat(i.ad,"/").concat(encodeURIComponent(r),"/leave"),n.params={user_id:a,should_remove_operator_status:o},n}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(t,n){return e.call(this,t,n)||this}),e)}(i.h);var _e=function(e){function t(t,n,r){var a=e.call(this,t,n,r)||this,i=r.data,o=i.member_count,s=void 0===o?null:o,c=i.joined_member_count,l=void 0===c?null:c;return a.memberCount=s,a.joinedMemberCount=l,a.member=new O(a._iid,r.data),a}return(0,i._)(t,e),t}(h),ye=function(e){function t(t){var n=this,r=t.channelUrl,a=t.userIds;return(n=e.call(this)||this).method=i.A.POST,n.path="".concat(i.ad,"/").concat(encodeURIComponent(r),"/invite"),n.params={user_ids:a},n}return(0,i._)(t,e),t}(i.f),ge=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.channel=new Ht(t,n),r}return(0,i._)(t,e),t}(i.h),ve=function(e){function t(t,n,r){var a=e.call(this,t,n,r)||this,o=r.data,s=o.member_count,c=void 0===s?null:s,l=o.joined_member_count,u=void 0===l?null:l,d=o.inviter,f=void 0===d?null:d,h=o.invitees,p=void 0===h?[]:h;return a.memberCount=c,a.joinedMemberCount=u,a.inviter=f?new i.U(t,f):null,a.invitees=p.map((function(e){return new O(t,e)})),a}return(0,i._)(t,e),t}(h),be=function(e){function t(t){var n=this,r=t.channelUrl,a=t.userId;return(n=e.call(this)||this).method=i.A.PUT,n.path="".concat(i.ad,"/").concat(encodeURIComponent(r),"/decline"),n.params={user_id:a},n}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(t,n){var r=e.call(this,t,n)||this;return r.channel=new Ht(t,n),r.channel.myMemberState=u.NONE,r}),e)}(i.h);var we=function(e){function t(t,n,r){var a=e.call(this,t,n,r)||this,o=r.data,s=o.member_count,c=void 0===s?null:s,l=o.joined_member_count,u=void 0===l?null:l,d=o.inviter,f=void 0===d?null:d,h=o.invitee,p=void 0===h?null:h;return a.memberCount=c,a.joinedMemberCount=u,a.inviter=f?new i.U(t,f):null,a.invitee=p?new O(t,p):null,a}return(0,i._)(t,e),t}(h),ke=function(e){function t(t){var n=t.channelUrl;return e.call(this,{code:"READ",ackRequired:!0,payload:{channel_url:n}})||this}return(0,i._)(t,e),t}(i.a6),Ee=function(e){function t(t,n,r){var a=e.call(this,t,"READ",r)||this;return a.readStatus=new A(t,r),a}return(0,i._)(t,e),t}(i.W),Se=function(e){function t(t){var n=t.channelUrl,r=t.userId,a=e.call(this)||this;return(a=e.call(this)||this).method=i.A.PUT,a.path="".concat(i.ad,"/").concat(encodeURIComponent(n),"/messages/mark_as_delivered"),a.params=(0,i.e)({userId:r}),a}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(i.h);var Ce,Te=function(e){function t(t,n,r){var a=e.call(this,t,"DLVR",r)||this;return a.channelUrl=r.channel_url,a.deliveredStateUpdate=r.updated,a}return(0,i._)(t,e),t}(i.W),Ie=function(e){function t(t){var n=this,r=t.channelUrl,a=t.userId,o=t.hidePreviousMessages,s=t.allowAutoUnhide;return(n=e.call(this)||this).method=i.A.PUT,n.path="".concat(i.ad,"/").concat(encodeURIComponent(r),"/hide"),n.params={user_id:a,hide_previous_messages:o,allow_auto_unhide:s},n}return(0,i._)(t,e),t}(i.f),Me=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.messageOffsetTimestamp=null;var a=n.ts_message_offset;return r.messageOffsetTimestamp=null!=a?a:null,r}return(0,i._)(t,e),t}(i.h),Oe=function(e){function t(t,n,r){var a=e.call(this,t,"SYEV",r)||this;return a.allowAutoUnhide=null,a.hidePreviousMessages=null,a.messageOffsetTimestamp=null,r.data&&(a.allowAutoUnhide=r.data.allow_auto_unhide,a.hidePreviousMessages=r.data.hide_previous_messages),a.messageOffsetTimestamp=r.ts_message_offset,a}return(0,i._)(t,e),t}(i.W),Ae=function(e){function t(t){var n=t.channelUrl,r=t.time;return e.call(this,{code:"TPST",ackRequired:!1,payload:{channel_url:n,time:r}})||this}return(0,i._)(t,e),t}(i.a6),Ne=function(e){function t(t,n,r){var a=e.call(this,t,"SYEV",r)||this;return a.user=new i.U(t,r.data),a}return(0,i._)(t,e),t}(i.W),Pe=function(e){function t(t){var n=t.channelUrl,r=t.time;return e.call(this,{code:"TPEN",ackRequired:!1,payload:{channel_url:n,time:r}})||this}return(0,i._)(t,e),t}(i.a6),xe=function(e){function t(t,n,r){var a=e.call(this,t,"SYEV",r)||this;return a.user=new i.U(t,r.data),a}return(0,i._)(t,e),t}(i.W),De=function(e){function t(t){var n=t.channelUrl,r=t.messageId;return e.call(this,{code:"MACK",ackRequired:!1,payload:{channel_url:n,msg_id:r}})||this}return(0,i._)(t,e),t}(i.a6),Ue=function(e){function t(t,n){var r,a,i,o,c,l,u,d,f,h,p,m,_,y,g,v,b,T,M,O,A,N,P=this;return(P=e.call(this,t,n)||this).includeEmpty=!1,P.includeFrozen=!0,P.includeMetaData=!0,P.channelUrlsFilter=null,P.customTypesFilter=null,P.customTypeStartsWithFilter=null,P.nicknameContainsFilter=null,P.nicknameStartsWithFilter=null,P.nicknameExactMatchFilter=null,P.channelNameContainsFilter="",P.myMemberStateFilter=k.ALL,P.unreadChannelFilter=S.ALL,P.superChannelFilter=E.ALL,P.publicChannelFilter=w.ALL,P.hiddenChannelFilter=C.UNHIDDEN,P.searchFilter={fields:[],query:null},P.userIdsFilter={userIds:[],includeMode:!0,queryType:I.AND},P.metadataKey=null,P.metadataValues=null,P.metadataOrderKeyFilter=null,P.metadataValueStartsWith=null,P.order=s.G.LATEST_LAST_MESSAGE,P.includeEmpty=null!==(r=n.includeEmpty)&&void 0!==r&&r,P.includeFrozen=null===(a=n.includeFrozen)||void 0===a||a,P.includeMetaData=null===(i=n.includeMetaData)||void 0===i||i,P.channelUrlsFilter=null!==(o=n.channelUrlsFilter)&&void 0!==o?o:null,P.customTypesFilter=null!==(c=n.customTypesFilter)&&void 0!==c?c:null,P.customTypeStartsWithFilter=null!==(l=n.customTypeStartsWithFilter)&&void 0!==l?l:"",P.nicknameContainsFilter=null!==(u=n.nicknameContainsFilter)&&void 0!==u?u:null,P.nicknameStartsWithFilter=null!==(d=n.nicknameStartsWithFilter)&&void 0!==d?d:null,P.nicknameExactMatchFilter=null!==(f=n.nicknameExactMatchFilter)&&void 0!==f?f:null,P.channelNameContainsFilter=null!==(h=n.channelNameContainsFilter)&&void 0!==h?h:"",P.myMemberStateFilter=null!==(p=n.myMemberStateFilter)&&void 0!==p?p:k.ALL,P.unreadChannelFilter=null!==(m=n.unreadChannelFilter)&&void 0!==m?m:S.ALL,P.superChannelFilter=null!==(_=n.superChannelFilter)&&void 0!==_?_:E.ALL,P.publicChannelFilter=null!==(y=n.publicChannelFilter)&&void 0!==y?y:w.ALL,P.hiddenChannelFilter=null!==(g=n.hiddenChannelFilter)&&void 0!==g?g:C.UNHIDDEN,P.searchFilter=null!==(v=n.searchFilter)&&void 0!==v?v:{fields:[],query:null},P.userIdsFilter=null!==(b=n.userIdsFilter)&&void 0!==b?b:{userIds:[],includeMode:!0,queryType:I.AND},P.metadataKey=null!==(T=n.metadataKey)&&void 0!==T?T:null,P.metadataValues=null!==(M=n.metadataValues)&&void 0!==M?M:null,P.metadataOrderKeyFilter=null!==(O=n.metadataOrderKeyFilter)&&void 0!==O?O:null,P.metadataValueStartsWith=null!==(A=n.metadataValueStartsWith)&&void 0!==A?A:null,P.order=null!==(N=n.order)&&void 0!==N?N:s.G.LATEST_LAST_MESSAGE,P}return(0,i._)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,i.a)("boolean",this.includeEmpty)&&(0,i.a)("boolean",this.includeFrozen)&&(0,i.a)("boolean",this.includeMetaData)&&(0,i.a)("string",this.channelNameContainsFilter)&&(0,i.l)("string",this.channelUrlsFilter,!0)&&(0,i.l)("string",this.customTypesFilter,!0)&&(0,i.a)("string",this.customTypeStartsWithFilter)&&(0,i.a)("string",this.nicknameContainsFilter,!0)&&(0,i.a)("string",this.nicknameStartsWithFilter,!0)&&(0,i.a)("string",this.nicknameExactMatchFilter,!0)&&(0,i.I)(k,this.myMemberStateFilter)&&(0,i.I)(E,this.superChannelFilter)&&(0,i.I)(w,this.publicChannelFilter)&&(0,i.I)(S,this.unreadChannelFilter)&&(0,i.I)(C,this.hiddenChannelFilter)&&(0,i.l)(M,this.searchFilter.fields)&&(0,i.a)("string",this.searchFilter.query,!0)&&(0,i.l)("string",this.userIdsFilter.userIds)&&(0,i.a)("boolean",this.userIdsFilter.includeMode)&&(0,i.I)(I,this.userIdsFilter.queryType)&&(0,i.I)(s.G,this.order)&&(0,i.a)("string",this.metadataOrderKeyFilter,!0)&&(0,i.a)("string",this.metadataKey,!0)&&(0,i.l)("string",this.metadataValues,!0)&&(0,i.a)("string",this.metadataValueStartsWith,!0)},t.prototype.serialize=function(){return(0,i.$)(this)},t.prototype.next=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,je.of(this._iid).getMyGroupChannels(this._token,this,this.limit)]):[3,2]:[3,5];case 1:return e=r.sent(),t=e.channels,n=e.token,this._token=n,this._hasNext=!!n,this._isLoading=!1,[2,t];case 2:return[2,[]];case 3:throw i.S.queryInProgress;case 4:return[3,6];case 5:throw i.S.invalidParameters;case 6:return[2]}}))}))},t}(i.B),Le=function(){function e(e){var t=e.top,n=void 0===t?Number.MAX_SAFE_INTEGER:t,r=e.bottom,a=void 0===r?0:r;this.top=n,this.bottom=a}return e.prototype.includes=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.every((function(t){return e.top<=t&&t<=e.bottom}))},e.prototype.overlap=function(e){return this.includes(e.top)||this.includes(e.bottom)},e.prototype.intersect=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.some((function(t){return e.top<=t&&t<=e.bottom}))},e.prototype.extends=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.top=Math.min.apply(Math,(0,i.p)([this.top],(0,i.q)(e),!1)),this.bottom=Math.max.apply(Math,(0,i.p)([this.bottom],(0,i.q)(e),!1))},e}(),ze=function(e){function t(t,n,r){var a,o=this;return(o=e.call(this,t,"SYEV",r)||this).pinnedMessageIds=[],o.latestPinnedMessage=null,o.ts=0,r.data&&(o.pinnedMessageIds=null!==(a=r.data.pinned_message_ids)&&void 0!==a?a:[],o.latestPinnedMessage=r.data.latest_pinned_message?(0,c.p)(t,(0,i.g)({},r.data.latest_pinned_message)):null),o.ts=r.ts,o}return(0,i._)(t,e),t}(i.W),Re={},je=function(){function e(e,t){var n=t.sdkState,r=t.cacheContext,a=t.dispatcher,o=t.sessionManager,l=t.requestQueue,u=t.logger,d=t.disableMack,f=void 0!==d&&d,h=this;return this._leftChannels=new Map,this._disableMack=!1,this._markAsReadAllLastSentAt=0,Re[e]||(this._iid=e,this._sdkState=n,this._sessionManager=o,this._requestQueue=l,this._dispatcher=a,this._logger=u,this._disableMack=f,this._groupChannelHandlers=new Map,this._groupChannelCache=new x(this._iid,{sdkState:n,cacheContext:r}),this._unsentMessageCache=new s.j(this._iid,{sdkState:n,cacheContext:r}),this._messageCache=new s.i(this._iid,{sdkState:n,cacheContext:r,unsentMessageCache:this._unsentMessageCache}),this._groupChannelBroadcast=new V({groupChannelCache:this._groupChannelCache,messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:a}),this._messageBroadcast=new q({cacheContext:r,messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:a,logger:u}),setInterval((function(){var e,t,n=function(e){e.invalidateTypingStatus()&&(h._dispatcher.dispatch(new s.m({channels:[e],source:s.n.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),h._groupChannelHandlers.forEach((function(t){t.onTypingStatusUpdated(e)})))};try{for(var r=(0,i.H)(h._groupChannelCache.channels),a=r.next();!a.done;a=r.next())n(a.value)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}}),1e3),this._dispatcher.on((function(e){e instanceof i.W?h._handleEvent(e):e instanceof s.o?(0,i.b)(h,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return t=e.message,[4,this.getChannel(t.channelUrl,!0)];case 1:return n=r.sent(),t instanceof c.U?n._autoResendUserMessage(t):t instanceof c.F&&n._autoResendFileMessage(t),[2]}}))})):e instanceof s.R&&h.reduceDBSize()})),Re[e]=this),Re[e]}return e.of=function(e){return Re[e]},e.clear=function(e){Re[e]&&delete Re[e]},Object.defineProperty(e.prototype,"handlers",{get:function(){return(0,i.p)([],(0,i.q)(this._groupChannelHandlers.values()),!1)},enumerable:!1,configurable:!0}),e.prototype.buildGroupChannelFromSerializedData=function(e){var t=(0,i.s)(e);return new Ht(this._iid,Ht.payloadify(t))},e.prototype.buildGroupChannelListQueryFromSerializedData=function(e){var t=(0,i.s)(e);return new Ue(this._iid,t)},e.prototype.buildMemberFromSerializedData=function(e){var t=(0,i.s)(e);return new O(this._iid,O.payloadify(t))},e.prototype.getChannelFromCache=function(e){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){switch(t.label){case 0:return[4,this._groupChannelCache.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getChannelsFromCache=function(e,t,n,r){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(a){switch(a.label){case 0:return[4,this._groupChannelCache.fetch({token:e,filter:t,order:n,limit:r})];case 1:return[2,a.sent()]}}))}))},e.prototype.upsertChannelsToCache=function(e){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){switch(t.label){case 0:return[4,this._groupChannelCache.upsert(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.removeChannelsFromCache=function(e){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){switch(t.label){case 0:return[4,this._groupChannelCache.remove(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.clearChannelsFromCache=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return[4,this._groupChannelCache.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.reduceDBSize=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a,o,c,l,u,d,f,h,p,m;return(0,i.c)(this,(function(_){switch(_.label){case 0:return e=i.V.of(this._iid).cacheContext,t=e.localCacheConfig,n=e.nestdb,e.localCacheEnabled&&n&&n.state==s.k.OPENED?(r=1024*t.maxSize*1024,[4,n.estimateUsage()]):[2];case 1:if((a=_.sent())<r)return[2];o=[],c=this._groupChannelCache.channels,l={},h=0,_.label=2;case 2:return h<c.length?[4,this.getMessagesFromCache(c[h].url,0,"prev",new s.p)]:[3,5];case 3:u=_.sent(),l[c[h].url]=JSON.stringify(u).length,d=new i.N({channel:c[h],cachedMessageCount:u.length}),o.push(d),_.label=4;case 4:return h++,[3,2];case 5:f=o.sort(t.clearOrderComparator),h=0,_.label=6;case 6:return h<f.length?[4,this._messageCache.removeMessagesOfChannel(f[h].channel.url)]:[3,10];case 7:return _.sent(),[4,this._messageCache._getGroupChannelPreferenceSize(f[h].channel.url)];case 8:if(p=_.sent(),m=l[f[h].channel.url]+p,(a-=m)<r)return[3,10];_.label=9;case 9:return h++,[3,6];case 10:return[2]}}))}))},e.prototype._handleEvent=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,a,l,d,f,w,k,E,S,C,T,I,M,O,A,N,P,x,D,U,L,z,R,j,F,B,H,G,V,q,W,K,Q,Y,Z,J,X,$,ee,te,ne,re,ae,ie,oe,se,ce,le,ue,de,fe,he,me,ye,ge,be,ke,Se,Ce,Ie,Me,Ae,Pe,Ue,Le,Re,je,Fe,Be,He,Ge,Ve,qe,We,Ke,Qe,Ye,Ze,Je,Xe,$e,et,tt,nt,rt,at,it,ot,st,ct,lt,ut,dt,ft,ht,pt,mt,_t,yt,gt,vt,bt,wt,kt,Et,St,Ct,Tt,It,Mt,Ot,At,Nt,Pt,xt,Dt,Ut,Lt,zt,Ft,Bt,Ht,Gt,Vt,qt,Wt,Kt,Qt,Yt,Zt,Jt,Xt,$t,en,tn,nn=this;return(0,i.c)(this,(function(rn){switch(rn.label){case 0:switch(rn.trys.push([0,78,,79]),e.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"READ":return[3,10];case"DLVR":return[3,13];case"MRCT":return[3,15];case"MTHD":return[3,19];case"MCNT":return[3,23];case"PEDI":return[3,32];case"VOTE":return[3,34];case"SYEV":return[3,36];case"USEV":return[3,76]}return[3,77];case 1:return k=null,"MESG"===e.code?k=e.as(o.C):"FILE"===e.code?k=e.as(c.k):"ADMM"!==e.code&&"BRDM"!=e.code||(k=e.as(_)),k?(t=k.message,n=k.isMentioned,a=k.forceUpdateLastMessage,t.channelType!==i.M.GROUP?[3,3]:(this._disableMack||(0,i.G)((function(){return(0,i.b)(nn,void 0,void 0,(function(){var e;return(0,i.c)(this,(function(n){return e=new De(t),this._requestQueue.send(e),[2]}))}))})),R=this._groupChannelCache.isCachedInMemory(t.channelUrl),T=t instanceof c.S&&t.sender.userId===this._sdkState.userId,[4,this.getChannel(t.channelUrl,!0)])):[3,3];case 2:if((l=rn.sent()).hiddenState===jt.HIDDEN_ALLOW_AUTO_UNHIDE&&(l.hiddenState=jt.UNHIDDEN),t instanceof c.S){d=i.V.of(this._iid).useMemberInfoInMessage;try{for(f=(0,i.H)(l.members),w=f.next();!w.done;w=f.next())if((ot=w.value).userId===t.sender.userId){d||(t.sender.nickname=ot.nickname,t.sender.plainProfileUrl=ot.plainProfileUrl,t.sender.metaData=ot.metaData,t.sender.isBlockedByMe=ot.isBlockedByMe);break}}catch(e){Wt={error:e}}finally{try{w&&!w.done&&(Kt=f.return)&&Kt.call(f)}finally{if(Wt)throw Wt.error}}!d&&n&&t.mentionedUsers.forEach((function(e){var t,n;try{for(var r=(0,i.H)(l.members),a=r.next();!a.done;a=r.next()){var o=a.value;if(e.userId===o.userId){e.nickname=o.nickname,e.plainProfileUrl=o.plainProfileUrl,e.metaData=o.metaData;break}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}})),T&&(M=this._sessionManager.currentUser)&&(M.nickname=t.sender.nickname,M.plainProfileUrl=t.sender.plainProfileUrl,M.metaData=t.sender.metaData)}t.silent&&!T||(l.isEphemeral||R)&&((!l.lastMessage||l.lastMessage.createdAt<t.createdAt)&&(l.lastMessage=t),T||l._updateUnreadCount(l.unreadMessageCount+1,l.unreadMentionCount+(n?1:0))),a&&(!l.lastMessage||l.lastMessage.createdAt<t.createdAt)&&(l.lastMessage=t),this._dispatcher.dispatch(new s.m({channels:[l],source:s.n.EVENT_MESSAGE_RECEIVED})),t.silent&&!T||(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())t.value.onChannelChanged(l)}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]}))}))})),this._dispatcher.dispatch(new i.af({messages:[t],source:i.ae.EVENT_MESSAGE_RECEIVED})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,r,a,o,s;return(0,i.c)(this,(function(c){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),r=e.next();!r.done;r=e.next())(a=r.value).onMessageReceived(l,t),n&&a.onMentionReceived(l,t)}catch(e){o={error:e}}finally{try{r&&!r.done&&(s=e.return)&&s.call(e)}finally{if(o)throw o.error}}return[2]}))}))})),rn.label=3;case 3:return[3,77];case 4:return k=null,"MEDI"===e.code?k=e.as(o.z):"FEDI"===e.code?k=e.as(o.A):"AEDI"===e.code&&(k=e.as(y)),k?(E=k.message,S=k.mentionCountChange,E.channelType!==i.M.GROUP?[3,6]:(R=this._groupChannelCache.isCachedInMemory(E.channelUrl),[4,this.getChannel(E.channelUrl,!0)])):[3,6];case 5:C=rn.sent(),T=E instanceof c.S&&E.sender.userId===this._sdkState.userId,I=!1,T?(M=this._sessionManager.currentUser)&&(M.nickname=E.sender.nickname,M.plainProfileUrl=E.sender.plainProfileUrl,M.metaData=E.sender.metaData):C.isReadMessage(E)||0!==S&&!E.silent&&R&&(C._updateUnreadCount(C.unreadMessageCount,C.unreadMentionCount+S),I=!0),!C.lastMessage||C.lastMessage.createdAt<E.createdAt?(C.lastMessage=E,I=!0):C.lastMessage.isIdentical(E)&&(R?C.lastMessage.updatedAt<E.updatedAt&&(C.lastMessage=E,I=!0):I=!0),O=!1,C.lastPinnedMessage&&C.lastPinnedMessage.messageId===E.messageId&&(C.lastPinnedMessage=E,I=!0,O=!0),I&&(this._dispatcher.dispatch(new s.m({channels:[C],source:O?s.n.EVENT_PINNED_MESSAGE_UPDATED:s.n.EVENT_MESSAGE_UPDATED})),E.silent&&!T||(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())t.value.onChannelChanged(C)}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]}))}))})),O&&(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())t.value.onPinnedMessageUpdated(C)}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]}))}))}))),this._dispatcher.dispatch(new i.af({messages:[E],source:i.ae.EVENT_MESSAGE_UPDATED})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,t,n,r,a;return(0,i.c)(this,(function(o){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onMessageUpdated(C,E),0!==S&&n.onMentionReceived(C,E)}catch(e){r={error:e}}finally{try{t&&!t.done&&(a=e.return)&&a.call(e)}finally{if(r)throw r.error}}return[2]}))}))})),rn.label=6;case 6:return[3,77];case 7:return A=e.as(o.y),se=A.channelUrl,ce=A.channelType,N=A.messageId,ce!==i.M.GROUP?[3,9]:[4,this.getChannel(se,!0)];case 8:P=rn.sent(),this._dispatcher.dispatch(new i.ag({messageIds:[N],source:i.ae.EVENT_MESSAGE_DELETED})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())t.value.onMessageDeleted(P,N)}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]}))}))})),rn.label=9;case 9:return[3,77];case 10:return(x=e.as(Ee).readStatus).channelType!==i.M.GROUP?[3,12]:(R=this._groupChannelCache.isCachedInMemory(x.channelUrl),[4,this.getChannel(x.channelUrl,!0)]);case 11:D=rn.sent(),R&&D._updateUnreadMemberState(x.reader.userId,x.readAt),x.reader.userId===this._sdkState.userId?R?(D.unreadMessageCount>0||D.unreadMentionCount>0)&&(D._updateUnreadCount(0,0),this._dispatcher.dispatch(new s.m({channels:[D],source:s.n.EVENT_CHANNEL_READ})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())t.value.onChannelChanged(D)}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]}))}))}))):0!==D.unreadMessageCount&&0!==D.unreadMentionCount||(this._dispatcher.dispatch(new s.m({channels:[D],source:s.n.EVENT_CHANNEL_READ})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())t.value.onChannelChanged(D)}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]}))}))}))):(this._dispatcher.dispatch(new s.m({channels:[D],source:s.n.EVENT_CHANNEL_READ})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())t.value.onUnreadMemberStatusUpdated(D)}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]}))}))}))),rn.label=12;case 12:return[3,77];case 13:return U=e.as(Te),se=U.channelUrl,L=U.deliveredStateUpdate,z=void 0===L?{}:L,R=this._groupChannelCache.isCachedInMemory(se),[4,this.getChannel(se,!0)];case 14:if(j=rn.sent(),R)for(F in z)j._updateUndeliveredMemberState(F,z[F]);return Object.keys(z).some((function(e){return e!==nn._sdkState.userId}))&&(this._dispatcher.dispatch(new s.m({channels:[j],source:s.n.EVENT_CHANNEL_DELIVERED})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())t.value.onUndeliveredMemberStatusUpdated(j)}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]}))}))}))),[3,77];case 15:return B=e.as(g),se=B.channelUrl,ce=B.channelType,H=B.event,ce!==i.M.GROUP?[3,18]:[4,this.getChannel(se,!0)];case 16:return G=rn.sent(),[4,this.getMessageFromCache(H.messageId)];case 17:(W=rn.sent())&&(W.applyReactionEvent(H),this._dispatcher.dispatch(new i.af({messages:[W],source:i.ae.EVENT_MESSAGE_REACTION_UPDATED}))),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())t.value.onReactionUpdated(G,H)}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]}))}))})),rn.label=18;case 18:return[3,77];case 19:return(V=e.as(v).event).channelType!==i.M.GROUP?[3,22]:[4,this.getChannel(V.channelUrl,!0)];case 20:return q=rn.sent(),[4,this.getMessageFromCache(V.targetMessageId)];case 21:(W=rn.sent())&&(W.applyThreadInfoUpdateEvent(V),this._dispatcher.dispatch(new i.af({messages:[W],source:i.ae.EVENT_MESSAGE_THREADINFO_UPDATED}))),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())t.value.onThreadInfoUpdated(q,V)}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]}))}))})),rn.label=22;case 22:return[3,77];case 23:K=e.as(m).groupChannelMemberCounts,Q=[],rn.label=24;case 24:rn.trys.push([24,29,30,31]),Y=(0,i.H)(K),Z=Y.next(),rn.label=25;case 25:return Z.done?[3,28]:(J=Z.value,se=J.channelUrl,Qe=J.memberCount,Ye=J.joinedMemberCount,X=J.updatedAt,[4,this.getChannelFromCache(se)]);case 26:($=rn.sent())&&$._setLatestMemberCount(Qe,Ye,X)&&Q.push($),rn.label=27;case 27:return Z=Y.next(),[3,25];case 28:return[3,31];case 29:return ee=rn.sent(),Qt={error:ee},[3,31];case 30:try{Z&&!Z.done&&(Yt=Y.return)&&Yt.call(Y)}finally{if(Qt)throw Qt.error}return[7];case 31:return Q.length>0&&(this._dispatcher.dispatch(new s.m({channels:Q,source:s.n.EVENT_CHANNEL_MEMBER_COUNT_UPDATED})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())t.value.onChannelMemberCountChanged(Q)}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]}))}))}))),[3,77];case 32:return te=e.as(b),ne=te.event,re=te.status,se=te.channelUrl,ce=te.channelType,se&&ce?[4,this.getChannel(se,!0)]:[3,77];case 33:return ae=rn.sent(),this._dispatcher.dispatch(new i.aB({event:ne,source:i.ae.EVENT_POLL_UPDATED})),(0,i.x)(re===i.aF?function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())t.value.onPollDeleted(ae,ne.pollId)}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]}))}))}:function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())t.value.onPollUpdated(ae,ne)}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]}))}))}),[3,77];case 34:return ie=e.as(o.P),oe=ie.event,se=ie.channelUrl,ce=ie.channelType,se&&ce?[4,this.getChannel(se,!0)]:[3,77];case 35:return le=rn.sent(),this._dispatcher.dispatch(new i.az({event:oe,source:i.ae.EVENT_POLL_VOTED})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())t.value.onPollVoted(le,oe)}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]}))}))})),[3,77];case 36:if(!(ue=e.as(h).event).isGroupChannelEvent)return[3,75];switch(ue.category){case r.CHANNEL_JOIN:return[3,37];case r.CHANNEL_LEAVE:return[3,39];case r.CHANNEL_OPERATOR_UPDATE:return[3,43];case r.CHANNEL_INVITE:return[3,45];case r.CHANNEL_DECLINE_INVITE:return[3,47];case r.TYPING_START:case r.TYPING_END:return[3,49];case r.USER_CHANNEL_MUTE:case r.USER_CHANNEL_UNMUTE:return[3,51];case r.USER_CHANNEL_BAN:return[3,53];case r.USER_CHANNEL_UNBAN:return[3,57];case r.CHANNEL_FREEZE:case r.CHANNEL_UNFREEZE:return[3,59];case r.CHANNEL_HIDE:return[3,61];case r.CHANNEL_UNHIDE:return[3,63];case r.CHANNEL_DELETED:return[3,65];case r.CHANNEL_PROP_CHANGED:return[3,67];case r.CHANNEL_META_DATA_CHANGED:return[3,69];case r.CHANNEL_META_COUNTERS_CHANGED:return[3,71];case r.PINNED_MESSAGE_CHANGED:return[3,73]}return[3,75];case 37:return[4,this.getChannel(ue.channelUrl,!0)];case 38:return de=rn.sent(),fe=e.as(pe),he=fe.memberCount,me=fe.joinedMemberCount,ye=fe.members,ge=!1,ye.forEach((function(e){de.isExclusive||de.isSuper||de.isBroadcast?ge=ge||de._setLatestMemberCount(he,me,ue.ts):(e.state=u.JOINED,de.addMember(e,ue.ts),nn._updateJoinedMemberCount(de)),e.userId===nn._sdkState.userId&&(de.myMemberState=u.JOINED)})),this._dispatcher.dispatch(new s.m({channels:[de],source:s.n.EVENT_CHANNEL_JOINED})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){var t,n;try{for(var r=(0,i.H)(ye),a=r.next();!a.done;a=r.next()){var o=a.value;e.onUserJoined(de,o)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}de.isBroadcast&&ge&&e.onChannelMemberCountChanged([de])})),[2]}))}))})),[3,75];case 39:return(st=this._leftChannels.get(ue.channelUrl))?(ke=st.channel,[3,42]):[3,40];case 40:return[4,this.getChannel(ue.channelUrl,!0)];case 41:ke=rn.sent(),rn.label=42;case 42:return be=ke,Se=e.as(_e),Qe=Se.memberCount,Ye=Se.joinedMemberCount,Ce=Se.member,Ie=!1,Me=i.V.of(this._iid).appInfo,be.isExclusive||be.isSuper||be.isBroadcast?Ie=be._setLatestMemberCount(Qe,Ye,ue.ts):(Me.enabledChannelMemberShipHistory?(be.members.find((function(e){return e.userId===Ce.userId})).state=u.LEFT,be.memberCount=Qe):be.removeMember(Ce),this._updateJoinedMemberCount(be)),Ce.userId===this._sdkState.userId?(be.myMemberState=u.NONE,be.invitedAt=0,be.joinedAt=0,be._updateUnreadCount(0,0),be.isPublic?this._dispatcher.dispatch(new s.m({channels:[be],source:s.n.EVENT_CHANNEL_LEFT})):(this._markAsLeave(be),this._dispatcher.dispatch(new s.l({channelUrls:[be.url],source:s.n.EVENT_CHANNEL_LEFT})))):this._dispatcher.dispatch(new s.m({channels:[be],source:s.n.EVENT_CHANNEL_LEFT})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onUserLeft(be,Ce),be.isBroadcast&&Ie&&e.onChannelMemberCountChanged([be])})),[2]}))}))})),[3,75];case 43:return[4,this.getChannel(ue.channelUrl,!0)];case 44:Ae=rn.sent(),Pe=e.as(p).operators,Ue=Pe.map((function(e){return e.userId}));try{for(Le=(0,i.H)(Ae.members),Re=Le.next();!Re.done;Re=Le.next())(ot=Re.value).role=Ue.includes(ot.userId)?i.R.OPERATOR:i.R.NONE}catch(e){Zt={error:e}}finally{try{Re&&!Re.done&&(Jt=Le.return)&&Jt.call(Le)}finally{if(Zt)throw Zt.error}}return Ae.myRole=Ue.includes(this._sdkState.userId)?i.R.OPERATOR:i.R.NONE,this._dispatcher.dispatch(new s.m({channels:[Ae],source:s.n.EVENT_CHANNEL_OPERATOR_UPDATED})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onOperatorUpdated(Ae,Pe)})),[2]}))}))})),[3,75];case 45:return[4,this.getChannel(ue.channelUrl,!0)];case 46:je=rn.sent(),Fe=e.as(ve),Qe=Fe.memberCount,Ye=Fe.joinedMemberCount,Be=Fe.inviter,(He=Fe.invitees).forEach((function(e){return e.state=u.INVITED}));try{for(Ge=(0,i.H)(He),Ve=Ge.next();!Ve.done;Ve=Ge.next())qe=Ve.value,je.isExclusive||je.isSuper||je.isBroadcast?je._setLatestMemberCount(Qe,Ye,ue.ts):je.addMember(qe,ue.ts),this._sdkState.userId===qe.userId&&(je.hiddenState=jt.UNHIDDEN,je.myMemberState!==u.JOINED&&(je.myMemberState=u.INVITED),je.invitedAt=ue.ts)}catch(e){Xt={error:e}}finally{try{Ve&&!Ve.done&&($t=Ge.return)&&$t.call(Ge)}finally{if(Xt)throw Xt.error}}return this._dispatcher.dispatch(new s.m({channels:[je],source:s.n.EVENT_CHANNEL_INVITED})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onUserReceivedInvitation(je,Be,He)})),[2]}))}))})),[3,75];case 47:return[4,this.getChannel(ue.channelUrl,!0)];case 48:return We=rn.sent(),Ke=e.as(we),Qe=Ke.memberCount,Ye=Ke.joinedMemberCount,Ze=Ke.inviter,Je=Ke.invitee,We.isExclusive||We.isSuper||We.isBroadcast?We._setLatestMemberCount(Qe,Ye,ue.ts):We.removeMember(Je),this._sdkState.userId===Je.userId?(We.invitedAt=0,We.myMemberState=u.NONE,We.isPublic?this._dispatcher.dispatch(new s.m({channels:[We],source:s.n.EVENT_CHANNEL_DECLINED_INVITE})):this._dispatcher.dispatch(new s.l({channelUrls:[We.url],source:s.n.EVENT_CHANNEL_DECLINED_INVITE}))):this._dispatcher.dispatch(new s.m({channels:[We],source:s.n.EVENT_CHANNEL_DECLINED_INVITE})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onUserDeclinedInvitation(We,Ze,Je)})),[2]}))}))})),[3,75];case 49:return[4,this.getChannel(ue.channelUrl,!0)];case 50:return Xe=rn.sent(),$e=ue.category===r.TYPING_START,et=e.as($e?Ne:xe).user,Xe._updateTypingStatus(et,$e?ue.ts:0),this._dispatcher.dispatch(new s.m({channels:[Xe],source:s.n.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onTypingStatusUpdated(Xe)})),[2]}))}))})),[3,75];case 51:return[4,this.getChannel(ue.channelUrl,!0)];case 52:tt=rn.sent(),nt=ue.category===r.USER_CHANNEL_MUTE,(rt=e.as(nt?o.w:o.x).user).userId===this._sdkState.userId&&(tt.myMutedState=nt?Rt.MUTED:Rt.UNMUTED,tt._myMutedRemainingTime=rt.restrictionInfo.remainingDuration);try{for(at=(0,i.H)(tt.members),it=at.next();!it.done;it=at.next())if((ot=it.value).userId===rt.userId){ot.isMuted=nt;break}}catch(e){en={error:e}}finally{try{it&&!it.done&&(tn=at.return)&&tn.call(at)}finally{if(en)throw en.error}}return this._dispatcher.dispatch(new s.m({channels:[tt],source:nt?s.n.EVENT_CHANNEL_MUTED:s.n.EVENT_CHANNEL_UNMUTED,data:rt.userId})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){nt?e.onUserMuted(tt,rt):e.onUserUnmuted(tt,rt)})),[2]}))}))})),[3,75];case 53:return(st=this._leftChannels.get(ue.channelUrl))?(lt=st.channel,[3,56]):[3,54];case 54:return[4,this.getChannel(ue.channelUrl,!0)];case 55:lt=rn.sent(),rn.label=56;case 56:return ct=lt,this._markAsLeave(ct),ut=e.as(o.u).user,(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onUserBanned(ct,ut)})),[2]}))}))})),[3,75];case 57:return[4,this.getChannel(ue.channelUrl,!0)];case 58:return dt=rn.sent(),ft=e.as(o.t).user,(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onUserUnbanned(dt,ft)})),[2]}))}))})),[3,75];case 59:return[4,this.getChannel(ue.channelUrl,!0)];case 60:return ht=rn.sent(),pt=e.as(o.r).freeze,ht.isFrozen=pt,this._dispatcher.dispatch(new s.m({channels:[ht],source:pt?s.n.EVENT_CHANNEL_FROZEN:s.n.EVENT_CHANNEL_UNFROZEN})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){pt?e.onChannelFrozen(ht):e.onChannelUnfrozen(ht)})),[2]}))}))})),[3,75];case 61:return[4,this.getChannel(ue.channelUrl,!0)];case 62:return mt=rn.sent(),_t=e.as(Oe),yt=_t.allowAutoUnhide,gt=_t.hidePreviousMessages,vt=_t.messageOffsetTimestamp,null!==yt&&(mt.hiddenState=yt?jt.HIDDEN_ALLOW_AUTO_UNHIDE:jt.HIDDEN_PREVENT_AUTO_UNHIDE),null!==gt&&gt&&mt._updateUnreadCount(0,0),null!==vt&&(mt.messageOffsetTimestamp=vt),this._dispatcher.dispatch(new s.m({channels:[mt],source:s.n.EVENT_CHANNEL_HIDDEN})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onChannelHidden(mt)})),[2]}))}))})),[3,75];case 63:return[4,this.getChannel(ue.channelUrl,!0)];case 64:return(bt=rn.sent()).hiddenState=jt.UNHIDDEN,this._dispatcher.dispatch(new s.m({channels:[bt],source:s.n.EVENT_CHANNEL_UNHIDDEN})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onChannelChanged(bt)})),[2]}))}))})),[3,75];case 65:return[4,this.getChannel(ue.channelUrl,!0)];case 66:return wt=rn.sent(),this._dispatcher.dispatch(new s.l({channelUrls:[ue.channelUrl],source:s.n.EVENT_CHANNEL_DELETED})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onChannelDeleted(wt.url,wt.channelType)})),[2]}))}))})),[3,75];case 67:return[4,this.getChannelWithoutCache(ue.channelUrl,!0)];case 68:return kt=rn.sent(),this._dispatcher.dispatch(new s.m({channels:[kt],source:s.n.EVENT_CHANNEL_UPDATED})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onChannelChanged(kt)})),[2]}))}))})),[3,75];case 69:return[4,this.getChannel(ue.channelUrl,!0)];case 70:return Et=rn.sent(),St=e.as(o.q),Ct=St.created,Tt=St.updated,It=St.deleted,Ct&&Et._upsertCachedMetaData(Ct,ue.ts),Tt&&Et._upsertCachedMetaData(Tt,ue.ts),It&&Et._removeFromCachedMetaData(It,ue.ts),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){Ct&&e.onMetaDataCreated(Et,Ct),Tt&&e.onMetaDataUpdated(Et,Tt),It&&e.onMetaDataDeleted(Et,It)})),[2]}))}))})),[3,75];case 71:return[4,this.getChannel(ue.channelUrl,!0)];case 72:return Mt=rn.sent(),Ot=e.as(o.p),At=Ot.created,Nt=Ot.updated,Pt=Ot.deleted,(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){At&&e.onMetaCounterCreated(Mt,At),Nt&&e.onMetaCounterUpdated(Mt,Nt),Pt&&e.onMetaCounterDeleted(Mt,Pt)})),[2]}))}))})),[3,75];case 73:return[4,this.getChannel(ue.channelUrl,!0)];case 74:return xt=rn.sent(),Dt=e.as(ze),Ut=Dt.pinnedMessageIds,Lt=Dt.latestPinnedMessage,(zt=Dt.ts)>xt._pinnedMessagesUpdatedAt&&(xt.pinnedMessageIds=Ut,xt.lastPinnedMessage=Lt,xt._pinnedMessagesUpdatedAt=zt,this._dispatcher.dispatch(new s.m({channels:[xt],source:s.n.EVENT_PINNED_MESSAGE_UPDATED})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){try{for(e=(0,i.H)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())t.value.onChannelChanged(xt)}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]}))}))})),(0,i.x)((function(){return(0,i.b)(nn,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onPinnedMessageUpdated(xt)})),[2]}))}))}))),[3,75];case 75:return[3,77];case 76:switch((Ft=e.as(s.U).event).category){case s.e.USER_BLOCK:Bt=s.f.getDataAsUserBlockEvent(this._iid,Ft),Gt=Bt.blocker,Vt=Bt.blockee,this._groupChannelCache.block(Gt.userId,Vt.userId);break;case s.e.USER_UNBLOCK:Ht=s.f.getDataAsUserBlockEvent(this._iid,Ft),Gt=Ht.blocker,Vt=Ht.blockee,this._groupChannelCache.unblock(Gt.userId,Vt.userId)}return[3,77];case 77:return[3,79];case 78:if(qt=rn.sent(),(0,i.ay)(qt))throw qt;return[3,79];case 79:return[2]}}))}))},e.prototype._markAsLeave=function(e){var t,n=this,r=null!==(t=this._leftChannels.get(e.url))&&void 0!==t?t:{channel:e,ref:0};r.ref++,this._leftChannels.set(e.url,r),setTimeout((function(){r.ref--,0===r.ref&&n._leftChannels.delete(e.url)}),1e4)},e.prototype.addHandler=function(e,t){this._groupChannelHandlers.set(e,t)},e.prototype.removeHandler=function(e){this._groupChannelHandlers.delete(e)},e.prototype.clearHandler=function(){this._groupChannelHandlers.clear()},e.prototype.subscribeGroupChannelEvent=function(e,t){this._groupChannelBroadcast.subscribe(e,t)},e.prototype.unsubscribeGroupChannelEvent=function(e){this._groupChannelBroadcast.unsubscribe(e)},e.prototype.subscribeMessageEvent=function(e,t){this._messageBroadcast.subscribe(e,t)},e.prototype.unsubscribeMessageEvent=function(e){this._messageBroadcast.unsubscribe(e)},e.prototype._updateJoinedMemberCount=function(e){e.joinedMemberCount=e.members.filter((function(e){return e.state===u.JOINED})).length},e.prototype.getChannel=function(e,t){return void 0===t&&(t=!1),(0,i.b)(this,void 0,void 0,(function(){var n;return(0,i.c)(this,(function(r){switch(r.label){case 0:(0,i.r)((0,i.a)("string",e)).throw(i.S.invalidParameters),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.getChannelFromCache(e)];case 2:return(n=r.sent())?[2,n]:[3,4];case 3:return r.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(e,t)];case 5:return[2,r.sent()]}}))}))},e.prototype.getChannelWithoutCache=function(e,t){return void 0===t&&(t=!1),(0,i.b)(this,void 0,void 0,(function(){var n,r,a,o,s;return(0,i.c)(this,(function(c){switch(c.label){case 0:return(0,i.r)((0,i.a)("string",e)).throw(i.S.invalidParameters),n=new Q({channelUrl:e,isInternalCall:t}),[4,this._requestQueue.send(n)];case 1:switch(r=c.sent(),a=r.as(Y).channel,o=a.unreadMessageCount,s=a.unreadMentionCount,a.myCountPreference){case zt.UNREAD_MESSAGE_COUNT_ONLY:s=0;break;case zt.UNREAD_MENTION_COUNT_ONLY:o=0;break;case zt.OFF:o=0,s=0}return a._updateUnreadCount(o,s),[4,this.upsertChannelsToCache([a])];case 2:return c.sent(),[2,a]}}))}))},e.prototype.refreshChannel=function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=s.n.REFRESH_CHANNEL),(0,i.b)(this,void 0,void 0,(function(){var r,a,o,c;return(0,i.c)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),r=new Q({channelUrl:e,isInternalCall:t}),[4,this._requestQueue.send(r)];case 1:return a=l.sent(),(o=a.as(Y).channel).myMemberState===u.NONE?this._dispatcher.dispatch(new s.l({channelUrls:[o.url],source:n})):this._dispatcher.dispatch(new s.m({channels:[o],source:n})),[3,3];case 2:return(c=l.sent()).code!==i.a9.NON_AUTHORIZED&&c.code!==i.a9.NOT_FOUND_IN_DATABASE||this._dispatcher.dispatch(new s.l({channelUrls:[e],source:n})),[3,3];case 3:return[2]}}))}))},e.prototype.getMyGroupChannels=function(e,t,n,r){return void 0===r&&(r=s.n.REQUEST_CHANNEL),(0,i.b)(this,void 0,void 0,(function(){var a,o,c,l,u;return(0,i.c)(this,(function(d){switch(d.label){case 0:return a=new Z((0,i.g)((0,i.g)({},t),{userId:this._sdkState.userId,token:e,limit:n})),[4,this._requestQueue.send(a)];case 1:return o=d.sent(),c=o.as(J),l=c.channels,u=c.token,this._dispatcher.dispatch(new s.m({channels:l,source:r})),[2,{channels:l,token:u}]}}))}))},e.prototype.getMessageFromCache=function(e){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){switch(t.label){case 0:return[4,this._messageCache.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getMessagesFromCache=function(e,t,n,r,a){return void 0===a&&(a=o.D),(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(i){switch(i.label){case 0:return[4,this._messageCache.fetch({channelUrl:e,token:t,limit:a,filter:r,backward:"next"===n})];case 1:return[2,i.sent()]}}))}))},e.prototype.getPollMessagesFromCache=function(e,t,n,r){return void 0===r&&(r=o.D),(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(a){switch(a.label){case 0:return[4,this._messageCache.fetch({channelUrl:e,token:t,limit:r,filter:n,backward:!1,isPollOnly:!0})];case 1:return[2,a.sent()]}}))}))},e.prototype.getUnsentMessagesFromCache=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(n){switch(n.label){case 0:return[4,this._unsentMessageCache.fetch({channelUrl:e,filter:t})];case 1:return[2,n.sent()]}}))}))},e.prototype.removeFailedMessageFromCache=function(e){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){switch(t.label){case 0:return[4,this._unsentMessageCache.remove([e])];case 1:return t.sent(),[2]}}))}))},e.prototype.getCachedMessageCountBetween=function(e,t,n,r){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(a){switch(a.label){case 0:return[4,this._messageCache.countBetween(e,t,new Le({top:n,bottom:r}))];case 1:return[2,a.sent()]}}))}))},e.prototype.getMyGroupChannelChangeLogs=function(e,t,n){return void 0===n&&(n=s.n.REQUEST_CHANNEL_CHANGELOGS),(0,i.b)(this,void 0,void 0,(function(){var r,a,o,c,l,u,d;return(0,i.c)(this,(function(f){switch(f.label){case 0:return r=(0,i.g)((0,i.g)({},L),t),(0,i.r)(((0,i.a)("string",e)||(0,i.a)("number",e))&&z(r)).throw(i.S.invalidParameters),a=new W((0,i.e)({userId:this._sdkState.userId,ts:"number"==typeof e?e:null,token:"string"==typeof e?e:null,filter:r})),[4,this._requestQueue.send(a)];case 1:return o=f.sent(),c=o.as(K),l=c.updatedChannels,u=c.deletedChannelUrls,d=c.hasMore,l.length>0&&this._dispatcher.dispatch(new s.m({channels:l,source:n})),u.length>0&&this._dispatcher.dispatch(new s.l({channelUrls:u,source:n})),[2,{updatedChannels:l,deletedChannelUrls:u,hasMore:d,token:c.token}]}}))}))},e.prototype.getGroupChannelCount=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return t=(0,i.g)((0,i.g)({},R),e),(0,i.r)(j(t)).throw(i.S.invalidParameters),n=new X({userId:this._sdkState.userId,filter:t}),[4,this._requestQueue.send(n)];case 1:return[2,r.sent().as($).groupChannelCount]}}))}))},e.prototype.getUnreadItemCount=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a,o,s,c,l,u,d,f,h,p,m,_,y;return(0,i.c)(this,(function(g){switch(g.label){case 0:return t=(0,i.g)((0,i.g)({},B),e),(0,i.r)(function(e){return(0,i.l)(N,e.keys)}(t)).throw(i.S.invalidParameters),n=i.V.of(this._iid),r=n.sdkState,a=n.requestQueue,o=new ee({userId:r.userId,filter:t}),[4,a.send(o)];case 1:return s=g.sent(),c=s.as(te),l=c.groupChannelUnreadMentionCount,u=c.groupChannelUnreadMessageCount,d=c.groupChannelInvitationCount,f=c.superGroupChannelUnreadMentionCount,h=c.superGroupChannelUnreadMessageCount,p=c.superGroupChannelInvitationCount,m=c.nonSuperGroupChannelUnreadMentionCount,_=c.nonSuperGroupChannelUnreadMessageCount,y=c.nonSuperGroupChannelInvitationCount,[2,(0,i.e)({groupChannelUnreadMentionCount:l,groupChannelUnreadMessageCount:u,groupChannelInvitationCount:d,superGroupChannelUnreadMentionCount:f,superGroupChannelUnreadMessageCount:h,superGroupChannelInvitationCount:p,nonSuperGroupChannelUnreadMentionCount:m,nonSuperGroupChannelUnreadMessageCount:_,nonSuperGroupChannelInvitationCount:y})]}}))}))},e.prototype.getTotalUnreadChannelCount=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:return e=i.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new ne({userId:t.userId}),[4,n.send(r)];case 1:return[2,a.sent().as(re).unreadCount]}}))}))},e.prototype.getTotalUnreadMessageCount=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a,o;return(0,i.c)(this,(function(s){switch(s.label){case 0:return t=(0,i.g)((0,i.g)({},H),e),(0,i.r)(function(e){return(0,i.l)("string",e.channelCustomTypesFilter,!0)&&(0,i.I)(E,e.superChannelFilter)}(t)).throw(i.S.invalidParameters),n=i.V.of(this._iid),r=n.sdkState,a=n.requestQueue,o=new ae({userId:r.userId,filter:t}),[4,a.send(o)];case 1:return[2,s.sent().as(ie).unreadCount]}}))}))},e.prototype.getTotalScheduledMessageCount=function(e){return void 0===e&&(e={}),(0,i.b)(this,void 0,void 0,(function(){var t,n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:return t=(0,i.g)((0,i.g)({},G),e),(0,i.r)(function(e){return(0,i.a)("string",e.channelUrl,!0)&&(0,i.l)(c.j,e.scheduledStatus,!0)&&(0,i.I)(i.a3,e.messageTypeFilter)}(t)).throw(i.S.invalidParameters),n=i.V.of(this._iid).requestQueue,r=new oe(t),[4,n.send(r)];case 1:return[2,a.sent().as(se).count]}}))}))},e.prototype.getSubscribedTotalUnreadMessageCount=function(){var e=i.V.of(this._iid).subscribedUnreadMessageCount;return e.all>=0?e.all:0},e.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){var e=0,t=i.V.of(this._iid).subscribedUnreadMessageCount;for(var n in t.customTypes)e+=t.customTypes[n];return e},e.prototype.getSubscribedCustomTypeUnreadMessageCount=function(e){var t;return null!==(t=i.V.of(this._iid).subscribedUnreadMessageCount.customTypes[e])&&void 0!==t?t:0},e.prototype.createChannel=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a;return(0,i.c)(this,(function(o){switch(o.label){case 0:return t=(0,i.g)((0,i.g)({},D),e),(0,i.r)(U(t)).throw(i.S.invalidParameters),t.isPublic||(t.accessCode=null),n=new le((0,i.g)({userId:this._sdkState.userId},t)),[4,this._requestQueue.send(n)];case 1:return r=o.sent(),a=r.as(ue).channel,[4,this.upsertChannelsToCache([a])];case 2:return o.sent(),[2,a]}}))}))},e.prototype.markAsReadAll=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a,o,s,c;return(0,i.c)(this,(function(l){switch(l.label){case 0:return e=Date.now(),(0,i.r)(e-this._markAsReadAllLastSentAt>=1e3).throw(i.S.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=e,t=new de({userId:this._sdkState.userId}),[4,this._requestQueue.send(t)];case 1:l.sent(),n=this._groupChannelCache.channels;try{for(r=(0,i.H)(n),a=r.next();!a.done;a=r.next())(o=a.value)._updateUnreadMemberState(this._sdkState.userId,e),o._updateUnreadCount(0,0)}catch(e){s={error:e}}finally{try{a&&!a.done&&(c=r.return)&&c.call(r)}finally{if(s)throw s.error}}return n.length>0?[4,this.upsertChannelsToCache(n)]:[3,3];case 2:l.sent(),l.label=3;case 3:return[2]}}))}))},e.prototype.markAsReadWithChannelUrls=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a,o,s,c,l,u;return(0,i.c)(this,(function(d){switch(d.label){case 0:return t=Date.now(),(0,i.r)((0,i.l)("string",e)&&t-this._markAsReadAllLastSentAt>=1e3).throw(i.S.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=t,n=new de({userId:this._sdkState.userId,channelUrls:e}),[4,this._requestQueue.send(n)];case 1:d.sent(),r=this._groupChannelCache.channels,a=[];try{for(o=(0,i.H)(r),s=o.next();!s.done;s=o.next())c=s.value,e.includes(c.url)&&(c._updateUnreadMemberState(this._sdkState.userId,t),c._updateUnreadCount(0,0),a.push(c))}catch(e){l={error:e}}finally{try{s&&!s.done&&(u=o.return)&&u.call(o)}finally{if(l)throw l.error}}return a.length>0?[4,this.upsertChannelsToCache(a)]:[3,3];case 2:d.sent(),d.label=3;case 3:return[2]}}))}))},e.prototype.markAsDelivered=function(e){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){switch(t.label){case 0:return[4,this.getChannel(e)];case 1:return[4,t.sent().markAsDelivered()];case 2:return t.sent(),[2]}}))}))},e}();!function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.END=2]="END"}(Ce||(Ce={}));var Fe,Be=function(e){function t(t,n,r,a){var i=e.call(this)||this;return i._worker=null,i._state=Ce.IDLE,i._semaphore=null,i._retryCount=0,i._retryLimit=3,i.priority=0,i._worker=n,i}return(0,i._)(t,e),Object.defineProperty(t.prototype,"isIdle",{get:function(){return this._state===Ce.IDLE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this._state===Ce.RUNNING},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDone",{get:function(){return this._state===Ce.END},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"retryCount",{get:function(){return this._retryCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"retryLimit",{get:function(){return this._retryLimit},enumerable:!1,configurable:!0}),t.prototype._run=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:if(!this.isRunning)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._worker(e)];case 2:return t=r.sent(),this._retryCount=0,this.dispatch("progress",t),t.hasNext?this._run(t.nextToken):this.end(),[3,4];case 3:return n=r.sent(),this.dispatch("error",n),this._retryCount<this._retryLimit?(this._retryCount++,this._run(e)):this.stop(),[3,4];case 4:return[2]}}))}))},t.prototype.start=function(e){this.isIdle&&(this._state=Ce.RUNNING,this._run(e))},t.prototype.stop=function(){this._state=Ce.IDLE,this.dispatch("stop")},t.prototype.end=function(){this._state=Ce.END,this.dispatch("end")},t}(i.E),He=function(e){this.source=e},Ge=function(e){this.source=e},Ve={},qe=function(){function e(e){var t=e._iid,n=e.channel,r=e.limit,a=void 0===r?100:r,o=this;this._prevSync=null,this._nextSync=null,this._connectionEventContext=null,this.ref=0,this._metadata=null,this._iid=t,this._channel=n,this._limit=a,this._prevSyncLoopCount=0,this._nextSyncLoopCount=0;var s,l,u=i.V.of(this._iid),d=u.sdkState,f=u.dispatcher,h=u.logger;this._metadataKey=(s=d.userId,l=n.url,"sendbird:".concat(s,"@groupchannel/").concat(l,"/message/sync.meta"));var p=function(e,t){return"sendbird:".concat(e,"@groupchannel/").concat(t,"/message/sync")}(d.userId,n.url);this._prevSync=new Be(p,(function(e){return(0,i.b)(o,void 0,void 0,(function(){var t,n,r,a,o,s,l;return(0,i.c)(this,(function(u){switch(u.label){case 0:return t={hasNext:!0,nextToken:0},this._prevSyncLoopCount++,[4,this.loadMetadata(e)];case 1:if(u.sent(),h.debug("message background prev sync from",null===(s=this._metadata)||void 0===s?void 0:s.range.top),this._metadata.previousComplete)return[3,9];u.label=2;case 2:return u.trys.push([2,5,,8]),[4,c.b.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,(null===(l=this._metadata.range)||void 0===l?void 0:l.top)?this._metadata.range.top:e,{prevResultSize:this._limit,nextResultSize:0,replyType:i.ac.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},i.ae.SYNC_MESSAGE_BACKGROUND)];case 3:return(n=u.sent()).length>0&&(r=n.map((function(e){return e.createdAt})),(o=this._metadata.range).intersect.apply(o,(0,i.p)([],(0,i.q)(r),!1))?this.extendRange(n):this._metadata={range:new Le({top:Math.min.apply(Math,(0,i.p)([],(0,i.q)(r),!1)),bottom:Math.max.apply(Math,(0,i.p)([],(0,i.q)(r),!1))}),previousComplete:!1}),t.hasNext=n.length>=this._limit&&this._prevSyncLoopCount<1,t.nextToken=this._metadata.range.top,this._metadata.previousComplete=n.length<this._limit,h.debug("message background prev sync progress",t),[4,this.saveMetadata()];case 4:return u.sent(),[3,8];case 5:return a=u.sent(),h.debug("message background prev sync error",a),a instanceof i.S&&a.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:u.sent(),u.label=7;case 7:throw a;case 8:return[3,10];case 9:t.hasNext=!1,u.label=10;case 10:return[2,t]}}))}))})),this._nextSync=new Be(p,(function(e){return(0,i.b)(o,void 0,void 0,(function(){var t,n,r,a,o,s,l;return(0,i.c)(this,(function(u){switch(u.label){case 0:return t={hasNext:!0,nextToken:0},this._nextSyncLoopCount++,[4,this.loadMetadata(e)];case 1:u.sent(),h.debug("message background next sync from",null===(s=this._metadata)||void 0===s?void 0:s.range.bottom),u.label=2;case 2:return u.trys.push([2,5,,6]),[4,c.b.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,(null===(l=this._metadata.range)||void 0===l?void 0:l.bottom)?this._metadata.range.bottom:e,{prevResultSize:0,nextResultSize:this._limit,replyType:i.ac.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},i.ae.SYNC_MESSAGE_BACKGROUND)];case 3:return(n=u.sent()).length>0&&(r=n.map((function(e){return e.createdAt})),(o=this._metadata.range).intersect.apply(o,(0,i.p)([],(0,i.q)(r),!1))?this.extendRange(n):this._metadata={range:new Le({top:Math.min.apply(Math,(0,i.p)([],(0,i.q)(r),!1)),bottom:Math.max.apply(Math,(0,i.p)([],(0,i.q)(r),!1))}),previousComplete:!1}),t.hasNext=n.length>=this._limit&&this._nextSyncLoopCount<1,t.nextToken=this._metadata.range.bottom,h.debug("message background next sync progress",t),[4,this.saveMetadata()];case 4:return u.sent(),[3,6];case 5:throw a=u.sent(),h.debug("message background next sync error",a),a;case 6:return[2,t]}}))}))})),this._connectionEventContext=f.on((function(e){e instanceof i.t&&(e.stateType===i.w.CONNECTED?o.resume():o.pause())}))}return e.of=function(t,n){return Ve[t]||(Ve[t]={}),Ve[t][n.url]||(Ve[t][n.url]=new e({_iid:t,channel:n})),Ve[t][n.url].ref++,Ve[t][n.url]},e.clear=function(e,t){Ve[e]&&Ve[e][t]&&(Ve[e][t].close(),delete Ve[e])},Object.defineProperty(e.prototype,"range",{get:function(){var e;return null===(e=this._metadata)||void 0===e?void 0:e.range},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousComplete",{get:function(){var e;return!!(null===(e=this._metadata)||void 0===e?void 0:e.previousComplete)},enumerable:!1,configurable:!0}),e.prototype.isWrappingMessages=function(e){var t;return null===(t=this.range)||void 0===t?void 0:t.includes.apply(t,(0,i.p)([],(0,i.q)(e.map((function(e){return e.createdAt}))),!1))},e.prototype.extendRange=function(e){var t;this._metadata&&(t=this._metadata.range).extends.apply(t,(0,i.p)([],(0,i.q)(e.map((function(e){return e.createdAt}))),!1))},e.prototype.loadMetadata=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t;return(0,i.c)(this,(function(n){switch(n.label){case 0:return this._metadata?[3,2]:[4,i.V.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:(t=n.sent())?t.range.bottom<e?this._metadata={range:new Le({}),previousComplete:!1}:this._metadata=(0,i.g)({},t):this._metadata={range:new Le({}),previousComplete:!1},n.label=2;case 2:return[2,this._metadata]}}))}))},e.prototype.saveMetadata=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return this._metadata?[4,i.V.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return e.sent(),[2,!0];case 2:return[2,!1]}}))}))},e.prototype.clearMetadata=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return[4,i.V.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return e.sent(),this._metadata=null,[2]}}))}))},e.prototype.resume=function(e){var t,n,r,a;void 0===e&&(e=Date.now());var o=i.V.of(this._iid),s=o.logger;o.connectionManager.isConnected&&(s.debug("message background sync resume()"),this._prevSyncLoopCount=this._nextSyncLoopCount=0,this._metadata&&this._metadata.previousComplete||this._prevSync.start(null!==(n=null===(t=this._metadata)||void 0===t?void 0:t.range.top)&&void 0!==n?n:e),this._nextSync.start(null!==(a=null===(r=this._metadata)||void 0===r?void 0:r.range.bottom)&&void 0!==a?a:e))},e.prototype.pause=function(){i.V.of(this._iid).logger.debug("message background sync stop()"),this._prevSync.stop(),this._nextSync.stop()},e.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Ve[this._iid][this._channel.url])},e}(),We={},Ke=function(){function e(e){var t=e._iid,n=e.channel,r=this;this._sync=null,this._connectionEventContext=null,this.ref=0,this._metadata=null,this._iid=t,this._channel=n;var a,o,s=i.V.of(this._iid),l=s.logger,u=s.sdkState,d=s.dispatcher;this._metadataKey=(a=u.userId,o=n.url,"sendbird:".concat(a,"@groupchannel/").concat(o,"/message/changelogs.meta"));var f=function(e,t){return"sendbird:".concat(e,"@groupchannel/").concat(t,"/message/changelogs")}(u.userId,this._channel.url);this._sync=new Be(f,(function(){return(0,i.b)(r,void 0,void 0,(function(){var e,t,n,r,a,o,s,u;return(0,i.c)(this,(function(d){switch(d.label){case 0:return e={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:d.sent(),l.debug("message changelog sync from",null===(u=this._metadata)||void 0===u?void 0:u.token),d.label=2;case 2:return d.trys.push([2,5,,8]),[4,c.b.of(this._iid).getMessageChangelogs(this._channel.url,this._channel.channelType,this._metadata.token,{replyType:i.ac.ALL,includeReactions:!0,includeThreadInfo:!0,includeMetaArray:!0,includeParentMessageInfo:!0},i.ae.SYNC_MESSAGE_CHANGELOGS)];case 3:return t=d.sent(),n=t.updatedMessages,r=t.deletedMessageIds,a=t.hasMore,o=t.token,e.hasNext=a,e.nextToken=o,(n.length>0||r.length>0)&&(this._metadata.token=o),l.debug("message changelog sync progress",e),[4,this.saveMetadata()];case 4:return d.sent(),[3,8];case 5:return s=d.sent(),l.debug("message changelog sync error",s),s instanceof i.S&&s.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:d.sent(),d.label=7;case 7:throw s;case 8:return[2,e]}}))}))})),this._connectionEventContext=d.on((function(e){e instanceof i.t&&(e.stateType===i.w.CONNECTED?r.resume():r.pause())}))}return e.of=function(t,n){return We[t]||(We[t]={}),We[t][n.url]||(We[t][n.url]=new e({_iid:t,channel:n})),We[t][n.url].ref++,We[t][n.url]},e.clear=function(e,t){We[e]&&We[e][t]&&(We[e][t].close(),delete We[e])},e.prototype.loadMetadata=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:return this._metadata?[3,2]:(e=i.V.of(this._iid),t=e.cacheContext,n=e.firstConnectedAt,[4,t.preference.get(this._metadataKey)]);case 1:r=a.sent(),this._metadata={token:r?r.token:n},a.label=2;case 2:return[2,this._metadata]}}))}))},e.prototype.saveMetadata=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return this._metadata?[4,i.V.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return e.sent(),[2,!0];case 2:return[2,!1]}}))}))},e.prototype.clearMetadata=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return[4,i.V.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return e.sent(),this._metadata=null,[2]}}))}))},e.prototype.resume=function(){var e=i.V.of(this._iid),t=e.logger;e.connectionManager.isConnected&&(t.debug("message changelog sync resume()"),this._sync.start(0))},e.prototype.pause=function(){var e=i.V.of(this._iid),t=e.logger;e.connectionManager.isConnected&&(t.debug("message changelog sync pause()"),this._sync.stop())},e.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete We[this._iid][this._channel.url])},e}(),Qe={},Ye=function(){function e(e){var t=e._iid,n=e.channel,r=e.hasPollMessage,a=this;this._sync=null,this.ref=0,this._metadata=null,this._iid=t,this._channel=n;var o,s,c=i.V.of(this._iid),u=c.logger,d=c.sdkState,f=c.dispatcher;this._metadataKey=(o=d.userId,s=n.url,"sendbird:".concat(o,"@groupchannel/").concat(s,"/poll/changelogs.meta"));var h=function(e,t){return"sendbird:".concat(e,"@groupchannel/").concat(t,"/poll/changelogs")}(d.userId,this._channel.url);this._sync=new Be(h,(function(){return(0,i.b)(a,void 0,void 0,(function(){var e,t,n,a,o,s,c,d;return(0,i.c)(this,(function(f){switch(f.label){case 0:return e={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:return f.sent(),u.debug("poll changelog sync from",null===(d=this._metadata)||void 0===d?void 0:d.token),(t=!this._metadata||!this._metadata.token)?[4,r()]:[3,3];case 2:t=!f.sent(),f.label=3;case 3:if(t)return[2,{hasNext:!1,nextToken:0}];this._metadata||(n=i.V.of(this._iid).firstConnectedAt,this._metadata={token:n}),f.label=4;case 4:return f.trys.push([4,7,,10]),[4,l.b.of(this._iid).getPollChangeLogs(this._channel.url,this._channel.channelType,this._metadata.token)];case 5:return a=f.sent(),o=a.hasMore,s=a.token,e.hasNext=o,e.nextToken=s,this._metadata.token=s,u.debug("poll changelog sync progress",e),[4,this.saveMetadata()];case 6:return f.sent(),[3,10];case 7:return c=f.sent(),u.debug("poll changelog sync error",c),c instanceof i.S&&c.isInvalidTokenError?[4,this.clearMetadata()]:[3,9];case 8:f.sent(),f.label=9;case 9:throw c;case 10:return[2,e]}}))}))})),this._connectionEventContext=f.on((function(e){e instanceof i.t&&(e.stateType===i.w.CONNECTED?a.resume():a.pause())}))}return e.of=function(t,n,r){return Qe[t]||(Qe[t]={}),Qe[t][n.url]||(Qe[t][n.url]=new e({_iid:t,channel:n,hasPollMessage:r})),Qe[t][n.url].ref++,Qe[t][n.url]},e.prototype.loadMetadata=function(){return(0,i.b)(this,void 0,void 0,(function(){var e;return(0,i.c)(this,(function(t){switch(t.label){case 0:return this._metadata?[3,2]:[4,i.V.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:e=t.sent(),this._metadata=e?{token:e.token}:null,t.label=2;case 2:return[2]}}))}))},e.prototype.saveMetadata=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return this._metadata?[4,i.V.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.clearMetadata=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return[4,i.V.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return e.sent(),this._metadata=null,[2]}}))}))},e.prototype.resume=function(){i.V.of(this._iid).logger.debug("poll changelog sync resume()"),this._sync.start(0)},e.prototype.pause=function(){i.V.of(this._iid).logger.debug("poll changelog sync pause()"),this._sync.stop()},e.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Qe[this._iid][this._channel.url])},e}(),Ze=function(e){function t(t){var n,r,a,o,s,c,l=this;return(l=e.call(this)||this).method=i.A.GET,l.path="".concat((0,i.a7)(t.channelType),"/").concat(t.channelUrl,"/messages_gap"),l.params=(0,i.e)({prev_start_ts:t.prevStart,prev_end_ts:t.prevEnd,prev_cache_count:t.prevCount,next_start_ts:t.nextStart,next_end_ts:t.nextEnd,next_cache_count:t.nextCount,huge_gap_threshold:null!==(n=t.threshold)&&void 0!==n?n:null,reverse:!0,custom_types:null!==(r=t.customTypes)&&void 0!==r?r:["*"],message_type:null!==(a=t.messageType)&&void 0!==a?a:null,include_reactions:null===(o=t.includeReactions)||void 0===o||o,with_sorted_meta_array:null===(s=t.includeMetaArray)||void 0===s||s,show_subchannel_messages_only:null!==(c=t.showSubchannelMessagesOnly)&&void 0!==c&&c,include_poll_details:!0,checking_continuous_messages:t.checkingContinuousMessages}),l}return(0,i._)(t,e),t}(i.f),Je=function(e){function t(t,n){var r,a,i,o,s,l,u=this;return(u=e.call(this,t,n)||this).isHugeGap=n.is_huge_gap,u.prevMessages=(null!==(r=n.prev_messages)&&void 0!==r?r:[]).map((function(e){return(0,c.p)(t,e)})),u.prevHasMore=null!==(a=n.prev_hasmore)&&void 0!==a&&a,u.isContinuousPrevMessages=null!==(i=n.is_continuous_prev_messages)&&void 0!==i&&i,u.nextMessages=(null!==(o=n.next_messages)&&void 0!==o?o:[]).map((function(e){return(0,c.p)(t,e)})),u.nextHasmore=null!==(s=n.next_hasmore)&&void 0!==s&&s,u.isContinuousNextMessages=null!==(l=n.is_continuous_next_messages)&&void 0!==l&&l,u}return(0,i._)(t,e),t}(i.h),Xe=function(e,t){return e.findIndex((function(e){return e.isIdentical(t)}))},$e=function(e,t,n){if(e.length>0){var r=Xe(e,t);if(r<0){for(var a=0,i=e.length-1,o=Math.floor((a+i)/2);a<i;){var s=et(e[o],t,n);if(s>0)i=o,o=Math.floor((a+i)/2);else{if(!(s<0))return{place:o,contains:e[o].isIdentical(t)};a=o+1,o=Math.floor((a+i)/2)}}return{place:et(e[o],t,n)>0?o:o+1,contains:!1}}return{place:r,contains:!0}}return{place:e.length,contains:!1}},et=function(e,t,n){switch(n){case s.G.LATEST_LAST_MESSAGE:return e.lastMessage&&t.lastMessage?t.lastMessage.createdAt-e.lastMessage.createdAt:e.lastMessage?-1:t.lastMessage?1:t.createdAt-e.createdAt;case s.G.CHRONOLOGICAL:return t.createdAt-e.createdAt;case s.G.CHANNEL_NAME_ALPHABETICAL:return e.name.localeCompare(t.name)}},tt=function(e,t){return t instanceof c.S?e.findIndex((function(e){return e instanceof c.S&&t.isIdentical(e)})):e.findIndex((function(e){return e.isIdentical(t)}))},nt=function(e,t){return e.findIndex((function(e){return e.messageId===t}))},rt=function(e,t){if(e.length>0){for(var n=0,r=e.length-1,a=Math.floor((n+r)/2);n<r;){var i=e[a].createdAt-t.createdAt;if(i>0)r=a,a=Math.floor((n+r)/2);else{if(!(i<0))return a;n=a+1,a=Math.floor((n+r)/2)}}return e[a].createdAt>t.createdAt?a:a+1}return e.length},at=6e5;!function(e){e.CACHE_AND_REPLACE_BY_API="cache_and_replace_by_api"}(Fe||(Fe={}));var it,ot,st,ct=function(){function e(){}return e.prototype._invokeResponse=function(e,t,n){var r=this;(0,i.x)((function(){return(0,i.b)(r,void 0,void 0,(function(){return(0,i.c)(this,(function(r){switch(e){case"local":this._onCacheResult(t,n);break;case"remote":this._onApiResult(t,n)}return[2]}))}))}))},e.prototype.onCacheResult=function(e){return this._onCacheResult=e,this},e.prototype.onApiResult=function(e){return this._onApiResult=e,this},e}(),lt=function(){function e(e,t){var n=t.channel,r=t.filter,a=t.startingPoint,c=t.limit,l=this;this._channel=null,this._messages=[],this._unsentMessages=[],this._backgroundSync=null,this._changelogSync=null,this._pollChangelogSync=null,this._checkMyMutedStateTimer=null,this._iid=e,this._key="mc-".concat((0,i.u)()),this.filter=null!=r?r:new s.p,this._channel=n,this._syncRange=new Le({}),this._hasPrevious=!0,this._hasNext=!0,this._startingPoint="number"==typeof a?a:Date.now()+at,this._limit=c||o.D;var u=je.of(this._iid);u.subscribeGroupChannelEvent(this._key,{onUpdate:function(e,t,n){var r=Xe(e,l._channel);if(r>=0)switch((0,i.x)((function(){return(0,i.b)(l,void 0,void 0,(function(){var n,a;return(0,i.c)(this,(function(i){return n=new He(t),this._channel=e[r],(0,s.s)(t)&&(null===(a=this._handler)||void 0===a?void 0:a.onChannelUpdated)&&this._handler.onChannelUpdated(n,this.channel),[2]}))}))})),t){case s.n.EVENT_CHANNEL_UPDATED:var a=!1;for(var o in l._messages)if(l._messages[o].createdAt>=l._channel.messageOffsetTimestamp){a=!0;var c=parseInt(o);if(c>0){var u=l._messages.splice(0,c);l._removeMessagesFromView(u.map((function(e){return e.messageId})),i.ae.EVENT_MESSAGE_OFFSET_UPDATED)}break}!a&&l._messages.length>0&&l._removeMessagesFromView(l._messages.map((function(e){return e.messageId})),i.ae.EVENT_MESSAGE_OFFSET_UPDATED);break;case s.n.EVENT_CHANNEL_UNMUTED:var d=n;i.V.of(l._iid).sdkState.userId===d&&l._clearCheckMyMutedTimer();break;case s.n.EVENT_CHANNEL_MUTED:var f=n;i.V.of(l._iid).sdkState.userId===f&&-1!==l.channel._myMutedRemainingTime&&l._startCheckMyMutedTimer(l.channel._myMutedRemainingTime);break;case s.n.EVENT_CHANNEL_LEFT:l.channel.isPublic&&l._clearCheckMyMutedTimer()}},onRemove:function(e,t){e.indexOf(l.channel.url)>=0&&(l._clearCheckMyMutedTimer(),(0,i.x)((function(){return(0,i.b)(l,void 0,void 0,(function(){var e,n;return(0,i.c)(this,(function(r){return e=new He(t),(null===(n=this._handler)||void 0===n?void 0:n.onChannelDeleted)&&this._handler.onChannelDeleted(e,this.channel.url),[2]}))}))})))}}),u.subscribeMessageEvent(this._key,{onUpdate:function(e,t){var n,r,a=[],o=[];try{for(var s=(0,i.H)(e),c=s.next();!c.done;c=s.next()){var u=c.value;u.channelUrl===l._channel.url&&(l.filter.match(u)?a.push(u):o.push(u.messageId))}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}if((0,i.aG)(t)){if(a.length>0)switch(t){case i.ae.EVENT_MESSAGE_SENT_FAILED:case i.ae.EVENT_MESSAGE_SENT_SUCCESS:case i.ae.EVENT_MESSAGE_UPDATED:case i.ae.EVENT_MESSAGE_THREADINFO_UPDATED:case i.ae.EVENT_MESSAGE_REACTION_UPDATED:case i.ae.SYNC_MESSAGE_CHANGELOGS:l._updateMessagesToView(a,t);break;case i.ae.EVENT_MESSAGE_SENT_PENDING:l._addMessagesToView(a,t);break;case i.ae.EVENT_MESSAGE_RECEIVED:l.hasNext||l._addMessagesToView(a,t);break;case i.ae.SYNC_MESSAGE_FILL:l._addMessagesToView(a,t)}o.length>0&&l._removeMessagesFromView(o,t)}},onRemove:function(e,t){l._removeMessagesFromView(e,t)},onRemoveUnsent:function(e,t){l._removeUnsentMessageFromView(e,t)},onPollChangeLogUpdate:function(e,t){l._updatePollsToView(e,t)},onPollUpdate:function(e,t){l._applyPollUpdateEventToView(e,t)},onPollVote:function(e,t){l._applyPollVoteEventToView(e,t)}});var d=i.V.of(this._iid),f=d.cacheContext,h=d.dispatcher,p=d.logger;this._channel._updateMessageCollectionLastAccessedAt(),h.dispatch(new s.m({channels:[this._channel],source:s.n.CHANNEL_LASTACCESSEDAT_UPDATED})),!this._channel.isSuper&&f.localCacheEnabled&&(this._backgroundSync=qe.of(this._iid,this._channel),this._backgroundSync.resume(this._startingPoint)),this._changelogSync=Ke.of(this._iid,this._channel),this._changelogSync.resume(),this._pollChangelogSync=Ye.of(this._iid,this._channel,this._hasPollMessage.bind(this)),this._pollChangelogSync.resume(),this._prevFill=new Be(this._key,(function(e){return(0,i.b)(l,void 0,void 0,(function(){var t,n,r,a,o;return(0,i.c)(this,(function(s){switch(s.label){case 0:return[4,this._getRemoteMessages(e,{prevLimit:this._limit,source:i.ae.SYNC_MESSAGE_FILL,checkingContinuousMessages:f.localCacheEnabled})];case 1:return t=s.sent(),n=t.messages,r=t.isContinuousMessages,n.length>0?(a=Math.min.apply(Math,(0,i.p)([],(0,i.q)(n.map((function(e){return e.createdAt}))),!1)),this._syncRange.extends(a),r&&(null===(o=this._backgroundSync)||void 0===o||o.range.extends(a)),[2,{hasNext:n.length>=this._limit&&this.viewTop<a,nextToken:this._syncRange.top}]):[2,{hasNext:!1,nextToken:0}]}}))}))})),this._nextFill=new Be(this._key,(function(e){return(0,i.b)(l,void 0,void 0,(function(){var t,n,r,a,o;return(0,i.c)(this,(function(s){switch(s.label){case 0:return[4,this._getRemoteMessages(e,{nextLimit:this._limit,source:i.ae.SYNC_MESSAGE_FILL,checkingContinuousMessages:f.localCacheEnabled})];case 1:return t=s.sent(),n=t.messages,r=t.isContinuousMessages,n.length>0?(a=Math.max.apply(Math,(0,i.p)([],(0,i.q)(n.map((function(e){return e.createdAt}))),!1)),this._syncRange.extends(a),r&&(null===(o=this._backgroundSync)||void 0===o||o.range.extends(a)),[2,{hasNext:!(n.length>=this._limit&&this._hasNext)||this.viewBottom>a,nextToken:this._syncRange.bottom}]):[2,{hasNext:!1,nextToken:0}]}}))}))})),this._connectionEventContext=h.on((function(e){if(e instanceof i.t)switch(e.stateType){case i.w.CONNECTED:l._refreshChannel(s.n.SYNC_CHANNEL_CHANGELOGS),(0,i.G)((function(){return(0,i.b)(l,void 0,void 0,(function(){var e;return(0,i.c)(this,(function(t){switch(t.label){case 0:return[4,this.channel.getMyMutedInfo()];case 1:return(e=t.sent()).isMuted&&-1!==e.remainingDuration&&this._startCheckMyMutedTimer(e.remainingDuration),[2]}}))}))})),p.debug("check huge gap"),l._checkHugeGap();break;case i.w.LOGOUT:l.dispose();break;default:l._clearCheckMyMutedTimer(),l._prevFill.stop(),l._nextFill.stop()}}))}return Object.defineProperty(e.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"succeededMessages",{get:function(){return(0,i.p)([],(0,i.q)(this._messages),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"failedMessages",{get:function(){return this._unsentMessages.filter((function(e){return e.sendingStatus===i.a1.FAILED}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pendingMessages",{get:function(){return this._unsentMessages.filter((function(e){return e.sendingStatus===i.a1.PENDING}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPrevious",{get:function(){return this._hasPrevious},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewTop",{get:function(){return Math.min.apply(Math,(0,i.p)((0,i.p)([],(0,i.q)(this._messages.map((function(e){return e.createdAt}))),!1),[Number.MAX_SAFE_INTEGER],!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewBottom",{get:function(){return Math.max.apply(Math,(0,i.p)((0,i.p)([],(0,i.q)(this._messages.map((function(e){return e.createdAt}))),!1),[0],!1))},enumerable:!1,configurable:!0}),e.prototype.setMessageCollectionHandler=function(e){this._handler=e},e.prototype._filterUnderOffsetMessage=function(e){return e},e.prototype._addMessagesToView=function(e,t){var n,r,a=this,o=this._filterUnderOffsetMessage(e),s=[],l=[];try{for(var u=(0,i.H)(o),d=u.next();!d.done;d=u.next()){var f=d.value;if(t===i.ae.SYNC_MESSAGE_FILL)if(f.messageId>0){if((_=tt(this._messages,f))<0){tt(this._unsentMessages,f)<0&&s.push(f);var h=rt(this._messages,f);this._messages.splice(h,0,f)}}else f instanceof c.S&&(_=tt(this._unsentMessages,f))<0&&tt(this._messages,f)<0&&(this._unsentMessages.push(f),s.push(f));else if(f.messageId>0){if((_=tt(this._messages,f))<0){var p=tt(this._unsentMessages,f);p<0?s.push(f):(this._unsentMessages.splice(p,1),l.push(f)),h=rt(this._messages,f),this._messages.splice(h,0,f)}else l.push(f),this._messages[_]=f;if(f.updatedAt>0){var m=this._updateChildMessagesInView(f);l.push.apply(l,(0,i.p)([],(0,i.q)(m),!1))}}else if(f instanceof c.S){var _;(_=tt(this._unsentMessages,f))<0?tt(this._messages,f)<0&&(this._unsentMessages.push(f),s.push(f)):(l.push(f),this._unsentMessages[_]=f)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}(0,i.aG)(t)&&(0,i.x)((function(){return(0,i.b)(a,void 0,void 0,(function(){var e,n,r;return(0,i.c)(this,(function(a){return e=new Ge(t),s.length>0&&(null===(n=this._handler)||void 0===n||n.onMessagesAdded(e,this.channel,s)),l.length>0&&(null===(r=this._handler)||void 0===r||r.onMessagesUpdated(e,this.channel,l)),[2]}))}))}))},e.prototype._updateChildMessagesInView=function(e){var t=[];return this._messages.forEach((function(n){n.applyParentMessage(e)&&t.push(n)})),t},e.prototype._updatePollsToView=function(e,t){var n,r,a=this,o=[];try{for(var s=(0,i.H)(e),c=s.next();!c.done;c=s.next()){var l=c.value,u=nt(this._messages,l.messageId);if(u>=0){var d=this._messages[u];d&&d.applyPoll(l),o.push(d)}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o.length>0&&(0,i.aG)(t)&&(0,i.x)((function(){return(0,i.b)(a,void 0,void 0,(function(){var e,n;return(0,i.c)(this,(function(r){return e=new Ge(t),o.length>0&&(null===(n=this._handler)||void 0===n||n.onMessagesUpdated(e,this.channel,o)),[2]}))}))})),o},e.prototype._applyPollUpdateEventToView=function(e,t){var n=this,r=nt(this._messages,e.messageId);if(r>=0){var a=this._messages[r];a&&a.isUserMessage()&&a.poll&&a.poll.applyPollUpdateEvent(e)&&(0,i.aG)(t)&&(0,i.x)((function(){return(0,i.b)(n,void 0,void 0,(function(){var e,n;return(0,i.c)(this,(function(r){return e=new Ge(t),null===(n=this._handler)||void 0===n||n.onMessagesUpdated(e,this.channel,[a]),[2]}))}))}))}},e.prototype._applyPollVoteEventToView=function(e,t){var n=this,r=nt(this._messages,e.messageId);if(r>=0){var a=this._messages[r];a&&a.isUserMessage()&&a.poll&&a.poll.applyPollVoteEvent(e)&&(0,i.aG)(t)&&(0,i.x)((function(){return(0,i.b)(n,void 0,void 0,(function(){var e,n;return(0,i.c)(this,(function(r){return e=new Ge(t),null===(n=this._handler)||void 0===n||n.onMessagesUpdated(e,this.channel,[a]),[2]}))}))}))}},e.prototype._updateMessagesToView=function(e,t){var n,r,a=this,o=[],s=[];try{for(var l=(0,i.H)(e),u=l.next();!u.done;u=l.next()){var d,f=u.value;if(f.messageId>0)if((d=tt(this._messages,f))>=0)o.push(f),this._messages[d]=f;else{var h=tt(this._unsentMessages,f);if(h>=0){var p=this._unsentMessages.splice(h,1);if(this.hasNext&&p.length>0)s.push(p[0]);else{o.push(f);var m=rt(this._messages,f);this._messages.splice(m,0,f)}}}else f instanceof c.S&&(d=tt(this._unsentMessages,f))>=0&&(o.push(f),this._unsentMessages[d]=f)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return(0,i.aG)(t)&&(0,i.x)((function(){return(0,i.b)(a,void 0,void 0,(function(){var e,n,r;return(0,i.c)(this,(function(a){return e=new Ge(t),o.length>0?null===(n=this._handler)||void 0===n||n.onMessagesUpdated(e,this.channel,o):s.length>0&&(null===(r=this._handler)||void 0===r||r.onMessagesDeleted(e,this.channel,[],s)),[2]}))}))})),o},e.prototype._removeMessagesFromView=function(e,t){var n,r,a=this,o=[],s=[],c=function(e){var t=l._messages.findIndex((function(t){return t.messageId===e}));if(t>=0){var n=l._messages[t];o.push(n.messageId),s.push(n),l._messages.splice(t,1)}},l=this;try{for(var u=(0,i.H)(e),d=u.next();!d.done;d=u.next())c(d.value)}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return(0,i.aG)(t)&&s.length>0&&(0,i.x)((function(){return(0,i.b)(a,void 0,void 0,(function(){var e,n;return(0,i.c)(this,(function(r){return e=new Ge(t),null===(n=this._handler)||void 0===n||n.onMessagesDeleted(e,this.channel,o,s),[2]}))}))})),o},e.prototype._removeUnsentMessageFromView=function(e,t){var n=this._unsentMessages.findIndex((function(t){return t.reqId===e}));n>=0&&this._unsentMessages.splice(n,1)},e.prototype._getLocalMessages=function(e,t){var n=t.prevLimit,r=void 0===n?0:n,a=t.nextLimit,o=void 0===a?0:a;return(0,i.b)(this,void 0,void 0,(function(){var t,n,a,s,c,l,u;return(0,i.c)(this,(function(d){switch(d.label){case 0:return t=je.of(this._iid),r>0?[4,t.getMessagesFromCache(this._channel.url,e,"prev",this.filter,r)]:[3,2];case 1:return a=d.sent(),[3,3];case 2:a=[],d.label=3;case 3:return n=a,o>0?[4,t.getMessagesFromCache(this._channel.url,e,"next",this.filter,o)]:[3,5];case 4:return c=d.sent(),[3,6];case 5:c=[],d.label=6;case 6:if(s=c,n.length>0&&s.length>0)for(u in l=n.map((function(e){return e.messageId})),s)if(l.includes(s[u].messageId)){s.splice(parseInt(u),1);break}return[2,(0,i.p)((0,i.p)([],(0,i.q)(n),!1),(0,i.q)(s),!1).sort((function(e,t){return t.createdAt-e.createdAt}))]}}))}))},e.prototype._getRemoteMessages=function(e,t){var n=t.prevLimit,r=void 0===n?0:n,a=t.nextLimit,o=void 0===a?0:a,s=t.source,l=void 0===s?i.ae.REQUEST_MESSAGE:s,u=t.reverse,d=void 0!==u&&u,f=t.checkingContinuousMessages,h=void 0!==f&&f;return(0,i.b)(this,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(a){switch(a.label){case 0:return t=c.b.of(this._iid),r>0||o>0?[4,t._getMessagesByTimestampForCollection(this._channel.url,this._channel.channelType,e,(0,i.g)((0,i.g)({},this.filter),{isInclusive:!0,reverse:d,prevResultSize:r,nextResultSize:o,includeMetaArray:!0,includeReactions:!0,includeThreadInfo:!0,includeParentMessageInfo:!0}),l,h)]:[3,2];case 1:return n=a.sent(),[3,3];case 2:n={messages:[],isContinuousMessages:!1},a.label=3;case 3:return[2,n]}}))}))},e.prototype._checkHugeGap=function(){var e;return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a,o,s,c,l,u,d,f,h,p,m,_,y,g,v,b,w,k=this;return(0,i.c)(this,(function(E){switch(E.label){case 0:return this._messages.length>0?(t=this._syncRange.top,n=this.viewTop,r=this._syncRange.bottom,a=this.hasNext?this.viewBottom:Number.MAX_SAFE_INTEGER,[4,(o=je.of(this._iid)).getCachedMessageCountBetween(this._channel.url,this.filter,n,t)]):[3,4];case 1:return s=E.sent(),[4,o.getCachedMessageCountBetween(this._channel.url,this.filter,r,a)];case 2:return c=E.sent(),[4,(0,i.aH)((function(){return(0,i.b)(k,void 0,void 0,(function(){var e,o,l,u,d,f,h,p,m,_,y,g,v,b,w,k,E,S,C,T,I,M=this;return(0,i.c)(this,(function(O){switch(O.label){case 0:return e=i.V.of(this._iid),o=e.dispatcher,l=e.requestQueue,u=e.cacheContext,d=new Ze((0,i.g)({channelUrl:this._channel.url,channelType:this._channel.channelType,prevStart:n,prevEnd:t,prevCount:s,nextStart:r,nextEnd:a,nextCount:c,checkingContinuousMessages:u.localCacheEnabled},this.filter)),[4,l.send(d)];case 1:return f=O.sent(),h=f.as(Je),p=h.isHugeGap,m=h.prevMessages,_=void 0===m?[]:m,y=h.prevHasMore,g=h.isContinuousPrevMessages,v=h.nextMessages,b=void 0===v?[]:v,w=h.nextHasmore,k=h.isContinuousNextMessages,p?(0,i.x)((function(){return(0,i.b)(M,void 0,void 0,(function(){var e;return(0,i.c)(this,(function(t){return null===(e=this._handler)||void 0===e||e.onHugeGapDetected(),[2]}))}))})):(this._hasPrevious=y,this._hasNext=w,E=this.viewTop,S=this.viewBottom,C=Math.min.apply(Math,(0,i.p)([Number.MAX_SAFE_INTEGER,E],(0,i.q)(_.map((function(e){return e.createdAt}))),!1)),T=Math.max.apply(Math,(0,i.p)([0,S],(0,i.q)(b.map((function(e){return e.createdAt}))),!1)),o.dispatch(new i.af({messages:_,source:i.ae.SYNC_MESSAGE_FILL})),o.dispatch(new i.af({messages:b,source:i.ae.SYNC_MESSAGE_FILL})),this._syncRange.extends(C,T),(g||k)&&(null===(I=this._backgroundSync)||void 0===I||I.range.extends(C,T)),E<C&&this._prevFill.start(C),S>T&&this._nextFill.start(T)),[2]}}))}))}),1)];case 3:return E.sent(),[3,8];case 4:l=i.V.of(this._iid).cacheContext,u=Math.floor(this._limit/2),d=Date.now(),E.label=5;case 5:return E.trys.push([5,7,,8]),[4,this._getRemoteMessages(d,{prevLimit:u,nextLimit:u,source:i.ae.SYNC_MESSAGE_FILL,checkingContinuousMessages:l.localCacheEnabled})];case 6:if(f=E.sent(),h=f.messages,p=f.isContinuousMessages,h.length>0){for(m=h.map((function(e){return e.createdAt})),_=0,y=0,g=0;g<m.length;g++)(v=m[g])<=d?_++:v>=d&&y++;this._hasPrevious=_>=u,this._hasNext=y>=u,(w=this._syncRange).extends.apply(w,(0,i.p)([],(0,i.q)(m),!1)),p&&(null===(e=this._backgroundSync)||void 0===e||e.range.extends(this._syncRange.top,this._syncRange.bottom)),this._addMessagesToView(h,i.ae.SYNC_MESSAGE_FILL)}else this._hasPrevious=!1,this._hasNext=!1;return[3,8];case 7:return(b=E.sent())instanceof i.S&&b.code===i.a9.NOT_FOUND_IN_DATABASE&&(this._hasPrevious=!1,this._hasNext=!1),[3,8];case 8:return[2]}}))}))},e.prototype._loadUnsentMessages=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t;return(0,i.c)(this,(function(n){switch(n.label){case 0:return e=je.of(this._iid),t=this,[4,e.getUnsentMessagesFromCache(this._channel.url,this.filter)];case 1:return t._unsentMessages=n.sent(),[2]}}))}))},e.prototype._hasPollMessage=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return[4,je.of(this._iid).getPollMessagesFromCache(this._channel.url,Date.now()+at,this.filter,1)];case 1:return e.sent().length>0?[2,!0]:[2,!1]}}))}))},e.prototype._refreshChannel=function(e){je.of(this._iid).refreshChannel(this.channel.url,!0,e)},e.prototype._startCheckMyMutedTimer=function(e){var t=this;this._clearCheckMyMutedTimer(),this._checkMyMutedStateTimer=setTimeout((function(){return(0,i.b)(t,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:this._checkMyMutedStateTimer=null,e=!0,a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this._channel.getMyMutedInfo()];case 2:return t=a.sent(),e=!t.isMuted,[3,5];case 3:return a.sent(),e=!0,[3,5];case 4:return e&&(this.channel.myMutedState=Rt.UNMUTED,n=new He(s.n.EVENT_CHANNEL_UNMUTED),null===(r=this._handler)||void 0===r||r.onChannelUpdated(n,this.channel)),[7];case 5:return[2]}}))}))}),e+1e3)},e.prototype._clearCheckMyMutedTimer=function(){this._checkMyMutedStateTimer&&(clearTimeout(this._checkMyMutedStateTimer),this._checkMyMutedStateTimer=null)},e.prototype.initialize=function(e){var t=this,n=new ct;this._messages=[],this._unsentMessages=[],this._syncRange=new Le({}),this._hasNext=!0,this._hasPrevious=!0,this._refreshChannel(s.n.REFRESH_CHANNEL),(0,i.G)((function(){return(0,i.b)(t,void 0,void 0,(function(){var e;return(0,i.c)(this,(function(t){switch(t.label){case 0:return[4,this.channel.getMyMutedInfo()];case 1:return(e=t.sent()).isMuted&&-1!==e.remainingDuration&&this._startCheckMyMutedTimer(e.remainingDuration),[2]}}))}))}));var r=Math.floor(this._limit/2);return e===Fe.CACHE_AND_REPLACE_BY_API&&this._getLocalMessages(this._startingPoint,{prevLimit:r,nextLimit:r}).then((function(e){return(0,i.b)(t,void 0,void 0,(function(){var t;return(0,i.c)(this,(function(r){switch(r.label){case 0:return t=this._filterUnderOffsetMessage(e),this._addMessagesToView(t,i.ae.REQUEST_MESSAGE),[4,this._loadUnsentMessages()];case 1:return r.sent(),n._invokeResponse("local",null,t),[2]}}))}))})).catch((function(e){if((0,i.ay)(e))throw e;n._invokeResponse("local",e,null)})).finally((function(){var e=i.V.of(t._iid).cacheContext;t._getRemoteMessages(t._startingPoint,{prevLimit:r,nextLimit:r,reverse:!0,checkingContinuousMessages:e.localCacheEnabled}).then((function(e){var a,o,s=e.messages,c=e.isContinuousMessages;t._messages=[];var l=t._filterUnderOffsetMessage(s);if(l.length>0){for(var u=l.map((function(e){return e.createdAt})),d=0,f=0,h=0;h<u.length;h++){var p=u[h];p<=t._startingPoint?d++:p>=t._startingPoint&&f++}t._hasPrevious=d>=r,t._hasNext=f>=r,(a=t._syncRange).extends.apply(a,(0,i.p)([],(0,i.q)(l.map((function(e){return e.createdAt}))),!1)),c&&(null===(o=t._backgroundSync)||void 0===o||o.range.extends(t._syncRange.top,t._syncRange.bottom)),t._addMessagesToView(l,i.ae.REQUEST_MESSAGE)}else t._hasPrevious=!1,t._hasNext=!1;n._invokeResponse("remote",null,l)})).catch((function(e){if((0,i.ay)(e))throw e;n._invokeResponse("remote",e,null)}))})),n},e.prototype.loadPrevious=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r=this;return(0,i.c)(this,(function(a){switch(a.label){case 0:return this._hasPrevious?(e=this.viewTop,t=[],[4,(0,i.G)((function(){return(0,i.b)(r,void 0,void 0,(function(){var n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return n=this._filterUnderOffsetMessage,[4,this._getLocalMessages(e,{prevLimit:this._limit})];case 1:return t=n.apply(this,[r.sent()]),[2]}}))}))}))]):[3,5];case 1:return a.sent(),0!==t.length&&this._backgroundSync&&this._backgroundSync.isWrappingMessages(t)?[3,3]:[4,(0,i.G)((function(){return(0,i.b)(r,void 0,void 0,(function(){var n,r,a,o,s;return(0,i.c)(this,(function(c){switch(c.label){case 0:return n=i.V.of(this._iid).cacheContext,[4,this._getRemoteMessages(e,{prevLimit:this._limit,checkingContinuousMessages:n.localCacheEnabled})];case 1:return r=c.sent(),t=this._filterUnderOffsetMessage(r.messages),this._hasPrevious=t.length>=this._limit,t.length>0&&((a=this._syncRange).extends.apply(a,(0,i.p)([],(0,i.q)(t.map((function(e){return e.createdAt}))),!1)),(null===(o=this._backgroundSync)||void 0===o?void 0:o.range.overlap(this._syncRange))&&r.isContinuousMessages&&(null===(s=this._backgroundSync)||void 0===s||s.range.extends(this._syncRange.top))),[2]}}))}))}))];case 2:return a.sent(),this._addMessagesToView(t,i.ae.REQUEST_MESSAGE),[3,4];case 3:this._hasPrevious=t.length>=this._limit,t.length>0&&((n=this._syncRange).extends.apply(n,(0,i.p)([],(0,i.q)(t.map((function(e){return e.createdAt}))),!1)),this._addMessagesToView(t,i.ae.REQUEST_MESSAGE)),a.label=4;case 4:return[2,t];case 5:return[2,[]]}}))}))},e.prototype.loadNext=function(){var e;return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a=this;return(0,i.c)(this,(function(o){switch(o.label){case 0:return this._hasNext?(t=this.viewBottom,n=[],[4,(0,i.G)((function(){return(0,i.b)(a,void 0,void 0,(function(){var e;return(0,i.c)(this,(function(r){switch(r.label){case 0:return e=this._filterUnderOffsetMessage,[4,this._getLocalMessages(t,{nextLimit:this._limit})];case 1:return n=e.apply(this,[r.sent()]),[2]}}))}))}))]):[2,[]];case 1:return o.sent(),0!==n.length&&(null===(e=this._backgroundSync)||void 0===e?void 0:e.isWrappingMessages(n))?[3,3]:[4,(0,i.G)((function(){return(0,i.b)(a,void 0,void 0,(function(){var e,r,a,o,s;return(0,i.c)(this,(function(c){switch(c.label){case 0:return e=i.V.of(this._iid).cacheContext,[4,this._getRemoteMessages(t,{nextLimit:this._limit,checkingContinuousMessages:e.localCacheEnabled})];case 1:return r=c.sent(),n=this._filterUnderOffsetMessage(r.messages),this._hasNext=n.length>=this._limit,n.length>0&&((a=this._syncRange).extends.apply(a,(0,i.p)([],(0,i.q)(n.map((function(e){return e.createdAt}))),!1)),(null===(o=this._backgroundSync)||void 0===o?void 0:o.range.overlap(this._syncRange))&&r.isContinuousMessages&&(null===(s=this._backgroundSync)||void 0===s||s.range.extends(this._syncRange.bottom))),[2]}}))}))}))];case 2:return o.sent(),this._addMessagesToView(n,i.ae.REQUEST_MESSAGE),[3,4];case 3:this._hasNext=n.length>=this._limit,n.length>0&&((r=this._syncRange).extends.apply(r,(0,i.p)([],(0,i.q)(n.map((function(e){return e.createdAt}))),!1)),this._addMessagesToView(n,i.ae.REQUEST_MESSAGE)),o.label=4;case 4:return[2,n]}}))}))},e.prototype.removeFailedMessage=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t;return(0,i.c)(this,(function(n){switch(n.label){case 0:return[4,je.of(this._iid).removeFailedMessageFromCache(e)];case 1:return n.sent(),(t=this._unsentMessages.findIndex((function(t){return t.reqId===e})))>-1&&this._unsentMessages.splice(t,1),[2]}}))}))},e.prototype.dispose=function(){var e,t,n,r=i.V.of(this._iid),a=r.cacheContext,o=r.dispatcher;this._clearCheckMyMutedTimer(),this._channel._updateMessageCollectionLastAccessedAt(),o.dispatch(new s.m({channels:[this._channel],source:s.n.CHANNEL_LASTACCESSEDAT_UPDATED})),a.localCacheEnabled&&(this._prevFill.stop(),this._nextFill.stop()),null===(e=this._backgroundSync)||void 0===e||e.close(),null===(t=this._changelogSync)||void 0===t||t.close(),null===(n=this._pollChangelogSync)||void 0===n||n.close();var c=je.of(this._iid);c.unsubscribeGroupChannelEvent(this._key),c.unsubscribeMessageEvent(this._key),this._connectionEventContext&&this._connectionEventContext.close()},e}(),ut={coverUrl:null,coverImage:null,isDistinct:null,isPublic:null,isDiscoverable:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},dt={hidePreviousMessages:!1,allowAutoUnhide:!0},ft=function(e){function t(t){var n=this,r=t.channelUrl,a=t.token,o=t.limit,s=t.order,c=t.mutedMemberFilter,l=t.memberStateFilter,u=t.nicknameStartsWithFilter,d=t.operatorFilter;return(n=e.call(this)||this).method=i.A.GET,n.path="".concat(i.ad,"/").concat(encodeURIComponent(r),"/members"),n.params={token:a,limit:o,order:s,muted_member_filter:c,member_state_filter:l,nickname_startswith:u,operator_filter:d,show_member_is_muted:!0,show_read_receipt:!0,show_delivery_receipt:!0},n}return(0,i._)(t,e),t}(i.f),ht=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.token=null,r.members=[];var a=n.next,i=n.members;return r.token=a,i&&i.length>0&&(r.members=i.map((function(e){return new O(t,e)}))),r}return(0,i._)(t,e),t}(i.h);!function(e){e.ALL="all",e.MUTED="muted",e.UNMUTED="unmuted"}(it||(it={})),function(e){e.MEMBER_NICKNAME_ALPHABETICAL="member_nickname_alphabetical",e.OPERATOR_THEN_MEMBER_ALPHABETICAL="operator_then_member_alphabetical"}(ot||(ot={})),function(e){e.ALL="all",e.JOINED="joined_only",e.INVITED="invited_only",e.INVITED_BY_FRIEND="invited_by_friend",e.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(st||(st={}));var pt=function(e){function t(t,n,r){var a,o,s,c,l=this;return(l=e.call(this,t,n,i.M.GROUP,r)||this).mutedMemberFilter=it.ALL,l.memberStateFilter=st.ALL,l.nicknameStartsWithFilter=null,l.operatorFilter=T.ALL,l.order=ot.MEMBER_NICKNAME_ALPHABETICAL,l.mutedMemberFilter=null!==(a=r.mutedMemberFilter)&&void 0!==a?a:it.ALL,l.memberStateFilter=null!==(o=r.memberStateFilter)&&void 0!==o?o:st.ALL,l.nicknameStartsWithFilter=null!==(s=r.nicknameStartsWithFilter)&&void 0!==s?s:null,l.order=null!==(c=r.order)&&void 0!==c?c:ot.MEMBER_NICKNAME_ALPHABETICAL,l}return(0,i._)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,i.I)(it,this.mutedMemberFilter)&&(0,i.I)(st,this.memberStateFilter)&&((0,i.a)("string",this.nicknameStartsWithFilter)||null===this.nicknameStartsWithFilter)&&(0,i.I)(T,this.operatorFilter)&&(0,i.I)(ot,this.order)},t.prototype.next=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a,o;return(0,i.c)(this,(function(s){switch(s.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=i.V.of(this._iid).requestQueue,t=new ft((0,i.g)((0,i.g)({},this),{token:this._token})),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=s.sent(),r=n.as(ht),a=r.members,o=r.token,this._token=o,this._hasNext=!!o,this._isLoading=!1,[2,a];case 2:return[2,[]];case 3:throw i.S.queryInProgress;case 4:return[3,6];case 5:throw i.S.invalidParameters;case 6:return[2]}}))}))},t}(i.ai),mt=function(e){function t(t){var n=this,r=t.channelUrl,a=t.userId,o=t.accessCode;return(n=e.call(this)||this).method=i.A.PUT,n.path="".concat(i.ad,"/").concat(encodeURIComponent(r),"/accept"),n.params={user_id:a,access_code:o},n}return(0,i._)(t,e),t}(i.f),_t=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.channel=new Ht(t,n),r.channel.myMemberState=u.JOINED,r}return(0,i._)(t,e),t}(i.h),yt=function(e){function t(t){var n=this,r=t.channelUrl,a=t.isDistinct,o=t.isPublic,s=t.isDiscoverable,c=t.coverUrl,l=t.coverImage,u=t.accessCode,d=t.name,f=t.data,h=t.customType,p=t.operatorUserIds,m=t.messageSurvivalSeconds;return(n=e.call(this)||this).method=i.A.PUT,n.path="".concat(i.ad,"/").concat(encodeURIComponent(r)),n.params=(0,i.e)({is_distinct:a,is_public:o,is_discoverable:s,name:d,data:f,custom_type:h,cover_url:c,cover_file:l,access_code:u,operator_ids:p,message_survival_seconds:m}),n}return(0,i._)(t,e),t}(i.f),gt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.channel=new Ht(t,n),r}return(0,i._)(t,e),t}(i.h),vt=function(e){function t(t){var n=this,r=t.channelUrl;return(n=e.call(this)||this).method=i.A.DELETE,n.path="".concat(i.ad,"/").concat(encodeURIComponent(r)),n}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(t,n){return e.call(this,t,n)||this}),e)}(i.h);var bt=function(e){function t(t){var n=this,r=t.channelUrl;return(n=e.call(this)||this).method=i.A.DELETE,n.path="".concat(i.ad,"/").concat(encodeURIComponent(r),"/hide"),n}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(i.h);var wt=function(e){function t(t){var n=t.userId,r=t.channelUrl,a=t.countPreference,o=e.call(this)||this;return o.method=i.A.PUT,o.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/count_preference/").concat(encodeURIComponent(r)),o.params={count_preference:a},o}return(0,i._)(t,e),t}(i.f),kt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.countPreference=n.count_preference,r}return(0,i._)(t,e),t}(i.h),Et=function(e){function t(t){var n=this,r=t.channelUrl;return(n=e.call(this)||this).method=i.A.PUT,n.path="".concat(i.ad,"/").concat(encodeURIComponent(r),"/reset_user_history"),n}return(0,i._)(t,e),t}(i.f),St=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.messageOffsetTimestamp=null;var a=n.ts_message_offset;return r.messageOffsetTimestamp=null!=a?a:null,r}return(0,i._)(t,e),t}(i.h),Ct=(0,i.g)((0,i.g)({},o.E),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),Tt=(0,i.g)((0,i.g)({},o.H),{scheduledAt:null}),It=function(e){function t(t){var n,r=this;r=e.call(this)||this;var a=null;t.mentionType===i.a0.USERS&&(t.mentionedUserIds?a=t.mentionedUserIds:t.mentionedUsers&&(a=t.mentionedUsers.map((function(e){return e.userId}))));var o=t.channelType,s=t.channelUrl,l=t.scheduledMessageId;return r.method=i.A.PUT,r.path="".concat((0,i.a7)(o),"/").concat(encodeURIComponent(s),"/scheduled_messages/").concat(encodeURIComponent(l)),r.params=(0,i.e)({req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:i.ax.FILE,url:t.fileUrl,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,thumbnails:t.thumbnailSizes?t.thumbnailSizes.map((function(e){return c.T.payloadify(e)})):[],custom_type:t.customType,data:t.data,require_auth:t.requireAuth,mention_type:t.mentionType,mentioned_user_ids:a,sorted_metaarray:null===(n=t.metaArrays)||void 0===n?void 0:n.map((function(e){return c.c.payloadify(e)})),apple_critical_alert_options:c.A.payloadify(t.appleCriticalAlertOptions),push_option:t.pushNotificationDeliveryOption}),r}return(0,i._)(t,e),t}(i.f),Mt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.message=new c.F(t,n),r}return(0,i._)(t,e),t}(i.h),Ot=function(e){function t(t){var n,r=this;r=e.call(this)||this;var a=null;t.mentionType===i.a0.USERS&&(t.mentionedUserIds?a=t.mentionedUserIds:t.mentionedUsers&&(a=t.mentionedUsers.map((function(e){return e.userId}))));var o=t.channelType,s=t.channelUrl,l=t.scheduledMessageId;return r.method=i.A.PUT,r.path="".concat((0,i.a7)(o),"/").concat(encodeURIComponent(s),"/scheduled_messages/").concat(encodeURIComponent(l)),r.params=(0,i.e)({req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:i.ax.USER,message:t.message,custom_type:t.customType,data:t.data,mention_type:t.mentionType,mentioned_user_ids:a,sorted_metaarray:null===(n=t.metaArrays)||void 0===n?void 0:n.map((function(e){return c.c.payloadify(e)})),apple_critical_alert_options:c.A.payloadify(t.appleCriticalAlertOptions),target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption}),r}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(t,n){var r=e.call(this,t,n)||this;return r.message=new c.U(t,n),r}),e)}(i.h);var At=function(e){function t(t){var n=e.call(this)||this,r=t.channelType,a=t.channelUrl,o=t.scheduledMessageId;return n.method=i.A.DELETE,n.path="".concat((0,i.a7)(r),"/").concat(encodeURIComponent(a),"/scheduled_messages/").concat(encodeURIComponent(o)),n}return(0,i._)(t,e),t}(i.f),Nt=function(e){function t(t){var n=e.call(this)||this,r=t.channelType,a=t.channelUrl,o=t.scheduledMessageId;return n.method=i.A.POST,n.path="".concat((0,i.a7)(r),"/").concat(encodeURIComponent(a),"/scheduled_messages/").concat(encodeURIComponent(o),"/send_now"),n}return(0,i._)(t,e),t}(i.f),Pt=function(e){function t(t){var n=t.userId,r=t.channelUrl,a=t.pushTriggerOption,o=e.call(this)||this;return o.method=i.A.PUT,o.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push_preference/").concat(encodeURIComponent(r)),o.params={push_trigger_option:a},o}return(0,i._)(t,e),t}(i.f),xt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.pushTriggerOption=n.push_trigger_option,r.enabled=n.enable,r}return(0,i._)(t,e),t}(i.h),Dt=function(e){function t(t){var n=t.userId,r=t.channelUrl,a=e.call(this)||this;return a.method=i.A.GET,a.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push_preference/").concat(encodeURIComponent(r)),a}return(0,i._)(t,e),t}(i.f),Ut=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.pushTriggerOption=n.push_trigger_option,r.enabled=n.enable,r}return(0,i._)(t,e),t}(i.h),Lt=function(e){function t(t){var n=t.channelType,r=t.channelUrl,a=t.messageId,o=e.call(this)||this;return o.method=i.A.POST,o.path="".concat((0,i.a7)(n),"/").concat(encodeURIComponent(r),"/messages/").concat(a,"/pin"),o}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(t,n){return e.call(this,t,n)||this}),e)}(i.h);var zt,Rt,jt,Ft=function(e){function t(t){var n=t.channelType,r=t.channelUrl,a=t.messageId,o=e.call(this)||this;return o.method=i.A.DELETE,o.path="".concat((0,i.a7)(n),"/").concat(encodeURIComponent(r),"/messages/").concat(a,"/pin"),o}return(0,i._)(t,e),t}(i.f);!function(e){(0,i._)((function(t,n){return e.call(this,t,n)||this}),e)}(i.h),function(e){e.ALL="all",e.UNREAD_MESSAGE_COUNT_ONLY="unread_message_count_only",e.UNREAD_MENTION_COUNT_ONLY="unread_mention_count_only",e.OFF="off"}(zt||(zt={})),function(e){e.MUTED="muted",e.UNMUTED="unmuted"}(Rt||(Rt={})),function(e){e.UNHIDDEN="unhidden",e.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",e.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(jt||(jt={}));var Bt,Ht=function(e){function t(t,n){var r,a,o,s,l,d,f,h,p,m,_,y,g,v,b,w,k,E,S,C=this;return(C=e.call(this,t,n)||this)._unreadMemberStateMap=new Map,C._undeliveredMemberStateMap=new Map,C._typingStatus=new Map,C._lastMemberCountUpdated=0,C._typingStarted=0,C._typingEnded=0,C.isDistinct=!1,C.isSuper=!1,C.isBroadcast=!1,C.isExclusive=!1,C.isPublic=!1,C.isDiscoverable=!0,C.isAccessCodeRequired=!1,C.isPushEnabled=!1,C.unreadMessageCount=0,C.unreadMentionCount=0,C.members=[],C.memberCount=0,C.joinedMemberCount=0,C.hiddenState=jt.UNHIDDEN,C.lastMessage=null,C.messageOffsetTimestamp=0,C.messageSurvivalSeconds=-1,C.myMemberState=u.NONE,C.myRole=i.R.NONE,C.myMutedState=Rt.UNMUTED,C.myLastRead=0,C.myCountPreference=zt.ALL,C.myPushTriggerOption=i.J.DEFAULT,C.inviter=null,C.invitedAt=0,C.joinedAt=0,C.pinnedMessageIds=[],C.lastPinnedMessage=null,C._pinnedMessagesUpdatedAt=0,C._myMutedRemainingTime=-1,C.channelType=i.M.GROUP,C.isDistinct=null!==(a=n.is_distinct)&&void 0!==a&&a,C.isSuper=null!==(o=n.is_super)&&void 0!==o&&o,C.isBroadcast=null!==(s=n.is_broadcast)&&void 0!==s&&s,C.isExclusive=null!==(l=n.is_exclusive)&&void 0!==l&&l,C.isPublic=null!==(d=n.is_public)&&void 0!==d&&d,C.isDiscoverable=null!==(f=n.is_discoverable)&&void 0!==f?f:C.isPublic,C.isAccessCodeRequired=null!==(h=n.is_access_code_required)&&void 0!==h&&h,C.isPushEnabled=null!==(p=n.is_push_enabled)&&void 0!==p&&p,Array.isArray(n.members)&&(r=C.members).push.apply(r,(0,i.p)([],(0,i.q)(n.members.map((function(e){return new O(C._iid,e)}))),!1)),C.memberCount=null!==(m=n.member_count)&&void 0!==m?m:0,C.joinedMemberCount=null!==(_=n.joined_member_count)&&void 0!==_?_:0,C.hiddenState=(0,i.I)(jt,n.hidden_state)?n.hidden_state:jt.UNHIDDEN,C.messageOffsetTimestamp=null!==(y=n.ts_message_offset)&&void 0!==y?y:0,C.messageSurvivalSeconds=null!==(g=n.message_survival_seconds)&&void 0!==g?g:-1,C.lastMessage=n.last_message?(0,c.p)(C._iid,(0,i.g)({channel_type:C.channelType},n.last_message)):null,n.read_receipt&&Object.keys(n.read_receipt).forEach((function(e){(0,i.a)("number",n.read_receipt[e])&&C._updateUnreadMemberState(e,n.read_receipt[e])})),n.delivery_receipt&&Object.keys(n.delivery_receipt).forEach((function(e){(0,i.a)("number",n.delivery_receipt[e])&&C._updateUndeliveredMemberState(e,n.delivery_receipt[e])})),C.myMemberState=(0,i.I)(u,n.member_state)?n.member_state:u.NONE,C.myRole=(0,i.I)(i.R,n.my_role)?n.my_role:i.R.NONE,(0,i.I)(Rt,n.is_muted)?C.myMutedState=n.is_muted:(0,i.a)("boolean",n.is_muted)?C.myMutedState=n.is_muted?Rt.MUTED:Rt.UNMUTED:C.myMutedState=Rt.UNMUTED,C.myCountPreference=(0,i.I)(zt,n.count_preference)?n.count_preference:zt.ALL,C.myPushTriggerOption=(0,i.I)(i.J,n.push_trigger_option)?n.push_trigger_option:i.J.ALL,C.myLastRead=null!==(v=n.user_last_read)&&void 0!==v?v:0,C.inviter=n.inviter?new i.U(C._iid,n.inviter):null,C.invitedAt=null!==(b=n.invited_at)&&void 0!==b?b:0,C.joinedAt=null!==(w=n.joined_ts)&&void 0!==w?w:0,C._updateUnreadCount(null!==(k=n.unread_message_count)&&void 0!==k?k:0,null!==(E=n.unread_mention_count)&&void 0!==E?E:0),C.pinnedMessageIds=null!==(S=n.pinned_message_ids)&&void 0!==S?S:[],C.lastPinnedMessage=n.latest_pinned_message?(0,c.p)(C._iid,(0,i.g)({channel_type:C.channelType},n.latest_pinned_message)):null,C}return(0,i._)(t,e),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.hiddenState!==jt.UNHIDDEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTyping",{get:function(){return this._typingStatus.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedUnreadMemberState",{get:function(){var e,t,n={};try{for(var r=(0,i.H)(this._unreadMemberStateMap),a=r.next();!a.done;a=r.next()){var o=(0,i.q)(a.value,2),s=o[0],c=o[1];n[s]=c}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedUndeliveredMemberState",{get:function(){var e,t,n={};try{for(var r=(0,i.H)(this._undeliveredMemberStateMap),a=r.next();!a.done;a=r.next()){var o=(0,i.q)(a.value,2),s=o[0],c=o[1];n[s]=c}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),t.payloadify=function(t){return t?(0,i.e)((0,i.g)((0,i.g)({},e.payloadify.call(this,t)),{is_access_code_required:t.isAccessCodeRequired,is_distinct:t.isDistinct,is_super:t.isSuper,is_broadcast:t.isBroadcast,is_exclusive:t.isExclusive,is_public:t.isPublic,is_discoverable:t.isDiscoverable,is_muted:t.myMutedState,is_push_enabled:t.isPushEnabled,unread_message_count:t.unreadMessageCount,unread_mention_count:t.unreadMentionCount,push_trigger_option:t.myPushTriggerOption,count_preference:t.myCountPreference,hidden_state:t.hiddenState,member_count:t.memberCount,joined_member_count:t.joinedMemberCount,member_state:t.myMemberState,my_role:t.myRole,user_last_read:t.myLastRead,ts_message_offset:t.messageOffsetTimestamp,message_survival_seconds:t.messageSurvivalSeconds,read_receipt:t.cachedUnreadMemberState,delivery_receipt:t.cachedUndeliveredMemberState,members:t.members.map((function(e){return O.payloadify(e)})),last_message:(0,c.l)(t.lastMessage),inviter:t.inviter?i.U.payloadify(t.inviter):null,invited_at:t.invitedAt,joined_ts:t.joinedAt,pinned_message_ids:t.pinnedMessageIds,latest_pinned_message:(0,c.l)(t.lastPinnedMessage)})):null},t.prototype._shouldUpdateLastMessageWith=function(e){return!(e instanceof c.S&&e.parentMessageId>0&&!e.replyToChannel)&&(!this.lastMessage||this.lastMessage.createdAt<e.createdAt||this.lastMessage.createdAt===e.createdAt&&this.lastMessage.messageId===e.messageId&&this.lastMessage.updatedAt<e.updatedAt)},t.prototype._updateUnreadCount=function(e,t){if("number"==typeof e&&e>=0)if(this.myCountPreference===zt.ALL||this.myCountPreference===zt.UNREAD_MESSAGE_COUNT_ONLY)if(this.isExclusive||this.isSuper||this.isBroadcast){var n=i.V.of(this._iid).maxSuperGroupChannelUnreadCount;this.unreadMessageCount=n&&e>=n?n:e}else this.unreadMessageCount=e;else this.unreadMessageCount=0;else this.unreadMessageCount=0;"number"==typeof t&&t>=0&&(this.myCountPreference===zt.ALL||this.myCountPreference===zt.UNREAD_MENTION_COUNT_ONLY)?this.unreadMentionCount=t:this.unreadMentionCount=0},t.prototype._updateUnreadMemberState=function(e,t){var n=this._unreadMemberStateMap.get(e);return(!n||n<t)&&(this._unreadMemberStateMap.set(e,t),i.V.of(this._iid).sdkState.userId===e&&(this.myLastRead=t),!0)},t.prototype._updateUndeliveredMemberState=function(e,t){var n=this._undeliveredMemberStateMap.get(e);return(!n||n<t)&&(this._undeliveredMemberStateMap.set(e,t),!0)},t.prototype._updateTypingStatus=function(e,t){void 0===t&&(t=(new Date).getTime()),t>0?this._typingStatus.set(e.userId,{user:e,ts:t}):this._typingStatus.delete(e.userId)},t.prototype._clearTypingStatus=function(){this._typingStatus.clear(),this._typingStarted=0,this._typingEnded=0},t.prototype._setLatestMemberCount=function(e,t,n){var r=!1;return n>=this._lastMemberCountUpdated&&(this._lastMemberCountUpdated=n,r=e!==this.memberCount||t!==this.joinedMemberCount,this.memberCount=e,this.joinedMemberCount=t),r},t.prototype.isReadMessage=function(e){var t=i.V.of(this._iid).sdkState,n=this._unreadMemberStateMap.get(t.userId);return n&&n>=e.createdAt},t.prototype.serialize=function(){var e=this;return(0,i.$)(this,(function(t){t.cachedUnreadMemberState=e.cachedUnreadMemberState,t.cachedUndeliveredMemberState=e.cachedUndeliveredMemberState}))},t.prototype.createMessageCollection=function(e){return void 0===e&&(e={}),new lt(this._iid,(0,i.g)({channel:this},e))},t.prototype.createMemberListQuery=function(e){return void 0===e&&(e={}),new pt(this._iid,this.url,e)},t.prototype.addMember=function(e,t){if(void 0===t&&(t=0),!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var n=this.members.findIndex((function(t){return t.userId===e.userId}));if(n>-1){var r=this.members[n];r.state===u.JOINED&&(e.state=r.state),this.members.splice(n,1),this.memberCount--}this.members.push(e),this.memberCount++,this._updateUnreadMemberState(e.userId,t),this._updateUndeliveredMemberState(e.userId,t)}},t.prototype.removeMember=function(e){if(!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var t=e instanceof O?e.userId:e,n=this.members.findIndex((function(e){return e.userId===t}));if(n>-1)return this.members.splice(n,1),this.memberCount--,!0}return!1},t.prototype.getUnreadMemberCount=function(e){var t,n;if(e instanceof c.S&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var r=i.V.of(this._iid).sdkState,a=e.createdAt,o=0;try{for(var s=(0,i.H)(this.members),l=s.next();!l.done;l=s.next()){var d=l.value;r.userId!==d.userId&&d.state===u.JOINED&&e.sender.userId!==d.userId&&(this.cachedUnreadMemberState[d.userId]||0)<a&&o++}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o}return 0},t.prototype.getUndeliveredMemberCount=function(e){var t,n;if(e instanceof c.S&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var r=i.V.of(this._iid).sdkState,a=e.createdAt,o=0;try{for(var s=(0,i.H)(this.members),l=s.next();!l.done;l=s.next()){var d=l.value;r.userId!==d.userId&&d.state===u.JOINED&&e.sender.userId!==d.userId&&(this.cachedUndeliveredMemberState[d.userId]||0)<a&&o++}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o}return 0},t.prototype.getReadMembers=function(e,t){var n=this;void 0===t&&(t=!1);var r=i.V.of(this._iid).sdkState;if(!r.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var a=e instanceof c.S?e.sender:null,o=[];return this.members.forEach((function(i){(t||i.userId!==r.userId&&i.userId!==(null==a?void 0:a.userId))&&n._unreadMemberStateMap.get(i.userId)>=e.createdAt&&o.push(i)})),o},t.prototype.getUnreadMembers=function(e,t){var n=this;void 0===t&&(t=!1);var r=i.V.of(this._iid).sdkState;if(!r.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var a=e instanceof c.S?e.sender:null,o=[];return this.members.forEach((function(i){(t||i.userId!==r.userId&&i.userId!==(null==a?void 0:a.userId))&&n._unreadMemberStateMap.get(i.userId)<e.createdAt&&o.push(i)})),o},t.prototype.getReadStatus=function(e){var t=this;void 0===e&&(e=!1);var n=i.V.of(this._iid).sdkState;if(!n.userId||this.isExclusive||this.isSuper||this.isBroadcast)return null;var r={};return this.members.forEach((function(a){if(e||a.userId!==n.userId){var i=t._unreadMemberStateMap.get(a.userId);r[a.userId]=new A(t._iid,{channel_url:t.url,channel_type:t.channelType,user:O.payloadify(a),ts:i})}})),r},t.prototype.getTypingUsers=function(){var e=[];return this._typingStatus.forEach((function(t){var n=t.user;e.push(n)})),e},t.prototype.invalidateTypingStatus=function(){var e=this,t=i.V.of(this._iid).typingIndicatorInvalidateTime,n=Date.now(),r=!1;return this._typingStatus.forEach((function(a,i){var o=a.ts;n-o>=t&&(e._typingStatus.delete(i),r=!0)})),r},t.prototype.refresh=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a,o;return(0,i.c)(this,(function(c){switch(c.label){case 0:return e=i.V.of(this._iid),t=e.requestQueue,n=e.dispatcher,r=new Q({channelUrl:this.url}),[4,t.send(r)];case 1:return a=c.sent(),o=a.as(Y).channel,n.dispatch(new s.m({channels:[o],source:s.n.REQUEST_CHANNEL})),[2,o]}}))}))},t.prototype.freeze=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.freeze.call(this)];case 1:return t.sent(),i.V.of(this._iid).dispatcher.dispatch(new s.m({channels:[this],source:s.n.EVENT_CHANNEL_HIDDEN})),[2]}}))}))},t.prototype.unfreeze=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.unfreeze.call(this)];case 1:return t.sent(),i.V.of(this._iid).dispatcher.dispatch(new s.m({channels:[this],source:s.n.EVENT_CHANNEL_UNHIDDEN})),[2]}}))}))},t.prototype.updateChannel=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a,o,c,l;return(0,i.c)(this,(function(u){switch(u.label){case 0:return t=(0,i.g)((0,i.g)({},ut),e),(0,i.r)(function(e){return(0,i.a)("string",e.coverUrl,!0)&&((0,i.i)(e.coverImage)||(0,i.a)("string",e.coverImage)||null===e.coverImage)&&(0,i.a)("boolean",e.isDistinct,!0)&&(0,i.a)("boolean",e.isPublic,!0)&&(0,i.a)("boolean",e.isDiscoverable,!0)&&(0,i.a)("string",e.accessCode,!0)&&(0,i.a)("string",e.name,!0)&&(0,i.a)("string",e.data,!0)&&(0,i.a)("string",e.customType,!0)&&(0,i.l)("string",e.operatorUserIds,!0)&&(0,i.a)("number",e.messageSurvivalSeconds,!0)}(t)).throw(i.S.invalidParameters),n=i.V.of(this._iid),r=n.dispatcher,a=n.requestQueue,o=new yt((0,i.g)({channelUrl:this.url},t)),[4,a.send(o)];case 1:return c=u.sent(),l=c.as(gt).channel,r.dispatch(new s.m({channels:[l],source:s.n.EVENT_CHANNEL_UPDATED})),[2,l]}}))}))},t.prototype.invite=function(e){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){return(0,i.r)(e.every((function(e){return e instanceof i.U}))).throw(i.S.invalidParameters),[2,this.inviteWithUserIds(e.map((function(e){return e.userId})))]}))}))},t.prototype.inviteWithUserIds=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a,o,c;return(0,i.c)(this,(function(l){switch(l.label){case 0:return(0,i.r)((0,i.l)("string",e)).throw(i.S.invalidParameters),t=i.V.of(this._iid),n=t.dispatcher,r=t.requestQueue,a=new ye({channelUrl:this.url,userIds:e}),[4,r.send(a)];case 1:return o=l.sent(),c=o.as(ge).channel,n.dispatch(new s.m({channels:[c],source:s.n.EVENT_CHANNEL_INVITED})),[2,c]}}))}))},t.prototype.join=function(e){return void 0===e&&(e=null),(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a,o,c,l;return(0,i.c)(this,(function(d){switch(d.label){case 0:return(0,i.r)((0,i.a)("string",e)||null===e).throw(i.S.invalidParameters),t=i.V.of(this._iid),n=t.dispatcher,r=t.sdkState,a=t.requestQueue,o=new fe({channelUrl:this.url,userId:r.userId,accessCode:e}),[4,a.send(o)];case 1:return c=d.sent(),(l=c.as(he).channel).myMemberState=this.myMemberState=u.JOINED,n.dispatch(new s.m({channels:[l],source:s.n.EVENT_CHANNEL_JOINED})),[2,this]}}))}))},t.prototype.leave=function(e){return void 0===e&&(e=!1),(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a;return(0,i.c)(this,(function(o){switch(o.label){case 0:return t=i.V.of(this._iid),n=t.sdkState,r=t.requestQueue,a=new me({channelUrl:this.url,userId:n.userId,shouldRemoveOperatorStatus:e}),[4,r.send(a)];case 1:return o.sent(),this.myMemberState=u.NONE,[2]}}))}))},t.prototype.acceptInvitation=function(e){return void 0===e&&(e=null),(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a,o,c,l;return(0,i.c)(this,(function(d){switch(d.label){case 0:return(0,i.r)((0,i.a)("string",e)||null===e).throw(i.S.invalidParameters),t=i.V.of(this._iid),n=t.dispatcher,r=t.sdkState,a=t.requestQueue,o=new mt({channelUrl:this.url,userId:r.userId,accessCode:e}),[4,a.send(o)];case 1:return c=d.sent(),(l=c.as(_t).channel).myMemberState=this.myMemberState=u.JOINED,n.dispatch(new s.m({channels:[l],source:s.n.EVENT_CHANNEL_ACCEPTED_INVITE})),[2,this]}}))}))},t.prototype.declineInvitation=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:return e=i.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new be({channelUrl:this.url,userId:t.userId}),[4,n.send(r)];case 1:return a.sent(),this.myMemberState=u.NONE,[2,this]}}))}))},t.prototype.sendUserMessage=function(t){var n=this,r=new c.f,a=i.V.of(this._iid).dispatcher,o=s.d.of(this._iid);return e.prototype.sendUserMessage.call(this,t).onPending((function(e){o.completeCurrentAndProcessNextAutoResend(e),r._trigger(null,e)})).onFailed((function(e,t){t&&o.completeCurrentAndProcessNextAutoResend(t),r._trigger(e,t)})).onSucceeded((function(e){n.hiddenState===jt.HIDDEN_ALLOW_AUTO_UNHIDE&&(n.hiddenState=jt.UNHIDDEN),o.completeCurrentAndProcessNextAutoResend(e),n._shouldUpdateLastMessageWith(e)&&(n.lastMessage=e),je.of(n._iid).handlers.map((function(e){return e.onChannelChanged(n)})),a.dispatch(new s.m({channels:[n],source:s.n.EVENT_MESSAGE_SENT})),r._trigger(null,e)})),r},t.prototype.updateUserMessage=function(t,n){return(0,i.b)(this,void 0,void 0,(function(){var r,a,o,c,l=this;return(0,i.c)(this,(function(u){switch(u.label){case 0:return r=i.V.of(this._iid).dispatcher,[4,e.prototype.updateUserMessage.call(this,t,n)];case 1:return a=u.sent(),o=!1,!a.silent&&this._shouldUpdateLastMessageWith(a)&&(this.lastMessage=a,o=!0),c=!1,this.lastPinnedMessage&&this.lastPinnedMessage.messageId===a.messageId&&(this.lastPinnedMessage=a,o=!0,c=!0),o&&(je.of(this._iid).handlers.map((function(e){return e.onChannelChanged(l)})),r.dispatch(new s.m({channels:[this],source:c?s.n.EVENT_PINNED_MESSAGE_UPDATED:s.n.EVENT_MESSAGE_UPDATED}))),c&&je.of(this._iid).handlers.map((function(e){return e.onPinnedMessageUpdated(l)})),r.dispatch(new i.af({messages:[a],source:i.ae.EVENT_MESSAGE_UPDATED})),[2,a]}}))}))},t.prototype._autoResendUserMessage=function(t){var n=this,r=new c.f,a=i.V.of(this._iid).dispatcher,o=s.d.of(this._iid);return e.prototype._autoResendUserMessage.call(this,t).onPending((function(e){o.completeCurrentAndProcessNextAutoResend(e),r._trigger(null,e)})).onFailed((function(e,t){o.completeCurrentAndProcessNextAutoResend(t),r._trigger(e,t)})).onSucceeded((function(e){var t=je.of(n._iid);o.completeCurrentAndProcessNextAutoResend(e),n._shouldUpdateLastMessageWith(e)&&(n.lastMessage=e),t.handlers.map((function(e){return e.onChannelChanged(n)})),a.dispatch(new s.m({channels:[n],source:s.n.EVENT_MESSAGE_SENT})),r._trigger(null,e)})),r},t.prototype.sendFileMessage=function(t){var n=this,r=new c.f,a=i.V.of(this._iid).dispatcher,o=s.d.of(this._iid);return e.prototype.sendFileMessage.call(this,t).onPending((function(e){o.completeCurrentAndProcessNextAutoResend(e),r._trigger(null,e)})).onFailed((function(e,t){t&&o.completeCurrentAndProcessNextAutoResend(t),r._trigger(e,t)})).onSucceeded((function(e){var t=je.of(n._iid);o.completeCurrentAndProcessNextAutoResend(e),n._shouldUpdateLastMessageWith(e)&&(n.lastMessage=e),t.handlers.map((function(e){return e.onChannelChanged(n)})),a.dispatch(new s.m({channels:[n],source:s.n.EVENT_MESSAGE_SENT})),r._trigger(null,e)})),r},t.prototype.updateFileMessage=function(t,n){return(0,i.b)(this,void 0,void 0,(function(){var r,a,o,c,l=this;return(0,i.c)(this,(function(u){switch(u.label){case 0:return r=i.V.of(this._iid).dispatcher,[4,e.prototype.updateFileMessage.call(this,t,n)];case 1:return a=u.sent(),o=!1,!a.silent&&this._shouldUpdateLastMessageWith(a)&&(this.lastMessage=a,o=!0),c=!1,this.lastPinnedMessage&&this.lastPinnedMessage.messageId===a.messageId&&(this.lastPinnedMessage=a,o=!0,c=!0),o&&(je.of(this._iid).handlers.map((function(e){return e.onChannelChanged(l)})),r.dispatch(new s.m({channels:[this],source:c?s.n.EVENT_PINNED_MESSAGE_UPDATED:s.n.EVENT_MESSAGE_UPDATED}))),c&&je.of(this._iid).handlers.map((function(e){return e.onPinnedMessageUpdated(l)})),r.dispatch(new i.af({messages:[a],source:i.ae.EVENT_MESSAGE_UPDATED})),[2,a]}}))}))},t.prototype._autoResendFileMessage=function(t){var n=this,r=new c.f,a=i.V.of(this._iid).dispatcher,o=s.d.of(this._iid);return e.prototype._autoResendFileMessage.call(this,t).onPending((function(e){o.completeCurrentAndProcessNextAutoResend(e),r._trigger(null,e)})).onFailed((function(e,t){o.completeCurrentAndProcessNextAutoResend(t),r._trigger(e,t)})).onSucceeded((function(e){var t=je.of(n._iid);o.completeCurrentAndProcessNextAutoResend(e),n._shouldUpdateLastMessageWith(e)&&(n.lastMessage=e),t.handlers.map((function(e){return e.onChannelChanged(n)})),a.dispatch(new s.m({channels:[n],source:s.n.EVENT_MESSAGE_SENT})),r._trigger(null,e)})),r},t.prototype.deleteMessage=function(t){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.deleteMessage.call(this,t)];case 1:return n.sent(),0===t.messageId&&t instanceof c.S&&i.V.of(this._iid).dispatcher.dispatch(new i.aC({reqId:t.reqId,source:i.ae.EVENT_MESSAGE_DELETED})),[2]}}))}))},t.prototype.hide=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a,o,c,l,u;return(0,i.c)(this,(function(d){switch(d.label){case 0:return t=(0,i.g)((0,i.g)({},dt),e),(0,i.r)(function(e){return(0,i.a)("boolean",e.hidePreviousMessages)&&(0,i.a)("boolean",e.allowAutoUnhide)}(t)).throw(i.S.invalidParameters),n=i.V.of(this._iid),r=n.dispatcher,a=n.sdkState,o=n.requestQueue,c=new Ie((0,i.g)({channelUrl:this.url,userId:a.userId},t)),[4,o.send(c)];case 1:return l=d.sent(),u=l.as(Me).messageOffsetTimestamp,this.hiddenState=t.allowAutoUnhide?jt.HIDDEN_ALLOW_AUTO_UNHIDE:jt.HIDDEN_PREVENT_AUTO_UNHIDE,t.hidePreviousMessages&&this._updateUnreadCount(0,0),u&&(this.messageOffsetTimestamp=u),r.dispatch(new s.m({channels:[this],source:s.n.EVENT_CHANNEL_HIDDEN})),[2,this]}}))}))},t.prototype.unhide=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:return e=i.V.of(this._iid),t=e.dispatcher,n=e.requestQueue,r=new bt({channelUrl:this.url}),[4,n.send(r)];case 1:return a.sent(),this.hiddenState=jt.UNHIDDEN,t.dispatch(new s.m({channels:[this],source:s.n.EVENT_CHANNEL_UNHIDDEN})),[2,this]}}))}))},t.prototype.delete=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t;return(0,i.c)(this,(function(n){switch(n.label){case 0:return e=i.V.of(this._iid).requestQueue,t=new vt({channelUrl:this.url}),[4,e.send(t)];case 1:return n.sent(),[2]}}))}))},t.prototype.markAsRead=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a,o,c,l=this;return(0,i.c)(this,(function(u){switch(u.label){case 0:return e=i.V.of(this._iid),t=e.sdkState,n=e.dispatcher,r=e.requestQueue,a=new ke({channelUrl:this.url}),[4,r.send(a)];case 1:return o=u.sent(),c=o.as(Ee).readStatus,this._updateUnreadMemberState(t.userId,c.readAt),(this.unreadMessageCount>0||this.unreadMentionCount>0)&&(this._updateUnreadCount(0,0),je.of(this._iid).handlers.map((function(e){return e.onChannelChanged(l)}))),n.dispatch(new s.m({channels:[this],source:s.n.EVENT_CHANNEL_READ})),[2]}}))}))},t.prototype.markAsDelivered=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:return e=i.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new Se({channelUrl:this.url,userId:t.userId}),[4,n.send(r)];case 1:return a.sent(),[2]}}))}))},t.prototype.startTyping=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a;return(0,i.c)(this,(function(o){return e=i.V.of(this._iid),t=e.requestQueue,n=e.typingIndicatorThrottle,(r=(new Date).getTime())-this._typingStarted>=n&&(this._typingStarted=r,this._typingEnded=0,a=new Ae({channelUrl:this.url,time:this._typingStarted}),t.send(a)),[2]}))}))},t.prototype.endTyping=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a;return(0,i.c)(this,(function(o){return e=i.V.of(this._iid),t=e.requestQueue,n=e.typingIndicatorThrottle,(r=(new Date).getTime())-this._typingEnded>=n&&(this._typingStarted=0,this._typingEnded=r,a=new Pe({channelUrl:this.url,time:this._typingStarted}),t.send(a)),[2]}))}))},t.prototype.createScheduledUserMessage=function(e){e=(0,i.g)((0,i.g)({},s.S),e),(0,i.r)((0,s.v)(e)).throw(i.S.invalidParameters);var t=new c.f;return this._createScheduledUserMessage(e,t),t},t.prototype.updateScheduledUserMessage=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n,r,a;return(0,i.c)(this,(function(s){switch(s.label){case 0:return n=(0,i.g)((0,i.g)({},Tt),t),(0,i.r)(function(e){return(0,o.I)(e)&&(0,i.a)("number",e.scheduledAt,!0)}(n)).throw(i.S.invalidParameters),r=i.V.of(this._iid).requestQueue,a=new Ot((0,i.g)({reqId:this._generateRequestId(),scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url},n)),[4,r.send(a)];case 1:return[2,s.sent().as(o.J).message]}}))}))},t.prototype.createScheduledFileMessage=function(e){var t=this;e=(0,i.g)((0,i.g)({},s.q),e),(0,i.r)((0,s.r)(e)).throw(i.S.invalidParameters);var n=Date.now(),r=this._generateRequestId(),a=new c.f;return(0,i.aa)(o.K).then((function(){var o=t._createPendingScheduledFileMessage(e,r,n);(0,i.x)((function(){return(0,i.b)(t,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return[2,a._trigger(null,o)]}))}))}))})),(0,i.i)(e.file)?this._uploadFileAndUpdateParams(e).then((function(){return t._createScheduledFileMessage(e,a,r,n)})):this._createScheduledFileMessage(e,a,r,n),a},t.prototype.updateScheduledFileMessage=function(e,t){return(0,i.b)(this,void 0,void 0,(function(){var n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:return n=(0,i.g)((0,i.g)({},Ct),t),(0,i.r)(function(e){return(0,o.G)(e)&&(0,i.a)("number",e.scheduledAt,!0)&&((0,i.i)(e.file)||(0,i.a)("string",e.fileUrl))&&(0,i.a)("string",e.fileName,!0)&&(0,i.a)("string",e.mimeType,!0)&&(0,i.a)("number",e.fileSize,!0)&&(null===e.thumbnailSizes||e.thumbnailSizes.every((function(e){return(0,i.a)("object",e)&&e.maxWidth>0&&e.maxHeight>0})))}(n)).throw(i.S.invalidParameters),(0,i.i)(n.file)?[4,this._uploadFileAndUpdateParams(n)]:[3,2];case 1:a.sent(),a.label=2;case 2:return r=new It((0,i.g)({reqId:this._generateRequestId(),scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url},n)),[4,i.V.of(this._iid).requestQueue.send(r)];case 3:return[2,a.sent().as(Mt).message]}}))}))},t.prototype.cancelScheduledMessage=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t;return(0,i.c)(this,(function(n){switch(n.label){case 0:return t=new At({scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url}),[4,i.V.of(this._iid).requestQueue.send(t)];case 1:return n.sent(),[2]}}))}))},t.prototype.sendScheduledMessageNow=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t;return(0,i.c)(this,(function(n){switch(n.label){case 0:return t=new Nt({scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url}),[4,i.V.of(this._iid).requestQueue.send(t)];case 1:return n.sent(),[2]}}))}))},t.prototype.getMyPushTriggerOption=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a,o;return(0,i.c)(this,(function(s){switch(s.label){case 0:return e=i.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new Dt({userId:t.userId,channelUrl:this.url}),[4,n.send(r)];case 1:return a=s.sent(),o=a.as(Ut).pushTriggerOption,this.myPushTriggerOption=o,[2,o]}}))}))},t.prototype.setMyPushTriggerOption=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a,o,c,l;return(0,i.c)(this,(function(u){switch(u.label){case 0:return(0,i.r)((0,i.I)(i.J,e)).throw(i.S.invalidParameters),t=i.V.of(this._iid),n=t.dispatcher,r=t.sdkState,a=t.requestQueue,o=new Pt({userId:r.userId,channelUrl:this.url,pushTriggerOption:e}),[4,a.send(o)];case 1:return c=u.sent(),l=c.as(xt).pushTriggerOption,this.myPushTriggerOption=l,n.dispatch(new s.m({channels:[this],source:s.n.EVENT_CHANNEL_UPDATED})),[2,l]}}))}))},t.prototype.setMyCountPreference=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a,o,c,l;return(0,i.c)(this,(function(u){switch(u.label){case 0:return(0,i.r)((0,i.I)(zt,e)).throw(i.S.invalidParameters),t=i.V.of(this._iid),n=t.dispatcher,r=t.sdkState,a=t.requestQueue,o=new wt({channelUrl:this.url,userId:r.userId,countPreference:e}),[4,a.send(o)];case 1:return c=u.sent(),l=c.as(kt).countPreference,this.myCountPreference=l,this._updateUnreadCount(this.unreadMessageCount,this.unreadMentionCount),n.dispatch(new s.m({channels:[this],source:s.n.EVENT_CHANNEL_UPDATED})),[2,l]}}))}))},t.prototype.resetMyHistory=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a,o;return(0,i.c)(this,(function(c){switch(c.label){case 0:return e=i.V.of(this._iid),t=e.dispatcher,n=e.requestQueue,r=new Et({channelUrl:this.url}),[4,n.send(r)];case 1:return a=c.sent(),o=a.as(St).messageOffsetTimestamp,this.messageOffsetTimestamp=o,t.dispatch(new s.m({channels:[this],source:s.n.EVENT_CHANNEL_RESET_HISTORY})),[2,this]}}))}))},t.prototype.pinMessage=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return(0,i.r)((0,i.a)("number",e)&&e>0).throw(i.S.invalidParameters),t=i.V.of(this._iid).requestQueue,n=new Lt({channelType:this.channelType,channelUrl:this.url,messageId:e}),[4,t.send(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.unpinMessage=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return(0,i.r)((0,i.a)("number",e)&&e>0).throw(i.S.invalidParameters),t=i.V.of(this._iid).requestQueue,n=new Ft({channelType:this.channelType,channelUrl:this.url,messageId:e}),[4,t.send(n)];case 1:return r.sent(),[2]}}))}))},t.prototype._uploadFileAndUpdateParams=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t,n,r,a,o,s,l,u,d,f,h;return(0,i.c)(this,(function(p){switch(p.label){case 0:return(0,i.i)(e.file)?(t=i.V.of(this._iid).requestQueue,n=new c.n({file:e.file,channelUrl:this.url,thumbnailSizes:e.thumbnailSizes,requestId:this._generateRequestId()}),[4,t.send(n)]):[3,2];case 1:r=p.sent(),a=r.as(c.m),o=a.url,s=a.fileSize,l=void 0===s?e.fileSize:s,u=a.thumbnailSizes,d=void 0===u?e.thumbnailSizes:u,f=a.requireAuth,h=void 0!==f&&f,e.fileUrl=o,e.fileSize=l,e.thumbnailSizes=d,e.requireAuth=h,p.label=2;case 2:return[2]}}))}))},t}(o.f),Gt={},Vt=function(){function e(e){var t=e._iid,n=e.limit,r=void 0===n?100:n,a=this;this._sync=null,this._connectionEventContext=null,this.ref=0,this._metadata=null,this._iid=t,this._limit=r;var o,c=i.V.of(this._iid),l=c.sdkState,u=c.dispatcher,d=c.logger;this._metadataKey=(o=l.userId,"sendbird:".concat(o,"@groupchannel/sync.meta"));var f=function(e){return"sendbird:".concat(e,"@groupchannel/sync")}(l.userId);this._sync=new Be(f,(function(){return(0,i.b)(a,void 0,void 0,(function(){var e,t,n,r,a,o;return(0,i.c)(this,(function(c){switch(c.label){case 0:return e={hasNext:!0,nextToken:""},[4,this.loadMetadata()];case 1:if(c.sent(),d.debug("channel background sync from",this._metadata.token),this._metadata.completed)return[3,9];c.label=2;case 2:return c.trys.push([2,5,,8]),[4,je.of(this._iid).getMyGroupChannels(this._metadata.token,{includeEmpty:!0,order:s.G.CHRONOLOGICAL},this._limit,s.n.SYNC_CHANNEL_BACKGROUND)];case 3:return t=c.sent(),n=t.channels,r=t.token,e.hasNext=n.length>=this._limit&&!!r,e.nextToken=r,this._metadata.token=r,(o=this._metadata.range).extends.apply(o,(0,i.p)([],(0,i.q)(n.map((function(e){return e.createdAt}))),!1)),this._metadata.completed=!e.hasNext,d.debug("channel background sync progress",e),[4,this.saveMetadata()];case 4:return c.sent(),[3,8];case 5:return a=c.sent(),d.debug("channel background sync error",a),a instanceof i.S&&a.isInvalidTokenError?[4,this.clearMetaData()]:[3,7];case 6:c.sent(),c.label=7;case 7:throw a;case 8:return[3,10];case 9:e.hasNext=!1,e.nextToken="",c.label=10;case 10:return[2,e]}}))}))})),this._connectionEventContext=u.on((function(e){e instanceof i.t&&(e.stateType===i.w.CONNECTED?a.resume():a.pause())}))}return e.of=function(t){return Gt[t]||(Gt[t]=new e({_iid:t})),Gt[t].ref++,Gt[t]},e.clear=function(e){Gt[e]&&(Gt[e].close(),delete Gt[e])},Object.defineProperty(e.prototype,"range",{get:function(){var e;return null===(e=this._metadata)||void 0===e?void 0:e.range},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"completed",{get:function(){var e;return!!(null===(e=this._metadata)||void 0===e?void 0:e.completed)},enumerable:!1,configurable:!0}),e.prototype.loadMetadata=function(){return(0,i.b)(this,void 0,void 0,(function(){var e;return(0,i.c)(this,(function(t){switch(t.label){case 0:return this._metadata?[3,2]:[4,i.V.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:e=t.sent(),this._metadata={token:e?e.token:"",range:new Le(e?e.range:{top:Number.MAX_SAFE_INTEGER,bottom:0}),completed:!!e&&e.completed},t.label=2;case 2:return[2,this._metadata]}}))}))},e.prototype.saveMetadata=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return this._metadata?[4,i.V.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return e.sent(),[2,!0];case 2:return[2,!1]}}))}))},e.prototype.clearMetaData=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return[4,i.V.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return e.sent(),this._metadata=null,[2]}}))}))},e.prototype.resume=function(){var e,t,n=i.V.of(this._iid),r=n.logger;n.connectionManager.isConnected&&(r.debug("channel background sync resume()"),this._sync.start(null!==(t=null===(e=this._metadata)||void 0===e?void 0:e.token)&&void 0!==t?t:""))},e.prototype.pause=function(){i.V.of(this._iid).logger.debug("channel background sync stop()"),this._sync.stop()},e.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Gt[this._iid])},e}(),qt={},Wt=function(){function e(e){var t=e._iid,n=this;this._sync=null,this._connectionEventContext=null,this.ref=0,this._metadataKey=null,this._metadata=null,this._iid=t;var r,a=i.V.of(this._iid),o=a.logger,c=a.sdkState,l=a.dispatcher;this._metadataKey=(r=c.userId,"sendbird:".concat(r,"@groupchannel/changelogs.meta"));var u=function(e){return"sendbird:".concat(e,"@groupchannel/changelogs")}(c.userId);this._sync=new Be(u,(function(){return(0,i.b)(n,void 0,void 0,(function(){var e,t,n,r,a;return(0,i.c)(this,(function(c){switch(c.label){case 0:return e={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:c.sent(),o.debug("channel changelog sync from",this._metadata.token),c.label=2;case 2:return c.trys.push([2,5,,8]),[4,je.of(this._iid).getMyGroupChannelChangeLogs(this._metadata.token,{},s.n.SYNC_CHANNEL_CHANGELOGS)];case 3:return t=c.sent(),n=t.hasMore,r=t.token,e.hasNext=n,e.nextToken=r,this._metadata.token=r,o.debug("channel changelog sync progress",e),[4,this.saveMetadata()];case 4:return c.sent(),[3,8];case 5:return a=c.sent(),o.debug("channel changelog sync error",a),a instanceof i.S&&a.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:c.sent(),c.label=7;case 7:throw a;case 8:return[2,e]}}))}))})),this._connectionEventContext=l.on((function(e){e instanceof i.t&&(e.stateType===i.w.CONNECTED?n.resume():n.pause())}))}return e.of=function(t){return qt[t]||(qt[t]=new e({_iid:t})),qt[t].ref++,qt[t]},e.clear=function(e){qt[e]&&(qt[e].close(),delete qt[e])},e.prototype.loadMetadata=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r;return(0,i.c)(this,(function(a){switch(a.label){case 0:return this._metadata?[3,2]:(e=i.V.of(this._iid),t=e.cacheContext,n=e.firstConnectedAt,[4,t.preference.get(this._metadataKey)]);case 1:r=a.sent(),this._metadata={token:r?r.token:n},a.label=2;case 2:return[2,this._metadata]}}))}))},e.prototype.saveMetadata=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return this._metadata?[4,i.V.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return e.sent(),[2,!0];case 2:return[2,!1]}}))}))},e.prototype.clearMetadata=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return[4,i.V.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return e.sent(),this._metadata=null,[2]}}))}))},e.prototype.resume=function(){i.V.of(this._iid).connectionManager.isConnected&&this._sync.start(0)},e.prototype.pause=function(){this._sync.stop()},e.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete qt[this._iid])},e}(),Kt=function(){function e(e,t){var n=t.filter,r=t.order,a=t.limit,c=this;this.channels=[],this._backgroundSync=null,this._changelogSync=null,this._iid=e,this._key="gcc-".concat((0,i.u)()),this.filter=null!=n?n:new P,this.order=null!=r?r:s.G.LATEST_LAST_MESSAGE,this._hasMore=!0,this._token="",this._limit=null!=a?a:o.o;var l=i.V.of(this._iid),u=l.sdkState,d=l.cacheContext,f=l.dispatcher;d.localCacheEnabled&&(this._backgroundSync=Vt.of(e),this._backgroundSync.resume()),this._changelogSync=Wt.of(e),this._changelogSync.resume(),je.of(this._iid).subscribeGroupChannelEvent(this._key,{onUpdate:function(e,t){var n=e.filter((function(e){return c.filter.match(e,u.userId)})),r=e.filter((function(e){return!c.filter.match(e,u.userId)})).map((function(e){return e.url}));n.length>0&&c._addChannelsToView(n,t),r.length>0&&c._removeChannelsFromView(r,t)},onRemove:function(e,t){c._removeChannelsFromView(e,t)}}),f.on((function(e){e instanceof i.t&&e.stateType===i.w.LOGOUT&&c.dispose()}))}return Object.defineProperty(e.prototype,"hasMore",{get:function(){return this._hasMore},enumerable:!1,configurable:!0}),e.prototype.setGroupChannelCollectionHandler=function(e){this._handler=e},e.prototype._addChannelsToView=function(e,t,n){var r,a,o=this;void 0===n&&(n=!1);var c=[],l=[];try{for(var u=(0,i.H)(e),d=u.next();!d.done;d=u.next()){var f=d.value,h=$e(this.channels,f,this.order),p=h.place;if(h.contains)switch(l.push(f),t){case s.n.EVENT_CHANNEL_UPDATED:case s.n.EVENT_MESSAGE_SENT:case s.n.EVENT_MESSAGE_RECEIVED:this.channels.splice(p,1);var m=$e(this.channels,f,this.order).place;this.channels.splice(m,0,f);break;default:this.channels[p]=f}else p===this.channels.length?(n||!this._backgroundSync||this._backgroundSync.completed)&&(c.push(f),this.channels.push(f)):(c.push(f),this.channels.splice(p,0,f))}}catch(e){r={error:e}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}(0,s.s)(t)&&(0,i.x)((function(){return(0,i.b)(o,void 0,void 0,(function(){var e,n,r;return(0,i.c)(this,(function(a){return e=new He(t),c.length>0&&(null===(n=this._handler)||void 0===n?void 0:n.onChannelsAdded)&&this._handler.onChannelsAdded(e,c),l.length>0&&(null===(r=this._handler)||void 0===r?void 0:r.onChannelsUpdated)&&this._handler.onChannelsUpdated(e,l),[2]}))}))}))},e.prototype._removeChannelsFromView=function(e,t){var n,r,a=this,o=[],c=function(e){var t=l.channels.findIndex((function(t){return t.url===e}));t>=0&&(o.push(l.channels[t].url),l.channels.splice(t,1))},l=this;try{for(var u=(0,i.H)(e),d=u.next();!d.done;d=u.next())c(d.value)}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return(0,s.s)(t)&&o.length>0&&(0,i.x)((function(){return(0,i.b)(a,void 0,void 0,(function(){var e,n;return(0,i.c)(this,(function(r){return e=new He(t),(null===(n=this._handler)||void 0===n?void 0:n.onChannelsDeleted)&&this._handler.onChannelsDeleted(e,o),[2]}))}))})),o},e.prototype._getLocalChannels=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t;return(0,i.c)(this,(function(n){switch(n.label){case 0:return e=je.of(this._iid),t=this.channels.length>0?function(e,t){var n,r;switch(t){case s.G.LATEST_LAST_MESSAGE:return null!==(r=null===(n=e.lastMessage)||void 0===n?void 0:n.createdAt)&&void 0!==r?r:e.createdAt;case s.G.CHRONOLOGICAL:return e.createdAt;case s.G.CHANNEL_NAME_ALPHABETICAL:return e.name}return null}(this.channels[this.channels.length-1],this.order):null,[4,e.getChannelsFromCache(t,this.filter,this.order,this._limit)];case 1:return[2,n.sent()]}}))}))},e.prototype._getRemoteChannels=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return[4,je.of(this._iid).getMyGroupChannels(this._token,(0,i.g)((0,i.g)({},this.filter),{order:this.order}),this._limit)];case 1:return e=r.sent(),t=e.channels,n=e.token,this._token=n,this._hasMore=!!n,[2,t]}}))}))},e.prototype.loadMore=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t=this;return(0,i.c)(this,(function(n){switch(n.label){case 0:return this._hasMore?(e=[],[4,(0,i.G)((function(){return(0,i.b)(t,void 0,void 0,(function(){return(0,i.c)(this,(function(t){switch(t.label){case 0:return[4,this._getLocalChannels()];case 1:return e=t.sent(),[2]}}))}))}))]):[3,3];case 1:return n.sent(),[4,(0,i.G)((function(){return(0,i.b)(t,void 0,void 0,(function(){return(0,i.c)(this,(function(t){switch(t.label){case 0:return[4,this._getRemoteChannels()];case 1:return e=t.sent(),[2]}}))}))}))];case 2:return n.sent(),this._addChannelsToView(e,s.n.REQUEST_CHANNEL,!0),[2,e];case 3:return[2,[]]}}))}))},e.prototype.dispose=function(){var e,t;null===(e=this._backgroundSync)||void 0===e||e.close(),null===(t=this._changelogSync)||void 0===t||t.close(),je.of(this._iid).unsubscribeGroupChannelEvent(this._key)},e}(),Qt=function(e){function t(t){var n=this,r=t.token,a=t.limit,o=t.order,s=t.includeEmpty,c=t.membershipFilter,l=t.channelNameContainsFilter,u=t.channelUrlsFilter,d=t.customTypesFilter,f=t.customTypeStartsWithFilter,h=t.superChannelFilter,p=t.metadataOrderKeyFilter,m=t.metadataKey,_=t.metadataValues,y=t.metadataValueStartsWith,g=t.includeFrozen,v=t.includeMetaData;return(n=e.call(this)||this).method=i.A.GET,n.path=i.ad,n.params=(0,i.e)({token:r,limit:a,order:o,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:s,public_mode:w.PUBLIC,public_membership_mode:c,name_contains:l,channel_urls:u,custom_types:d,custom_type_startswith:f,super_mode:h,metadata_order_key:p,metadata_key:m,metadata_values:_,metadata_value_startswith:y,show_frozen:g,show_metadata:v}),n}return(0,i._)(t,e),t}(i.f),Yt=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.token=null,r.channels=[],r.ts=null;var a=n.next,i=n.channels,o=n.ts;return r.token=a,i&&i.length>0&&(r.channels=i.map((function(e){return e.ts=o,new Ht(t,e)}))),r.ts="number"==typeof o?o:null,r}return(0,i._)(t,e),t}(i.h);!function(e){e.ALL="all",e.JOINED="joined"}(Bt||(Bt={}));var Zt=function(e){function t(t,n){var r,a,i,o,c,l,u,d,f,h,p,m,_,y,g=this;return(g=e.call(this,t,n)||this).includeEmpty=!1,g.includeFrozen=!0,g.includeMetaData=!0,g.channelUrlsFilter=null,g.customTypesFilter=null,g.customTypeStartsWithFilter=null,g.channelNameContainsFilter=null,g.membershipFilter=Bt.ALL,g.superChannelFilter=E.ALL,g.metadataKey=null,g.metadataValues=null,g.metadataOrderKeyFilter=null,g.metadataValueStartsWith=null,g.order=s.P.CHRONOLOGICAL,g.includeEmpty=null!==(r=n.includeEmpty)&&void 0!==r&&r,g.includeFrozen=null===(a=n.includeFrozen)||void 0===a||a,g.includeMetaData=null===(i=n.includeMetaData)||void 0===i||i,g.channelUrlsFilter=null!==(o=n.channelUrlsFilter)&&void 0!==o?o:null,g.customTypesFilter=null!==(c=n.customTypesFilter)&&void 0!==c?c:null,g.customTypeStartsWithFilter=null!==(l=n.customTypeStartsWithFilter)&&void 0!==l?l:null,g.channelNameContainsFilter=null!==(u=n.channelNameContainsFilter)&&void 0!==u?u:null,g.membershipFilter=null!==(d=n.membershipFilter)&&void 0!==d?d:Bt.ALL,g.superChannelFilter=null!==(f=n.superChannelFilter)&&void 0!==f?f:E.ALL,g.metadataKey=null!==(h=n.metadataKey)&&void 0!==h?h:null,g.metadataValues=null!==(p=n.metadataValues)&&void 0!==p?p:null,g.metadataOrderKeyFilter=null!==(m=n.metadataOrderKeyFilter)&&void 0!==m?m:null,g.metadataValueStartsWith=null!==(_=n.metadataValueStartsWith)&&void 0!==_?_:null,g.order=null!==(y=n.order)&&void 0!==y?y:s.P.CHRONOLOGICAL,g}return(0,i._)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,i.a)("boolean",this.includeEmpty)&&(0,i.a)("boolean",this.includeFrozen)&&(0,i.a)("boolean",this.includeMetaData)&&(0,i.a)("string",this.channelNameContainsFilter,!0)&&(0,i.l)("string",this.channelUrlsFilter,!0)&&(0,i.l)("string",this.customTypesFilter,!0)&&(0,i.a)("string",this.customTypeStartsWithFilter,!0)&&(0,i.I)(Bt,this.membershipFilter)&&(0,i.I)(E,this.superChannelFilter)&&(0,i.I)(s.P,this.order)&&(0,i.a)("string",this.metadataOrderKeyFilter,!0)&&(0,i.a)("string",this.metadataKey,!0)&&(0,i.l)("string",this.metadataValues,!0)&&(0,i.a)("string",this.metadataValueStartsWith,!0)},t.prototype.next=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a,o,c,l,u;return(0,i.c)(this,(function(d){switch(d.label){case 0:return this._validate()?this._isLoading?[3,3]:(e=[],this._hasNext?(this._isLoading=!0,t=i.V.of(this._iid),n=t.requestQueue,r=t.dispatcher,a=new Qt((0,i.g)((0,i.g)({},this),{token:this._token})),[4,n.send(a)]):[3,2]):[3,5];case 1:return o=d.sent(),c=o.as(Yt),l=c.channels,u=c.token,this._token=u,this._hasNext=!!u,r.dispatch(new s.m({channels:l,source:s.n.REQUEST_CHANNEL})),this._isLoading=!1,[2,l];case 2:return[2,e];case 3:throw i.S.queryInProgress;case 4:return[3,6];case 5:throw i.S.invalidParameters;case 6:return[2]}}))}))},t}(i.B),Jt=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return Object.keys(t).forEach((function(e){n.hasOwnProperty(e)&&(n[e]=t[e])})),n}return(0,i._)(t,e),t}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onUserJoined=i.n,t.onUserLeft=i.n,t.onUserReceivedInvitation=i.n,t.onUserDeclinedInvitation=i.n,t.onChannelHidden=i.n,t.onUnreadMemberStatusUpdated=i.n,t.onUndeliveredMemberStatusUpdated=i.n,t.onTypingStatusUpdated=i.n,t.onPollUpdated=i.n,t.onPollVoted=i.n,t.onPollDeleted=i.n,t.onPinnedMessageUpdated=i.n,t}return(0,i._)(t,e),t}((function(){this.onUserMuted=i.n,this.onUserUnmuted=i.n,this.onUserBanned=i.n,this.onUserUnbanned=i.n,this.onChannelChanged=i.n,this.onChannelDeleted=i.n,this.onChannelFrozen=i.n,this.onChannelUnfrozen=i.n,this.onOperatorUpdated=i.n,this.onChannelMemberCountChanged=i.n,this.onMetaDataCreated=i.n,this.onMetaDataUpdated=i.n,this.onMetaDataDeleted=i.n,this.onMetaCounterCreated=i.n,this.onMetaCounterUpdated=i.n,this.onMetaCounterDeleted=i.n,this.onMessageReceived=i.n,this.onMessageUpdated=i.n,this.onMessageDeleted=i.n,this.onMentionReceived=i.n,this.onReactionUpdated=i.n,this.onThreadInfoUpdated=i.n}))),Xt=function(e){function t(t){var n=this,r=t.token,a=t.limit,o=t.order,s=t.reverse,c=t.channelUrl,l=t.messageTypeFilter,u=t.scheduledStatus;return(n=e.call(this)||this).method=i.A.GET,n.path="".concat(i.aE),n.params=(0,i.e)({limit:a,reverse:s,channel_url:c,order:o,status:u}),r&&(n.params.token=r),l&&(n.params.message_type=l),n}return(0,i._)(t,e),t}(i.f),$t=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.token=null,r.scheduledMessages=[];var a=n.next,i=n.scheduled_messages;return r.token=a,r.scheduledMessages=i.map((function(e){return(0,c.p)(t,e)})),r}return(0,i._)(t,e),t}(i.h),en=function(e){function t(t,n){var r,a,o,s,c,l=this;return(l=e.call(this,t,n)||this).channelUrl=null,l.order=null,l.reverse=!1,l.scheduledStatus=null,l.messageTypeFilter=i.a3.ALL,l.channelUrl=null!==(r=n.channelUrl)&&void 0!==r?r:null,l.order=null!==(a=n.order)&&void 0!==a?a:null,l.reverse=null!==(o=n.reverse)&&void 0!==o&&o,l.scheduledStatus=null!==(s=n.scheduledStatus)&&void 0!==s?s:null,l.messageTypeFilter=null!==(c=n.messageTypeFilter)&&void 0!==c?c:i.a3.ALL,l}return(0,i._)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,i.a)("string",this.channelUrl,!0)&&((0,i.I)(s.t,this.order)||null===this.order)&&(0,i.a)("boolean",this.reverse)&&((0,i.l)(c.j,this.scheduledStatus)||null===this.scheduledStatus)&&(0,i.I)(i.a3,this.messageTypeFilter)},t.prototype.next=function(){return(0,i.b)(this,void 0,void 0,(function(){var e,t,n,r,a,o;return(0,i.c)(this,(function(s){switch(s.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=i.V.of(this._iid).requestQueue,t=new Xt((0,i.g)((0,i.g)({},this),{token:this._token})),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=s.sent(),r=n.as($t),a=r.scheduledMessages,o=r.token,this._token=o,this._hasNext=!!o,this._isLoading=!1,[2,a];case 2:return[2,[]];case 3:throw i.S.queryInProgress;case 4:return[3,6];case 5:throw i.S.invalidParameters;case 6:return[2]}}))}))},t}(i.B),tn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="groupChannel",t}return(0,i._)(t,e),t.prototype.init=function(t,n){var r=n.sdkState,a=n.dispatcher,i=n.sessionManager,o=n.requestQueue,s=n.logger,c=n.onlineDetector,l=n.cacheContext;e.prototype.init.call(this,t,{sdkState:r,dispatcher:a,sessionManager:i,requestQueue:o,logger:s,onlineDetector:c,cacheContext:l}),this._manager=new je(t,{sdkState:r,cacheContext:l,dispatcher:a,sessionManager:i,requestQueue:o,logger:s})},t.prototype.createGroupChannelCollection=function(e){return void 0===e&&(e={}),new Kt(this._iid,e)},t.prototype.createMyGroupChannelListQuery=function(e){return void 0===e&&(e={}),new Ue(this._iid,e)},t.prototype.createPublicGroupChannelListQuery=function(e){return void 0===e&&(e={}),new Zt(this._iid,e)},t.prototype.createScheduledMessageListQuery=function(e){return void 0===e&&(e={}),new en(this._iid,e)},t.prototype.addGroupChannelHandler=function(e,t){(0,i.r)((0,i.a)("string",e)&&t instanceof Jt).throw(i.S.invalidParameters),this._manager.addHandler(e,t)},t.prototype.removeGroupChannelHandler=function(e){(0,i.r)((0,i.a)("string",e)).throw(i.S.invalidParameters),this._manager.removeHandler(e)},t.prototype.removeAllGroupChannelHandlers=function(){this._manager.clearHandler()},t.prototype.buildGroupChannelFromSerializedData=function(e){return this._manager.buildGroupChannelFromSerializedData(e)},t.prototype.buildGroupChannelListQueryFromSerializedData=function(e){return this._manager.buildGroupChannelListQueryFromSerializedData(e)},t.prototype.buildMemberFromSerializedData=function(e){return this._manager.buildMemberFromSerializedData(e)},t.prototype.getChannel=function(e){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){return(0,i.r)((0,i.a)("string",e)).throw(i.S.invalidParameters),[2,this._manager.getChannel(e)]}))}))},t.prototype.getChannelWithoutCache=function(e){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){return(0,i.r)((0,i.a)("string",e)).throw(i.S.invalidParameters),[2,this._manager.getChannelWithoutCache(e)]}))}))},t.prototype.getMyGroupChannelChangeLogsByToken=function(e,t){return void 0===t&&(t={}),(0,i.b)(this,void 0,void 0,(function(){var n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return n=(0,i.g)((0,i.g)({},L),t),(0,i.r)((0,i.a)("string",e)&&z(n)).throw(i.S.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype.getMyGroupChannelChangeLogsByTimestamp=function(e,t){return void 0===t&&(t={}),(0,i.b)(this,void 0,void 0,(function(){var n;return(0,i.c)(this,(function(r){switch(r.label){case 0:return n=(0,i.g)((0,i.g)({},L),t),(0,i.r)((0,i.a)("number",e)&&z(n)).throw(i.S.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype.getGroupChannelCount=function(e){return(0,i.b)(this,void 0,void 0,(function(){var t;return(0,i.c)(this,(function(n){return t=(0,i.g)((0,i.g)({},R),e),(0,i.r)(j(t)).throw(i.S.invalidParameters),[2,this._manager.getGroupChannelCount(t)]}))}))},t.prototype.getUnreadItemCount=function(e){return void 0===e&&(e={}),(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){switch(t.label){case 0:return[4,this._manager.getUnreadItemCount(e)];case 1:return[2,t.sent()]}}))}))},t.prototype.getTotalUnreadChannelCount=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(e){switch(e.label){case 0:return[4,this._manager.getTotalUnreadChannelCount()];case 1:return[2,e.sent()]}}))}))},t.prototype.getTotalUnreadMessageCount=function(e){return void 0===e&&(e={}),(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){switch(t.label){case 0:return[4,this._manager.getTotalUnreadMessageCount(e)];case 1:return[2,t.sent()]}}))}))},t.prototype.getTotalScheduledMessageCount=function(e){return void 0===e&&(e={}),(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){switch(t.label){case 0:return[4,this._manager.getTotalScheduledMessageCount(e)];case 1:return[2,t.sent()]}}))}))},t.prototype.getSubscribedTotalUnreadMessageCount=function(){return this._manager.getSubscribedTotalUnreadMessageCount()},t.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){return this._manager.getSubscribedCustomTypeTotalUnreadMessageCount()},t.prototype.getSubscribedCustomTypeUnreadMessageCount=function(e){return this._manager.getSubscribedCustomTypeUnreadMessageCount(e)},t.prototype.createChannel=function(e){return void 0===e&&(e={}),(0,i.b)(this,void 0,void 0,(function(){var t;return(0,i.c)(this,(function(n){return t=(0,i.g)((0,i.g)({},D),e),(0,i.r)(U(t)).throw(i.S.invalidParameters),[2,this._manager.createChannel(t)]}))}))},t.prototype.createDistinctChannelIfNotExist=function(e){return void 0===e&&(e={}),(0,i.b)(this,void 0,void 0,(function(){var t;return(0,i.c)(this,(function(n){return t=(0,i.g)((0,i.g)({},D),e),(0,i.r)(U(t)).throw(i.S.invalidParameters),t&&(t.isDistinct=!0),[2,this.createChannel(t)]}))}))},t.prototype.createChannelWithUserIds=function(e,t,n,r,a,o){return void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=null),void 0===a&&(a=""),void 0===o&&(o=""),(0,i.b)(this,void 0,void 0,(function(){var s;return(0,i.c)(this,(function(c){return s=(0,i.g)((0,i.g)({},D),{invitedUserIds:e,isDistinct:t,name:n,data:a,customType:o}),"string"==typeof r?s.coverUrl=r:s.coverImage=r,[2,this.createChannel(s)]}))}))},t.prototype.markAsReadAll=function(){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(e){return this._manager.markAsReadAll(),[2]}))}))},t.prototype.markAsReadWithChannelUrls=function(e){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){return(0,i.r)((0,i.l)("string",e)).throw(i.S.invalidParameters),this._manager.markAsReadWithChannelUrls(e),[2]}))}))},t.prototype.markAsDelivered=function(e){return(0,i.b)(this,void 0,void 0,(function(){return(0,i.c)(this,(function(t){switch(t.label){case 0:return(0,i.r)((0,i.a)("string",e)).throw(i.S.invalidParameters),[4,this.getChannel(e)];case 1:return[4,t.sent().markAsDelivered()];case 2:return t.sent(),[2]}}))}))},t}(i.aj)},87067:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdminMessage:()=>a.o,AppleCriticalAlertOptions:()=>a.A,BaseMessage:()=>a.B,FileMessage:()=>a.F,MentionType:()=>r.a0,MessageMetaArray:()=>a.c,MessageModule:()=>a.M,MessageRequestHandler:()=>a.f,MessageSearchOrder:()=>a.r,MessageSearchQuery:()=>a.a,MessageType:()=>r.Z,MessageTypeFilter:()=>r.a3,OGImage:()=>a.O,OGMetaData:()=>a.s,PreviousMessageListQuery:()=>a.d,PushNotificationDeliveryOption:()=>r.a5,Reaction:()=>a.t,ReactionEvent:()=>a.R,ReactionEventOperation:()=>a.u,ReplyType:()=>r.ac,Sender:()=>a.e,SendingStatus:()=>r.a1,ThreadInfo:()=>a.w,ThreadInfoUpdateEvent:()=>a.q,Thumbnail:()=>a.T,UserMessage:()=>a.U});var r=n(35115),a=n(93872)},40166:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ApplicationUserListQuery:()=>ge,BannedUserListQuery:()=>c.B,BaseChannel:()=>c.f,BlockedUserListQuery:()=>we,CachedChannelInfo:()=>a.N,ChannelType:()=>a.M,ConnectionHandler:()=>h,ConnectionState:()=>a.C,Emoji:()=>se,EmojiCategory:()=>ce,EmojiContainer:()=>le,FriendListQuery:()=>Se,LocalCacheConfig:()=>a.L,LogLevel:()=>a.O,MemoryStore:()=>l.c,MutedUserListQuery:()=>c.M,OperatorListQuery:()=>c.O,Participant:()=>u,Plugin:()=>i.P,PushTemplate:()=>a.K,PushTokenRegistrationState:()=>a.F,PushTokenType:()=>a.P,PushTriggerOption:()=>a.J,ReportCategory:()=>c.R,RestrictedUser:()=>c.g,RestrictionInfo:()=>c.h,RestrictionType:()=>c.i,Role:()=>a.R,SendbirdChatOptions:()=>a.m,SendbirdError:()=>a.S,SessionHandler:()=>f,User:()=>a.U,UserEventHandler:()=>p,UserOnlineState:()=>a.Q,default:()=>Te});var r,a=n(35115),i=n(93872),o=n(63582),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="poll",t}return(0,a._)(t,e),t.prototype.init=function(t,n){var r=n.sdkState,a=n.dispatcher,i=n.sessionManager,s=n.requestQueue,c=n.logger,l=n.onlineDetector,u=n.cacheContext;e.prototype.init.call(this,t,{sdkState:r,dispatcher:a,sessionManager:i,requestQueue:s,logger:c,onlineDetector:l,cacheContext:u}),this._manager=new o.b(t,{sdkState:r,dispatcher:a,sessionManager:i,requestQueue:s,logger:c,onlineDetector:l,cacheContext:u})},t.prototype.create=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t;return(0,a.c)(this,(function(n){return t=(0,a.g)((0,a.g)({},o.c),e),(0,a.r)((0,o.v)(t)).throw(a.S.invalidParameters),[2,this._manager.create(t)]}))}))},t.prototype.get=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t;return(0,a.c)(this,(function(n){return t=(0,a.g)((0,a.g)({},o.d),e),(0,a.r)((0,o.e)(t)).throw(a.S.invalidParameters),[2,this._manager.get(t)]}))}))},t.prototype.getOption=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t;return(0,a.c)(this,(function(n){return t=(0,a.g)((0,a.g)({},o.f),e),(0,a.r)((0,o.g)(t)).throw(a.S.invalidParameters),[2,this._manager.getOption(t)]}))}))},t.prototype.buildPollFromSerializedData=function(e){return this._manager.buildPollFromSerializedData(e)},t}(a.aj),c=n(37425),l=n(79181),u=function(e){function t(t,n){var r,a=this;return(a=e.call(this,t,n)||this).isMuted=!1,a.isMuted=null!==(r=n.is_muted)&&void 0!==r&&r,a}return(0,a._)(t,e),t}(a.U),d={profileImage:null,profileUrl:null,nickname:null},f=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return Object.keys(t).forEach((function(e){n.hasOwnProperty(e)&&(n[e]=t[e])})),n}return(0,a._)(t,e),t}((function(){this.onSessionExpired=a.n,this.onSessionTokenRequired=function(e){return e(null)},this.onSessionError=a.n,this.onSessionRefreshed=a.n,this.onSessionClosed=a.n})),h=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return Object.keys(t).forEach((function(e){n.hasOwnProperty(e)&&(n[e]=t[e])})),n}return(0,a._)(t,e),t}((function(){this.onConnected=a.n,this.onReconnectStarted=a.n,this.onReconnectSucceeded=a.n,this.onReconnectFailed=a.n,this.onDisconnected=a.n})),p=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return Object.keys(t).forEach((function(e){n.hasOwnProperty(e)&&(n[e]=t[e])})),n}return(0,a._)(t,e),t}((function(){this.onFriendsDiscovered=a.n,this.onTotalUnreadMessageCountUpdated=a.n})),m=function(){return"undefined"!=typeof document?document.visibilityState:"visible"},_=function(e){function t(t){var n=t.getVisibilityState,r=void 0===n?m:n,a=t.initialState,i=void 0===a?"visible":a,o=t.isEnabled,s=void 0===o||o,c=t.pauseCheckDelay,l=void 0===c?3e4:c,u=e.call(this)||this;return u._pauseCheckDelay=3e4,u._pauseDelayTimer=null,u._currentState="visible",u._getVisibilityState=r,u._pauseCheckDelay=l,u._currentState=i,u._isEnabled=s,u._boundToggleState=u._toggleState.bind(u),u}return(0,a._)(t,e),Object.defineProperty(t.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAvailable",{get:function(){return"undefined"!=typeof window&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),t.prototype._toggleState=function(){var e=this,t=this._getVisibilityState();"hidden"!==t?"hidden"===this._currentState&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=null),this.dispatch("resume")):"hidden"!==this._currentState&&(this._pauseDelayTimer=setTimeout((function(){e._pauseDelayTimer=null,e.dispatch("pause")}),this._pauseCheckDelay)),this._currentState=t},t.prototype.start=function(){this._isEnabled&&this.isAvailable&&(this._boundToggleState=this._toggleState.bind(this),window.addEventListener("visibilitychange",this._boundToggleState,{capture:!0}))},t.prototype.stop=function(){this._isEnabled&&this.isAvailable&&this._boundToggleState&&window.removeEventListener("visibilitychange",this._boundToggleState,{capture:!0})},t}(a.E),y=function(){function e(e){var t=e.logger,n=e.connectionDelegate,r=void 0===n?null:n,a=this;this._onlineWorker=function(){var e;return null===(e=a.connectionDelegate)||void 0===e?void 0:e.reconnect()},this._offlineWorker=function(){var e;return null===(e=a.connectionDelegate)||void 0===e?void 0:e.disconnect()},this.unsubscribes=[],this._onlineListener=function(e){if(a.isAvailableOnWeb)return window.addEventListener("online",e),function(){return window.removeEventListener("online",e,!1)}},this._offlineListener=function(e){if(a.isAvailableOnWeb)return window.addEventListener("offline",e),function(){return window.removeEventListener("offline",e,!1)}},this.logger=t,r&&(this.connectionDelegate=r)}return Object.defineProperty(e.prototype,"isAvailableOnWeb",{get:function(){return"undefined"!=typeof window&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&"undefined"!=typeof navigator&&void 0!==navigator.onLine},enumerable:!1,configurable:!0}),e.prototype.setOnlineListener=function(e){Boolean(e)&&"function"==typeof e&&(this._onlineListener=e)},e.prototype.setOfflineListener=function(e){Boolean(e)&&"function"==typeof e&&(this._offlineListener=e)},e.prototype.start=function(){this.unsubscribes=[this._onlineListener(this._onlineWorker),this._offlineListener(this._offlineWorker)]},e.prototype.stop=function(){var e=this;this.unsubscribes.forEach((function(t){try{null==t||t()}catch(t){e.logger.warn(t.message)}})),this.unsubscribes=[]},e.prototype.isOnline=function(){return(0,a.b)(this,void 0,void 0,(function(){return(0,a.c)(this,(function(e){return this.isAvailableOnWeb?[2,navigator.onLine]:[2,new Promise((function(e){fetch("https://www.google.com",{method:a.A.GET,mode:"no-cors"}).then((function(){return e(!0)})).catch((function(){return e(!1)}))}))]}))}))},e}(),g=function(e){function t(t){var n=t.userId,r=t.nickname,i=void 0===r?null:r,o=t.profileUrl,s=void 0===o?null:o,c=t.profileImage,l=void 0===c?null:c,u=t.preferredLanguages,d=void 0===u?null:u,f=e.call(this)||this;return f.method=a.A.PUT,f.path="".concat(a.d,"/").concat(encodeURIComponent(n)),f.params=(0,a.e)({nickname:i,profile_url:s,profile_file:l,preferred_languages:d}),f}return(0,a._)(t,e),t}(a.f),v=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.user=null,r.user=new a.U(t,(0,a.g)({},n)),r}return(0,a._)(t,e),t}(a.h),b=function(e){function t(t){var n=t.userId,r=t.token,i=e.call(this)||this;return i.method=a.A.POST,i.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/push/apns"),i.params={apns_device_token:r,always_push:!0},i}return(0,a._)(t,e),t}(a.f);r=a.h,(0,a._)((function(e,t){var n=r.call(this,e,t)||this;return n.token=t.token,n.type=t.type?a.P[t.type.toLowerCase()]:a.P.UNKNOWN,n.user=new a.U(e,t.user),n}),r);var w=function(e){function t(t){var n=t.userId,r=t.token,i=e.call(this)||this;return i.method=a.A.POST,i.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/push/gcm"),i.params={gcm_reg_token:r,always_push:!0},i}return(0,a._)(t,e),t}(a.f);!function(e){(0,a._)((function(t,n){var r=e.call(this,t,n)||this;return r.token=n.token,r.type=n.type?a.P[n.type.toLowerCase()]:a.P.UNKNOWN,r.user=new a.U(t,n.user),r}),e)}(a.h);var k=function(e){function t(t){var n=t.userId,r=t.token,i=e.call(this)||this;return i.method=a.A.DELETE,i.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/push/apns/").concat(encodeURIComponent(r)),i}return(0,a._)(t,e),t}(a.f);!function(e){(0,a._)((function(t,n){var r=e.call(this,t,n)||this;return r.token=n.token,r.user=new a.U(t,n.user),r.lastDeletedAt=n.device_token_last_deleted_at,r}),e)}(a.h);var E=function(e){function t(t){var n=t.userId,r=t.token,i=e.call(this)||this;return i.method=a.A.DELETE,i.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/push/gcm/").concat(encodeURIComponent(r)),i}return(0,a._)(t,e),t}(a.f);!function(e){(0,a._)((function(t,n){var r=e.call(this,t,n)||this;return r.token=n.token,r.user=new a.U(t,n.user),r.lastDeletedAt=n.device_token_last_deleted_at,r}),e)}(a.h);var S=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=a.A.DELETE,r.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/push/apns"),r}return(0,a._)(t,e),t}(a.f);!function(e){(0,a._)((function(t,n){var r=e.call(this,t,n)||this;return r.type=n.type?a.P[n.type.toLowerCase()]:a.P.UNKNOWN,r.user=new a.U(t,n.user),r.lastDeletedAt=n.device_token_last_deleted_at,r}),e)}(a.h);var C=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=a.A.DELETE,r.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/push/gcm"),r}return(0,a._)(t,e),t}(a.f);!function(e){(0,a._)((function(t,n){var r=e.call(this,t,n)||this;return r.type=n.type?a.P[n.type.toLowerCase()]:a.P.UNKNOWN,r.user=new a.U(t,n.user),r.lastDeletedAt=n.device_token_last_deleted_at,r}),e)}(a.h);var T=function(e){function t(t){var n=t.userId,r=t.type,i=t.token,o=t.ts,s=e.call(this)||this;return s.method=a.A.GET,s.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/push/").concat(encodeURIComponent(r),"/device_tokens"),s.params={created_ts:o,token:i},s}return(0,a._)(t,e),t}(a.f),I=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.pushTokens={type:n.type?a.P[n.type.toLowerCase()]:a.P.UNKNOWN,deviceTokens:n.device_tokens,hasMore:n.has_more,token:n.token},r}return(0,a._)(t,e),t}(a.h),M=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=a.A.GET,r.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/channel_invitation_preference"),r}return(0,a._)(t,e),t}(a.f),O=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.autoAccept=n.auto_accept,r}return(0,a._)(t,e),t}(a.h),A=function(e){function t(t){var n=t.userId,r=t.willAutoAccept,i=e.call(this)||this;return i.method=a.A.PUT,i.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/channel_invitation_preference"),i.params={auto_accept:r},i}return(0,a._)(t,e),t}(a.f),N=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.autoAccept=n.auto_accept,r}return(0,a._)(t,e),t}(a.h),P=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=a.A.GET,r.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/push_preference"),r}return(0,a._)(t,e),t}(a.f),x=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.preference={doNotDisturbOn:n.do_not_disturb,startHour:n.start_hour,startMin:n.start_min,endHour:n.end_hour,endMin:n.end_min,timezone:n.timezone},r}return(0,a._)(t,e),t}(a.h),D=function(e){function t(t){var n=t.userId,r=t.doNotDisturbOn,i=t.startHour,o=t.startMin,s=t.endHour,c=t.endMin,l=t.timezone,u=e.call(this)||this;return u.method=a.A.PUT,u.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/push_preference"),u.params={do_not_disturb:r,start_hour:i,start_min:o,end_hour:s,end_min:c,timezone:l},u}return(0,a._)(t,e),t}(a.f),U=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.preference={doNotDisturbOn:n.do_not_disturb,startHour:n.start_hour,startMin:n.start_min,endHour:n.end_hour,endMin:n.end_min,timezone:n.timezone},r}return(0,a._)(t,e),t}(a.h),L=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=a.A.GET,r.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/push_preference"),r}return(0,a._)(t,e),t}(a.f),z=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.snoozePeriod={isSnoozeOn:n.snooze_enabled},"number"==typeof n.snooze_start_ts&&(r.snoozePeriod.startTs=n.snooze_start_ts),"number"==typeof n.snooze_end_ts&&(r.snoozePeriod.endTs=n.snooze_end_ts),r}return(0,a._)(t,e),t}(a.h),R=function(e){function t(t){var n=t.userId,r=t.snoozeOn,i=t.startTs,o=t.endTs,s=e.call(this)||this;return s.method=a.A.PUT,s.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/push_preference"),s.params={snooze_enabled:r,snooze_start_ts:i,snooze_end_ts:o},s}return(0,a._)(t,e),t}(a.f),j=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.snoozePeriod={isSnoozeOn:n.snooze_enabled},"number"==typeof n.snooze_start_ts&&(r.snoozePeriod.startTs=n.snooze_start_ts),"number"==typeof n.snooze_end_ts&&(r.snoozePeriod.endTs=n.snooze_end_ts),r}return(0,a._)(t,e),t}(a.h),F=function(e){function t(t){var n=t.userId,r=t.blockedUserId,i=e.call(this)||this;return i.method=a.A.POST,i.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/block"),i.params={target_id:r},i}return(0,a._)(t,e),t}(a.f);!function(e){(0,a._)((function(t,n){var r=e.call(this,t,n)||this;return r.user=new a.U(t,n),r}),e)}(a.h);var B=function(e){function t(t){var n=t.userId,r=t.unblockedUserId,i=e.call(this)||this;return i.method=a.A.DELETE,i.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/block/").concat(encodeURIComponent(r)),i}return(0,a._)(t,e),t}(a.f);!function(e){(0,a._)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(a.h);var H=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=a.A.GET,r.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/push_preference"),r}return(0,a._)(t,e),t}(a.f),G=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.pushTriggerOption=n.push_trigger_option,r}return(0,a._)(t,e),t}(a.h),V=function(e){function t(t){var n=t.userId,r=t.pushTriggerOption,i=e.call(this)||this;return i.method=a.A.PUT,i.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/push_preference"),i.params={push_trigger_option:r},i}return(0,a._)(t,e),t}(a.f),q=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.pushTriggerOption=n.push_trigger_option,r}return(0,a._)(t,e),t}(a.h),W=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=a.A.GET,r.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/push/template"),r}return(0,a._)(t,e),t}(a.f),K=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=n.name,r}return(0,a._)(t,e),t}(a.h),Q=function(e){function t(t){var n=t.userId,r=t.templateName,i=e.call(this)||this;return i.method=a.A.PUT,i.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/push/template"),i.params={name:r},i}return(0,a._)(t,e),t}(a.f),Y=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=n.name,r}return(0,a._)(t,e),t}(a.h),Z=function(e){function t(t){var n=t.userId,r=t.token,i=e.call(this)||this;return i.method=a.A.GET,i.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/friends/changelogs"),i.params={token:r},i}return(0,a._)(t,e),t}(a.f),J=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.changelogs={addedUsers:n.added.map((function(e){return new a.U(t,e)})),updatedUsers:n.updated.map((function(e){return new a.U(t,e)})),deletedUserIds:n.deleted,hasMore:n.has_more,token:n.next},r}return(0,a._)(t,e),t}(a.h),X=function(e){function t(t){var n=t.userId,r=t.discoveries,i=e.call(this)||this;return i.method=a.A.PUT,i.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/friend_discoveries"),i.params={friend_discoveries:r.map((function(e){return{friend_discovery_key:e.friendDiscoveryKey,friend_name:e.friendName}}))},i}return(0,a._)(t,e),t}(a.f),$=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.friendDiscoveryRequestId=n.friend_discovery_request_id,r}return(0,a._)(t,e),t}(a.h),ee=function(e){function t(t){var n=t.userId,r=t.discoveryKeys,i=e.call(this)||this;return i.method=a.A.DELETE,i.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/friend_discoveries"),i.params={friend_discovery_keys:r},i}return(0,a._)(t,e),t}(a.f);!function(e){(0,a._)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(a.h);var te=function(e){function t(t){var n=t.userId,r=t.userIds,i=e.call(this)||this;return i.method=a.A.POST,i.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/friends"),i.params={user_ids:r},i}return(0,a._)(t,e),t}(a.f),ne=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.users=n.users.map((function(e){return new a.U(t,e)})),r}return(0,a._)(t,e),t}(a.h),re=function(e){function t(t){var n=t.userId,r=t.userIds,i=e.call(this)||this;return i.method=a.A.DELETE,i.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/friends"),i.params={user_ids:r},i}return(0,a._)(t,e),t}(a.f);!function(e){(0,a._)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(a.h);var ae=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=a.A.GET,r.path="".concat(a.d,"/").concat(n,"/allow_friend_discovery"),r.params={},r}return(0,a._)(t,e),t}(a.f),ie=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.allowFriendDiscovery=n.allow_friend_discovery,r}return(0,a._)(t,e),t}(a.h),oe=function(e){function t(t){var n=t.userId,r=t.allowFriendDiscovery,i=e.call(this)||this;return i.method=a.A.PUT,i.path="".concat(a.d,"/").concat(n,"/allow_friend_discovery"),i.params={allow_friend_discovery:r},i}return(0,a._)(t,e),t}(a.f);!function(e){(0,a._)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(a.h);var se=function(e){this.key=null,this.url=null,this.key=e.key,this.url=e.url},ce=function(e){var t,n,r;this.id=0,this.name=null,this.url=null,this.emojis=[],this.id=null!==(t=e.id)&&void 0!==t?t:0,this.name=null!==(n=e.name)&&void 0!==n?n:"",this.url=null!==(r=e.url)&&void 0!==r?r:"",this.emojis=e.emojis?e.emojis.map((function(e){return new se(e)})):[]},le=function(e){this.emojiHash=null,this.emojiCategories=[],this.emojiHash=e.emoji_hash||"",this.emojiCategories=e.emoji_categories?e.emoji_categories.map((function(e){return new ce(e)})):[]},ue=function(e){function t(){var t=e.call(this)||this;return t.method=a.A.GET,t.path=a.j,t}return(0,a._)(t,e),t}(a.f),de=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.emojiContainer=new le(n),r}return(0,a._)(t,e),t}(a.h),fe=function(e){function t(t){var n=t.categoryId,r=e.call(this)||this;return r.method=a.A.GET,r.path="".concat(a.j,"/").concat(n),r}return(0,a._)(t,e),t}(a.f),he=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.emojiCategory=new ce(n),r}return(0,a._)(t,e),t}(a.h),pe=function(e){function t(t){var n=t.key,r=e.call(this)||this;return r.method=a.A.GET,r.path="".concat(a.k,"/").concat(n),r}return(0,a._)(t,e),t}(a.f),me=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.emoji=new se(n),r}return(0,a._)(t,e),t}(a.h),_e=function(e){function t(t){var n=t.limit,r=t.token,i=t.userIdsFilter,o=t.metaDataKeyFilter,s=t.metaDataValuesFilter,c=t.nicknameStartsWithFilter,l=e.call(this)||this;return l.method=a.A.GET,l.path=a.d,l.params=(0,a.e)({limit:n,token:r,user_ids:i,metadatakey:o,metadatavalues_in:s,nickname_startswith:c}),l}return(0,a._)(t,e),t}(a.f),ye=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.users=n.users.map((function(e){return new a.U(t,e)})),r.next=n.next,r}return(0,a._)(t,e),t}(a.h),ge=function(e){function t(t,n){var r,a,i,o=this;return(o=e.call(this,t,n)||this).userIdsFilter=null,o.metaDataKeyFilter=null,o.metaDataValuesFilter=null,o.nicknameStartsWithFilter=null,o.userIdsFilter=null!==(r=n.userIdsFilter)&&void 0!==r?r:null,o.metaDataKeyFilter=null!==(a=n.metaDataKeyFilter)&&void 0!==a?a:null,o.metaDataValuesFilter=null!==(i=n.metaDataValuesFilter)&&void 0!==i?i:null,o.nicknameStartsWithFilter=n.nicknameStartsWithFilter||null,o}return(0,a._)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,a.l)("string",this.userIdsFilter,!0)&&(0,a.a)("string",this.metaDataKeyFilter,!0)&&(0,a.l)("string",this.metaDataValuesFilter,!0)&&(0,a.a)("string",this.metaDataKeyFilter,!0)},t.prototype.next=function(){return(0,a.b)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return(0,a.c)(this,(function(s){switch(s.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=a.V.of(this._iid).requestQueue,t=new _e((0,a.g)((0,a.g)({},this),{token:this._token})),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=s.sent(),r=n.as(ye),i=r.users,o=r.next,this._token=o,this._hasNext=!!o,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw a.S.queryInProgress;case 4:return[3,6];case 5:throw a.S.invalidParameters;case 6:return[2]}}))}))},t}(a.B),ve=function(e){function t(t){var n=t.userId,r=t.limit,i=t.token,o=t.userIdsFilter,s=e.call(this)||this;return s.method=a.A.GET,s.path="".concat(a.d,"/").concat(n,"/block"),s.params=(0,a.e)({limit:r,token:i,user_ids:o}),s}return(0,a._)(t,e),t}(a.f),be=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.users=n.users.map((function(e){return new a.U(t,e)})),r.next=n.next,r}return(0,a._)(t,e),t}(a.h),we=function(e){function t(t,n){var r,a=this;return(a=e.call(this,t,n)||this).userIdsFilter=null,a.userIdsFilter=null!==(r=n.userIdsFilter)&&void 0!==r?r:null,a}return(0,a._)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,a.l)("string",this.userIdsFilter,!0)},t.prototype.next=function(){return(0,a.b)(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,c;return(0,a.c)(this,(function(l){switch(l.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=a.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new ve((0,a.g)((0,a.g)({},this),{userId:t.userId,token:this._token})),[4,n.send(r)]):[3,2]:[3,5];case 1:return i=l.sent(),o=i.as(be),s=o.users,c=o.next,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,s];case 2:return[2,[]];case 3:throw a.S.queryInProgress;case 4:return[3,6];case 5:throw a.S.invalidParameters;case 6:return[2]}}))}))},t}(a.B),ke=function(e){function t(t){var n=t.userId,r=t.limit,i=t.token,o=e.call(this)||this;return o.method=a.A.GET,o.path="".concat(a.d,"/").concat(encodeURIComponent(n),"/friends"),o.params={limit:r,token:i},o}return(0,a._)(t,e),t}(a.f),Ee=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.hasMore=n.has_more,r.users=n.users.map((function(e){return new a.U(t,e)})),r.next=n.next,r}return(0,a._)(t,e),t}(a.h),Se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a._)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)},t.prototype.next=function(){return(0,a.b)(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,c,l;return(0,a.c)(this,(function(u){switch(u.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=a.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new ke((0,a.g)((0,a.g)({},this),{userId:t.userId,token:this._token})),[4,n.send(r)]):[3,2]:[3,5];case 1:return i=u.sent(),o=i.as(Ee),s=o.users,c=o.hasMore,l=o.next,this._token=l,this._hasNext=c,this._isLoading=!1,[2,s];case 2:return[2,[]];case 3:throw a.S.queryInProgress;case 4:return[3,6];case 5:throw a.S.invalidParameters;case 6:return[2]}}))}))},t}(a.B),Ce=null,Te=function(){function e(e,t,n){var r=this;this._storeInitialized=!1,this._fcmPushToken=null,this._apnsPushToken=null,this._iid=e,this.options=t;var i=a.V.of(e),o=i.sdkState,s=i.cacheContext,c=i.dispatcher,u=i.sessionManager,d=i.requestQueue,f=i.logger,h=i.userEventHandlers,p=i.appStateToggleEnabled;this._onlineDetector=new y({logger:f,connectionDelegate:{reconnect:function(){var t=a.V.of(e),n=t.sdkState,r=t.connectionManager,i=t.sessionManager;i.auth.hasSession?"foreground"===n.appState&&r.resetAndReconnect():r.connect(i.auth.authToken)},disconnect:function(){a.V.of(e).connectionManager.disconnect()}}});var m=new l.d(e,{localCacheEnabled:s.localCacheEnabled,dispatcher:c,sdkState:o,logger:f});n.forEach((function(t){t.init(e,{sdkState:o,cacheContext:s,dispatcher:c,sessionManager:u,requestQueue:d,logger:f,onlineDetector:r._onlineDetector}),r[t.name]=t})),this._appStateChangeDetector=new _({isEnabled:p}),this._appStateChangeDetector.on("resume",(function(){f.debug("the page resumes from freeze"),r.setForegroundState()})).on("pause",(function(){f.debug("the page freezes"),r.setBackgroundState()})),c.on((function(t){if(t instanceof a.t)t.stateType===a.w.CONNECTED&&m.processNonAutoResendRegisteredPendingMessages();else if(t instanceof a.W){if("USEV"===t.code){var n=t.as(l.U).event;if(n.category===l.e.FRIEND_DISCOVERED){var i=l.f.getDataAsFriendDiscoveredEvent(e,n).friendDiscoveries;(0,a.x)((function(){return(0,a.b)(r,void 0,void 0,(function(){return(0,a.c)(this,(function(e){return[2,h.forEach((function(e){e.onFriendsDiscovered(i)}))]}))}))}))}}}else if(t instanceof a.y){var c=a.V.of(r._iid).subscribedUnreadMessageCount,u=!1,d=t.ts;if("number"==typeof d&&d>c.ts){if(c.all!==t.all&&(u=!0),c.all=t.all>=0?t.all:0,t.customTypes)for(var f in t.customTypes)c.customTypes[f]!==t.customTypes[f]&&(u=!0),c.customTypes[f]=t.customTypes[f];u=u&&c.ts>0,c.ts=d}u&&(0,a.x)((function(){return(0,a.b)(r,void 0,void 0,(function(){return(0,a.c)(this,(function(e){return[2,h.forEach((function(e){e.onTotalUnreadMessageCountUpdated(c.all,c.customTypes)}))]}))}))}))}else t instanceof a.z&&s.localCacheEnabled&&s.preference.set(r._getUserProfileCacheKey(o.userId),a.D.payloadify(t.userProfile))}))}return e.init=function(t){var n=t.appId,r=t.appVersion,o=void 0===r?null:r,c=t.modules,u=void 0===c?[]:c,d=t.options,f=void 0===d?new a.m:d,h=t.debugMode,p=void 0!==h&&h,m=t.customApiHost,_=t.customWebSocketHost,y=t.newInstance,g=void 0!==y&&y,v=t.logLevel,b=t.localCacheEnabled,w=void 0!==b&&b,k=t.localCacheConfig,E=void 0===k?new a.L:k,S=t.localCacheEncryption,C=t.useAsyncStorageStore,T=void 0===C?null:C,I=t.appStateToggleEnabled,M=void 0===I||I;if(!Ce||g){var O="su-".concat((0,a.u)()),A=null!=S?S:{encrypt:function(e){return e},decrypt:function(e){return e}},N=new l.c({encryption:A});p||(N=(0,a.o)()?T?new l.A({AsyncStorage:T,encryption:A}):new l.c({encryption:A}):new l.I({encryption:A})),new a.V(O,{appId:n,appVersion:o,options:f,apiHost:null!=m?m:"https://api-".concat(n,".sendbird.com"),websocketHost:null!=_?_:"wss://ws-".concat(n,".sendbird.com"),store:N,encryption:A,logLevel:v,localCacheEnabled:w,localCacheConfig:E,debugMode:p,appStateToggleEnabled:M});var P=[new i.M,new s],x=new e(O,f,(0,a.p)((0,a.p)([],(0,a.q)(u),!1),(0,a.q)(P),!1));return Ce||(Ce=x),x}return Ce},Object.defineProperty(e,"instance",{get:function(){return Ce},enumerable:!1,configurable:!0}),Object.defineProperty(e,"version",{get:function(){return a.v},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appId",{get:function(){return a.V.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appInfo",{get:function(){return a.V.of(this._iid).appInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appVersion",{get:function(){var e;return null!==(e=a.V.of(this._iid).sdkState.appVersion)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debugMode",{get:function(){return a.V.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logLevel",{get:function(){return a.V.of(this._iid).logger.level},set:function(e){a.V.of(this._iid).logger.level=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCacheEnabled",{get:function(){return a.V.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localCacheConfig",{get:function(){var e=a.V.of(this._iid).cacheContext;return e.localCacheEnabled?e.localCacheConfig:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ekey",{get:function(){return a.V.of(this._iid).sessionManager.ekey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentUser",{get:function(){var e;return null!==(e=a.V.of(this._iid).sessionManager.currentUser)&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectionState",{get:function(){var e=a.V.of(this._iid).connectionManager;return e.isConnected?a.C.OPEN:e.isConnecting?a.C.CONNECTING:a.C.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastConnectedAt",{get:function(){var e=a.V.of(this._iid),t=e.connectedAt;return e.connectionManager.isConnected?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fcmPushToken",{get:function(){return this._fcmPushToken},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"apnsPushToken",{get:function(){return this._apnsPushToken},enumerable:!1,configurable:!0}),e.prototype._getCurrentPreferenceVersion=function(){return 1},e.prototype._getPreferenceCacheKey=function(e){return"sendbird@".concat(this.appId,"/").concat(e,".pref")},e.prototype._getUserProfileCacheKey=function(e){return"sendbird@".concat(this.appId,"/").concat(e,".profile")},e.prototype.getMemoryStoreForDebugging=function(){var e=a.V.of(this._iid),t=e.debugMode,n=e.cacheContext;if(t)return n.store instanceof l.c?n.store:null;throw a.S.debugModeRequired},e.prototype.addExtension=function(e,t){var n=a.V.of(this._iid).sdkState;["sb_uikit","sb_syncmanager","device-os-platform"].indexOf(e)>-1&&(n.extensions[e]=t)},e.prototype.setOnlineListener=function(e){this._onlineDetector.setOnlineListener(e)},e.prototype.setOfflineListener=function(e){this._onlineDetector.setOfflineListener(e)},e.prototype._safeInitializeStore=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t;return(0,a.c)(this,(function(n){switch(n.label){case 0:t=a.V.of(this._iid).cacheContext,n.label=1;case 1:return n.trys.push([1,3,,5]),[4,t.store.init(e)];case 2:return n.sent(),this._storeInitialized=!0,[3,5];case 3:return n.sent(),t.store=new l.c,[4,this._safeInitializeStore(e)];case 4:return n.sent(),[3,5];case 5:return[2]}}))}))},e.prototype.initializeCache=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i,o,s,u,d,f;return(0,a.c)(this,(function(h){switch(h.label){case 0:return t=a.V.of(this._iid),n=t.sdkState,r=t.cacheContext,i=t.connectionManager,o=t.dispatcher,s=t.logger,n.userId&&n.userId===e?[3,10]:[4,i.logout()];case 1:if(h.sent(),u="sendbird@".concat(n.appId,"/").concat(e,".db"),!r.localCacheEnabled)return[3,8];h.label=2;case 2:return h.trys.push([2,5,,7]),r.nestdb&&r.nestdb.state!==l.k.CLOSED&&r.nestdb.name===u?[3,4]:((d=r.nestdb=new l.h({name:"sendbird@".concat(n.appId,"/").concat(e,".db"),version:2,store:r.store})).on("upgrade",function(e,t){return function(n,r){1===n?e.clear().then((function(){t.clear().then((function(){(function(e){return(0,a.b)(void 0,void 0,void 0,(function(){return(0,a.c)(this,(function(t){return[2,e.commitSchema([{collectionName:c.N,keyName:c.a,index:[(0,l.g)(l.G.LATEST_LAST_MESSAGE),(0,l.g)(l.G.CHRONOLOGICAL),(0,l.g)(l.G.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:c.b,keyName:c.c,index:[(0,l.a)(l.M.CHANNEL_LATEST),(0,l.a)(l.M.NEWEST_CHILD_MESSAGE)]},{collectionName:l.N,keyName:l.b,index:[(0,l.a)(l.M.CHANNEL_LATEST),(0,l.a)(l.M.NEWEST_CHILD_MESSAGE)]},{collectionName:c.d,keyName:c.e}])]}))}))})(e).then((function(){return r()})).catch((function(e){return r(e)}))})).catch((function(e){return r(e)}))})).catch((function(e){return r(e)})):r()}}(d,r.store)),[4,d.open()]);case 3:h.sent(),this._storeInitialized=!0,o.dispatch(new l.D(this._iid,{userId:e})),h.label=4;case 4:return n.userId=e,[3,7];case 5:return f=h.sent(),s.warn("Nest DB Open Failed. ",f),[4,this._safeInitializeStore(u)];case 6:throw h.sent(),n.userId=e,a.S.databaseError;case 7:return[3,10];case 8:return[4,this._safeInitializeStore(u)];case 9:h.sent(),n.userId=e,h.label=10;case 10:return[2]}}))}))},e.prototype.getCacheDataSize=function(){return(0,a.b)(this,void 0,void 0,(function(){var e;return(0,a.c)(this,(function(t){switch(t.label){case 0:return(e=a.V.of(this._iid).cacheContext).localCacheEnabled&&e.nestdb?[4,e.nestdb.estimateUsage()]:[3,2];case 1:return[2,t.sent()];case 2:return[2,0]}}))}))},e.prototype.clearCachedData=function(){return(0,a.b)(this,void 0,void 0,(function(){var e;return(0,a.c)(this,(function(t){switch(t.label){case 0:return(e=a.V.of(this._iid).cacheContext).localCacheEnabled&&e.nestdb?[4,e.nestdb.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this._storeInitialized?[4,e.preference.clear()]:[3,4];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))},e.prototype.clearCachedMessages=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r=this;return(0,a.c)(this,(function(i){switch(i.label){case 0:return(0,a.r)((0,a.l)("string",e)).throw(a.S.invalidParameters),t=l.i.of(this._iid),n=l.j.of(this._iid),t&&n?[4,Promise.all(e.map((function(e){return(0,a.b)(r,void 0,void 0,(function(){return(0,a.c)(this,(function(r){switch(r.label){case 0:return[4,t.removeMessagesOfChannel(e)];case 1:return r.sent(),[4,n.removeMessagesOfChannel(e)];case 2:return r.sent(),[2]}}))}))})))]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},e.prototype.connect=function(e,t){return void 0===t&&(t=null),(0,a.b)(this,void 0,void 0,(function(){var n,r,i,o,s,c,u;return(0,a.c)(this,(function(d){switch(d.label){case 0:(0,a.r)((0,a.a)("string",e)&&(0,a.a)("string",t,!0)).throw(a.S.invalidParameters),n=a.V.of(this._iid),r=n.sdkState,i=n.cacheContext,o=n.connectionManager,s=n.statLogCollector,this._onlineDetector.start(),this._appStateChangeDetector.start(),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.initializeCache(e)];case 2:return d.sent(),a.V.of(this._iid).dispatcher.dispatch(new l.R),[3,4];case 3:return d.sent(),c=a.V.of(this._iid).logger,i.localCacheEnabled=!1,c.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,i.preference.init(this._getPreferenceCacheKey(e),this._getCurrentPreferenceVersion())];case 5:return d.sent(),[4,i.preference.get(this._getUserProfileCacheKey(e))];case 6:return(u=d.sent())&&new a.D(this._iid,u).apply(),[4,s.init("sendbird@".concat(r.appId,"/").concat(e,".statlog"))];case 7:return d.sent(),[4,o.connect(t)];case 8:return d.sent(),[2,this.currentUser]}}))}))},e.prototype.reconnect=function(){var e=a.V.of(this._iid),t=e.connectionManager,n=e.sdkState,r=e.sessionManager.auth.hasSession;return r&&(this._appStateChangeDetector.start(),this._onlineDetector.start(),t.resetAndReconnect().then((function(){n.appState="foreground"})).catch((function(){}))),r},e.prototype.disconnect=function(){return(0,a.b)(this,void 0,void 0,(function(){var e,t,n;return(0,a.c)(this,(function(r){switch(r.label){case 0:return e=a.V.of(this._iid),t=e.connectionManager,n=e.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),n.cancelAll(),[4,t.logout()];case 1:return r.sent(),[4,this.clearCachedData()];case 2:return r.sent(),[2]}}))}))},e.prototype.disconnectWebSocket=function(){return(0,a.b)(this,void 0,void 0,(function(){var e,t,n;return(0,a.c)(this,(function(r){switch(r.label){case 0:return e=a.V.of(this._iid),t=e.connectionManager,n=e.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),n.cancelAll(),[4,t.disconnectWebSocket()];case 1:return r.sent(),[2]}}))}))},e.prototype.setBackgroundState=function(){var e=a.V.of(this._iid),t=e.connectionManager,n=e.sdkState,r=e.logger;"foreground"===n.appState&&(n.appState="background",r.debug("going background state"),t.background())},e.prototype.setForegroundState=function(){var e=a.V.of(this._iid),t=e.connectionManager,n=e.sdkState,r=e.logger;"background"===n.appState&&(n.appState="foreground",r.debug("going foreground state"),t.resetAndReconnect())},e.prototype.setSessionHandler=function(e){(0,a.r)(e instanceof f).throw(a.S.invalidParameters),a.V.of(this._iid).sessionManager.handler=e},e.prototype.addUserEventHandler=function(e,t){(0,a.r)((0,a.a)("string",e)&&t instanceof p).throw(a.S.invalidParameters),a.V.of(this._iid).userEventHandlers.set(e,t)},e.prototype.removeUserEventHandler=function(e){a.V.of(this._iid).userEventHandlers.delete(e)},e.prototype.removeAllUserEventHandler=function(){a.V.of(this._iid).userEventHandlers.clear()},e.prototype.addConnectionHandler=function(e,t){(0,a.r)((0,a.a)("string",e)&&t instanceof h).throw(a.S.invalidParameters),a.V.of(this._iid).connectionHandlers.set(e,t)},e.prototype.removeConnectionHandler=function(e){a.V.of(this._iid).connectionHandlers.delete(e)},e.prototype.removeAllConnectionHandler=function(){a.V.of(this._iid).connectionHandlers.clear()},e.prototype.createApplicationUserListQuery=function(e){return void 0===e&&(e={}),new ge(this._iid,e)},e.prototype.createBlockedUserListQuery=function(e){return void 0===e&&(e={}),new we(this._iid,e)},e.prototype.createFriendListQuery=function(e){return void 0===e&&(e={}),new Se(this._iid,e)},e.prototype.createMessageSearchQuery=function(e){return new i.a(this._iid,e)},e.prototype.createPollListQuery=function(e){return new o.P(this._iid,(0,a.g)({},e))},e.prototype.createPollVoterListQuery=function(e){return new o.a(this._iid,(0,a.g)({},e))},e.prototype.buildUserFromSerializedData=function(e){var t=(0,a.s)(e);return new a.U(this._iid,a.U.payloadify(t))},e.prototype.updateCurrentUserInfo=function(e){return void 0===e&&(e={}),(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i,o,s,c;return(0,a.c)(this,(function(l){switch(l.label){case 0:return t=(0,a.g)((0,a.g)({},d),e),(0,a.r)(function(e){return(0,a.i)(e.profileImage,!0)&&(0,a.a)("string",e.profileUrl,!0)&&(0,a.a)("string",e.nickname,!0)}(t)).throw(a.S.invalidParameters),this.currentUser?(n=a.V.of(this._iid),r=n.sdkState,i=n.requestQueue,o=new g((0,a.g)({userId:r.userId},t)),[4,i.send(o)]):[3,2];case 1:return s=l.sent(),c=s.as(v).user,this.currentUser&&(t.nickname&&(this.currentUser.nickname=c.nickname),(t.profileUrl||t.profileImage)&&(this.currentUser.plainProfileUrl=c.profileUrl)),[2,c];case 2:throw a.S.connectionRequired}}))}))},e.prototype.updateCurrentUserInfoWithPreferredLanguages=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i,o,s;return(0,a.c)(this,(function(c){switch(c.label){case 0:return(0,a.r)((0,a.l)("string",e)).throw(a.S.invalidParameters),this.currentUser?(t=a.V.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new g({userId:n.userId,preferredLanguages:e}),[4,r.send(i)]):[3,2];case 1:return o=c.sent(),s=o.as(v).user,this.currentUser&&(this.currentUser.preferredLanguages=s.preferredLanguages),[2,s];case 2:throw a.S.connectionRequired}}))}))},e.prototype.registerFCMPushTokenForCurrentUser=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i,o,s=this;return(0,a.c)(this,(function(c){switch(c.label){case 0:if((0,a.r)((0,a.a)("string",e)).throw(a.S.invalidParameters),!this.currentUser)return[3,6];c.label=1;case 1:return c.trys.push([1,4,,5]),t=a.V.of(this._iid),n=t.sessionManager,r=t.sdkState,i=t.requestQueue,n.hasDeviceToken(a.P.FCM,e)?[2,a.F.SUCCESS]:(o=new w({userId:r.userId,token:e}),[4,i.send(o)]);case 2:return c.sent(),[4,(0,a.G)((function(){return(0,a.b)(s,void 0,void 0,(function(){return(0,a.c)(this,(function(t){switch(t.label){case 0:return n.setDeviceToken(a.P.FCM,e),[4,n.saveDeviceToken()];case 1:return t.sent(),[2]}}))}))}))];case 3:return c.sent(),this._fcmPushToken="",[2,a.F.SUCCESS];case 4:return c.sent(),[2,a.F.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=e,[2,a.F.PENDING];case 7:return[2]}}))}))},e.prototype.unregisterFCMPushTokenForCurrentUser=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i,o,s,c=this;return(0,a.c)(this,(function(l){switch(l.label){case 0:if((0,a.r)((0,a.a)("string",e)).throw(a.S.invalidParameters),!this.currentUser)return[3,6];l.label=1;case 1:return l.trys.push([1,4,,5]),t=a.V.of(this._iid),n=t.sessionManager,r=t.sdkState,i=t.requestQueue,o=new E({userId:r.userId,token:e}),[4,i.send(o)];case 2:return s=l.sent().lastDeletedAt,[4,(0,a.G)((function(){return(0,a.b)(c,void 0,void 0,(function(){return(0,a.c)(this,(function(t){switch(t.label){case 0:return n.unsetDeviceToken(a.P.FCM,e),n.setDeviceTokenDeletedAt(s),[4,n.saveDeviceToken()];case 1:return t.sent(),[2]}}))}))}))];case 3:return l.sent(),this._fcmPushToken="",[2,a.F.SUCCESS];case 4:return l.sent(),[2,a.F.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=e,[2,a.F.PENDING];case 7:return[2]}}))}))},e.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return(0,a.b)(this,void 0,void 0,(function(){var e,t,n,r,i,o,s=this;return(0,a.c)(this,(function(c){switch(c.label){case 0:return this.currentUser?(e=a.V.of(this._iid),t=e.sessionManager,n=e.sdkState,r=e.requestQueue,i=new C({userId:n.userId}),[4,r.send(i)]):[3,3];case 1:return o=c.sent().lastDeletedAt,[4,(0,a.G)((function(){return(0,a.b)(s,void 0,void 0,(function(){return(0,a.c)(this,(function(e){switch(e.label){case 0:return t.unsetDeviceTokens(a.P.FCM),t.setDeviceTokenDeletedAt(o),[4,t.saveDeviceToken()];case 1:return e.sent(),[2]}}))}))}))];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))},e.prototype.registerAPNSPushTokenForCurrentUser=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i,o,s=this;return(0,a.c)(this,(function(c){switch(c.label){case 0:if((0,a.r)((0,a.a)("string",e)).throw(a.S.invalidParameters),!this.currentUser)return[3,6];c.label=1;case 1:return c.trys.push([1,4,,5]),t=a.V.of(this._iid),n=t.sessionManager,r=t.sdkState,i=t.requestQueue,n.hasDeviceToken(a.P.APNS,e)?[2,a.F.SUCCESS]:(o=new b({userId:r.userId,token:e}),[4,i.send(o)]);case 2:return c.sent(),[4,(0,a.G)((function(){return(0,a.b)(s,void 0,void 0,(function(){return(0,a.c)(this,(function(t){switch(t.label){case 0:return n.setDeviceToken(a.P.APNS,e),[4,n.saveDeviceToken()];case 1:return t.sent(),[2]}}))}))}))];case 3:return c.sent(),this._apnsPushToken="",[2,a.F.SUCCESS];case 4:return c.sent(),[2,a.F.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=e,[2,a.F.PENDING];case 7:return[2]}}))}))},e.prototype.unregisterAPNSPushTokenForCurrentUser=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i,o,s,c=this;return(0,a.c)(this,(function(l){switch(l.label){case 0:if((0,a.r)((0,a.a)("string",e)).throw(a.S.invalidParameters),!this.currentUser)return[3,6];l.label=1;case 1:return l.trys.push([1,4,,5]),t=a.V.of(this._iid),n=t.sessionManager,r=t.sdkState,i=t.requestQueue,o=new k({userId:r.userId,token:e}),[4,i.send(o)];case 2:return s=l.sent().lastDeletedAt,[4,(0,a.G)((function(){return(0,a.b)(c,void 0,void 0,(function(){return(0,a.c)(this,(function(t){switch(t.label){case 0:return n.unsetDeviceToken(a.P.APNS,e),n.setDeviceTokenDeletedAt(s),[4,n.saveDeviceToken()];case 1:return t.sent(),[2]}}))}))}))];case 3:return l.sent(),this._apnsPushToken="",[2,a.F.SUCCESS];case 4:return l.sent(),[2,a.F.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=e,[2,a.F.PENDING];case 7:return[2]}}))}))},e.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return(0,a.b)(this,void 0,void 0,(function(){var e,t,n,r,i,o,s=this;return(0,a.c)(this,(function(c){switch(c.label){case 0:return this.currentUser?(e=a.V.of(this._iid),t=e.sessionManager,n=e.sdkState,r=e.requestQueue,i=new S({userId:n.userId}),[4,r.send(i)]):[3,3];case 1:return o=c.sent().lastDeletedAt,[4,(0,a.G)((function(){return(0,a.b)(s,void 0,void 0,(function(){return(0,a.c)(this,(function(e){switch(e.label){case 0:return t.unsetDeviceTokens(a.P.APNS),t.setDeviceTokenDeletedAt(o),[4,t.saveDeviceToken()];case 1:return e.sent(),[2]}}))}))}))];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))},e.prototype.getChannelInvitationPreference=function(){return(0,a.b)(this,void 0,void 0,(function(){var e,t,n,r;return(0,a.c)(this,(function(i){switch(i.label){case 0:return e=a.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new M({userId:t.userId}),[4,n.send(r)];case 1:return[2,{autoAccept:i.sent().as(O).autoAccept}]}}))}))},e.prototype.setChannelInvitationPreference=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.c)(this,(function(o){switch(o.label){case 0:return(0,a.r)((0,a.a)("boolean",e)).throw(a.S.invalidParameters),t=a.V.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new A({userId:n.userId,willAutoAccept:e}),[4,r.send(i)];case 1:return[2,{autoAccept:o.sent().as(N).autoAccept}]}}))}))},e.prototype.getDoNotDisturb=function(){return(0,a.b)(this,void 0,void 0,(function(){var e,t,n,r;return(0,a.c)(this,(function(i){switch(i.label){case 0:return e=a.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new P({userId:t.userId}),[4,n.send(r)];case 1:return[2,i.sent().as(x).preference]}}))}))},e.prototype.setDoNotDisturb=function(e,t,n,r,i,o){return void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=""),(0,a.b)(this,void 0,void 0,(function(){var s,c,l,u;return(0,a.c)(this,(function(d){switch(d.label){case 0:return(0,a.r)((0,a.a)("boolean",e)&&(0,a.a)("number",t)&&(0,a.a)("number",n)&&(0,a.a)("number",r)&&(0,a.a)("number",i)&&(0,a.a)("string",o)).throw(a.S.invalidParameters),s=a.V.of(this._iid),c=s.sdkState,l=s.requestQueue,u=new D({userId:c.userId,doNotDisturbOn:e,startHour:t,startMin:n,endHour:r,endMin:i,timezone:o}),[4,l.send(u)];case 1:return[2,d.sent().as(U).preference]}}))}))},e.prototype.getSnoozePeriod=function(){return(0,a.b)(this,void 0,void 0,(function(){var e,t,n,r;return(0,a.c)(this,(function(i){switch(i.label){case 0:return e=a.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new L({userId:t.userId}),[4,n.send(r)];case 1:return[2,i.sent().as(z).snoozePeriod]}}))}))},e.prototype.setSnoozePeriod=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),(0,a.b)(this,void 0,void 0,(function(){var r,i,o,s;return(0,a.c)(this,(function(c){switch(c.label){case 0:return(0,a.r)((0,a.a)("boolean",e)&&(0,a.a)("number",t)&&(0,a.a)("number",n)).throw(a.S.invalidParameters),r=a.V.of(this._iid),i=r.sdkState,o=r.requestQueue,s=new R({userId:i.userId,snoozeOn:e,startTs:t,endTs:n}),[4,o.send(s)];case 1:return[2,c.sent().as(j).snoozePeriod]}}))}))},e.prototype.getMyPushTokensByToken=function(e,t){return(0,a.b)(this,void 0,void 0,(function(){var n,r,i,o,s,c,l,u,d,f,h,p;return(0,a.c)(this,(function(m){switch(m.label){case 0:return(0,a.r)((0,a.a)("string",e)&&(0,a.I)(a.P,t)).throw(a.S.invalidParameters),n=a.V.of(this._iid),r=n.sdkState,i=n.requestQueue,o=n.sessionManager,s=new T({userId:r.userId,type:t,token:e}),[4,i.send(s)];case 1:c=m.sent(),l=c.as(I).pushTokens;try{for(u=(0,a.H)(l.deviceTokens),d=u.next();!d.done;d=u.next())f=d.value,o.setDeviceToken(l.type,f)}catch(e){h={error:e}}finally{try{d&&!d.done&&(p=u.return)&&p.call(u)}finally{if(h)throw h.error}}return[4,o.saveDeviceToken()];case 2:return m.sent(),[2,l]}}))}))},e.prototype.getPushTriggerOption=function(){return(0,a.b)(this,void 0,void 0,(function(){var e,t,n,r;return(0,a.c)(this,(function(i){switch(i.label){case 0:return e=a.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new H({userId:t.userId}),[4,n.send(r)];case 1:return[2,i.sent().as(G).pushTriggerOption]}}))}))},e.prototype.setPushTriggerOption=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.c)(this,(function(o){switch(o.label){case 0:return(0,a.r)((0,a.I)(a.J,e)).throw(a.S.invalidParameters),t=a.V.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new V({userId:n.userId,pushTriggerOption:e}),[4,r.send(i)];case 1:return[2,o.sent().as(q).pushTriggerOption]}}))}))},e.prototype.getPushTemplate=function(){return(0,a.b)(this,void 0,void 0,(function(){var e,t,n,r;return(0,a.c)(this,(function(i){switch(i.label){case 0:return e=a.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new W({userId:t.userId}),[4,n.send(r)];case 1:return[2,i.sent().as(K).name]}}))}))},e.prototype.setPushTemplate=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.c)(this,(function(o){switch(o.label){case 0:return(0,a.r)((0,a.I)(a.K,e)).throw(a.S.invalidParameters),t=a.V.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new Q({userId:n.userId,templateName:e}),[4,r.send(i)];case 1:return[2,o.sent().as(Y).name]}}))}))},e.prototype.blockUser=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.c)(this,(function(o){switch(o.label){case 0:return(0,a.r)(e instanceof a.U||(0,a.a)("string",e)).throw(a.S.invalidParameters),t=a.V.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new F({userId:n.userId,blockedUserId:e instanceof a.U?e.userId:e}),[4,r.send(i)];case 1:return o.sent(),[2]}}))}))},e.prototype.blockUserWithUserId=function(e){return(0,a.b)(this,void 0,void 0,(function(){return(0,a.c)(this,(function(t){return[2,this.blockUser(e)]}))}))},e.prototype.unblockUser=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.c)(this,(function(o){switch(o.label){case 0:return(0,a.r)(e instanceof a.U||(0,a.a)("string",e)).throw(a.S.invalidParameters),t=a.V.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new B({userId:n.userId,unblockedUserId:e instanceof a.U?e.userId:e}),[4,r.send(i)];case 1:return o.sent(),[2]}}))}))},e.prototype.unblockUserWithUserId=function(e){return(0,a.b)(this,void 0,void 0,(function(){return(0,a.c)(this,(function(t){return[2,this.unblockUser(e)]}))}))},e.prototype.getFriendChangeLogsByToken=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.c)(this,(function(o){switch(o.label){case 0:return(0,a.r)((0,a.a)("string",e)).throw(a.S.invalidParameters),t=a.V.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new Z({userId:n.userId,token:e}),[4,r.send(i)];case 1:return[2,o.sent().as(J).changelogs]}}))}))},e.prototype.getAllowFriendDiscovery=function(){return(0,a.b)(this,void 0,void 0,(function(){var e,t,n,r;return(0,a.c)(this,(function(i){switch(i.label){case 0:return e=a.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new ae({userId:t.userId}),[4,n.send(r)];case 1:return[2,i.sent().as(ie).allowFriendDiscovery]}}))}))},e.prototype.setAllowFriendDiscovery=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.c)(this,(function(o){switch(o.label){case 0:return(0,a.r)((0,a.a)("boolean",e)).throw(a.S.invalidParameters),t=a.V.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new oe({userId:n.userId,allowFriendDiscovery:e}),[4,r.send(i)];case 1:return o.sent(),[2,e]}}))}))},e.prototype.uploadFriendDiscoveries=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.c)(this,(function(o){switch(o.label){case 0:return t=a.V.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new X({userId:n.userId,discoveries:e}),[4,r.send(i)];case 1:return[2,o.sent().as($).friendDiscoveryRequestId]}}))}))},e.prototype.deleteFriendDiscovery=function(e){return(0,a.b)(this,void 0,void 0,(function(){return(0,a.c)(this,(function(t){return[2,this.deleteFriendDiscoveries([e])]}))}))},e.prototype.deleteFriendDiscoveries=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.c)(this,(function(o){switch(o.label){case 0:return(0,a.r)((0,a.l)("string",e)).throw(a.S.invalidParameters),t=a.V.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new ee({userId:n.userId,discoveryKeys:e}),[4,r.send(i)];case 1:return o.sent(),[2]}}))}))},e.prototype.addFriends=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.c)(this,(function(o){switch(o.label){case 0:return(0,a.r)((0,a.l)("string",e)).throw(a.S.invalidParameters),t=a.V.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new te({userId:n.userId,userIds:e}),[4,r.send(i)];case 1:return[2,o.sent().as(ne).users]}}))}))},e.prototype.deleteFriend=function(e){return(0,a.b)(this,void 0,void 0,(function(){return(0,a.c)(this,(function(t){return[2,this.deleteFriends([e])]}))}))},e.prototype.deleteFriends=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.c)(this,(function(o){switch(o.label){case 0:return(0,a.r)((0,a.l)("string",e)).throw(a.S.invalidParameters),t=a.V.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new re({userId:n.userId,userIds:e}),[4,r.send(i)];case 1:return o.sent(),[2]}}))}))},e.prototype.getAllEmoji=function(){return(0,a.b)(this,void 0,void 0,(function(){var e,t;return(0,a.c)(this,(function(n){switch(n.label){case 0:return e=a.V.of(this._iid).requestQueue,t=new ue,[4,e.send(t)];case 1:return[2,n.sent().as(de).emojiContainer]}}))}))},e.prototype.getEmojiCategory=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n;return(0,a.c)(this,(function(r){switch(r.label){case 0:return t=a.V.of(this._iid).requestQueue,n=new fe({categoryId:e}),[4,t.send(n)];case 1:return[2,r.sent().as(he).emojiCategory]}}))}))},e.prototype.getEmoji=function(e){return(0,a.b)(this,void 0,void 0,(function(){var t,n;return(0,a.c)(this,(function(r){switch(r.label){case 0:return t=a.V.of(this._iid).requestQueue,n=new pe({key:e}),[4,t.send(n)];case 1:return[2,r.sent().as(me).emoji]}}))}))},e}()},24222:e=>{"use strict";e.exports=JSON.parse('[{"keywords":["grinning","face","smile","happy","joy",":D","grin"],"char":"😀","fitzpatrick_scale":false,"name":"grinning","category":"people"},{"keywords":["grimacing","face","grimace","teeth"],"char":"😬","fitzpatrick_scale":false,"name":"grimacing","category":"people"},{"keywords":["grin","face","happy","smile","joy","kawaii"],"char":"😁","fitzpatrick_scale":false,"name":"grin","category":"people"},{"keywords":["joy","face","cry","tears","weep","happy","happytears","haha"],"char":"😂","fitzpatrick_scale":false,"name":"joy","category":"people"},{"keywords":["rofl","face","rolling","floor","laughing","lol","haha"],"char":"🤣","fitzpatrick_scale":false,"name":"rofl","category":"people"},{"keywords":["partying","face","celebration","woohoo"],"char":"🥳","fitzpatrick_scale":false,"name":"partying","category":"people"},{"keywords":["smiley","face","happy","joy","haha",":D",":)","smile","funny"],"char":"😃","fitzpatrick_scale":false,"name":"smiley","category":"people"},{"keywords":["smile","face","happy","joy","funny","haha","laugh","like",":D",":)"],"char":"😄","fitzpatrick_scale":false,"name":"smile","category":"people"},{"keywords":["sweat_smile","face","hot","happy","laugh","sweat","smile","relief"],"char":"😅","fitzpatrick_scale":false,"name":"sweat_smile","category":"people"},{"keywords":["laughing","happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],"char":"😆","fitzpatrick_scale":false,"name":"laughing","category":"people"},{"keywords":["innocent","face","angel","heaven","halo"],"char":"😇","fitzpatrick_scale":false,"name":"innocent","category":"people"},{"keywords":["wink","face","happy","mischievous","secret",";)","smile","eye"],"char":"😉","fitzpatrick_scale":false,"name":"wink","category":"people"},{"keywords":["blush","face","smile","happy","flushed","crush","embarrassed","shy","joy"],"char":"😊","fitzpatrick_scale":false,"name":"blush","category":"people"},{"keywords":["slightly_smiling_face","face","smile"],"char":"🙂","fitzpatrick_scale":false,"name":"slightly_smiling_face","category":"people"},{"keywords":["upside_down_face","face","flipped","silly","smile"],"char":"🙃","fitzpatrick_scale":false,"name":"upside_down_face","category":"people"},{"keywords":["relaxed","face","blush","massage","happiness"],"char":"☺️","fitzpatrick_scale":false,"name":"relaxed","category":"people"},{"keywords":["yum","happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],"char":"😋","fitzpatrick_scale":false,"name":"yum","category":"people"},{"keywords":["relieved","face","relaxed","phew","massage","happiness"],"char":"😌","fitzpatrick_scale":false,"name":"relieved","category":"people"},{"keywords":["heart_eyes","face","love","like","affection","valentines","infatuation","crush","heart"],"char":"😍","fitzpatrick_scale":false,"name":"heart_eyes","category":"people"},{"keywords":["smiling_face_with_three_hearts","face","love","like","affection","valentines","infatuation","crush","hearts","adore"],"char":"🥰","fitzpatrick_scale":false,"name":"smiling_face_with_three_hearts","category":"people"},{"keywords":["kissing_heart","face","love","like","affection","valentines","infatuation","kiss"],"char":"😘","fitzpatrick_scale":false,"name":"kissing_heart","category":"people"},{"keywords":["kissing","love","like","face","3","valentines","infatuation","kiss"],"char":"😗","fitzpatrick_scale":false,"name":"kissing","category":"people"},{"keywords":["kissing_smiling_eyes","face","affection","valentines","infatuation","kiss"],"char":"😙","fitzpatrick_scale":false,"name":"kissing_smiling_eyes","category":"people"},{"keywords":["kissing_closed_eyes","face","love","like","affection","valentines","infatuation","kiss"],"char":"😚","fitzpatrick_scale":false,"name":"kissing_closed_eyes","category":"people"},{"keywords":["stuck_out_tongue_winking_eye","face","prank","childish","playful","mischievous","smile","wink","tongue"],"char":"😜","fitzpatrick_scale":false,"name":"stuck_out_tongue_winking_eye","category":"people"},{"keywords":["zany","face","goofy","crazy"],"char":"🤪","fitzpatrick_scale":false,"name":"zany","category":"people"},{"keywords":["raised_eyebrow","face","distrust","scepticism","disapproval","disbelief","surprise"],"char":"🤨","fitzpatrick_scale":false,"name":"raised_eyebrow","category":"people"},{"keywords":["monocle","face","stuffy","wealthy"],"char":"🧐","fitzpatrick_scale":false,"name":"monocle","category":"people"},{"keywords":["stuck_out_tongue_closed_eyes","face","prank","playful","mischievous","smile","tongue"],"char":"😝","fitzpatrick_scale":false,"name":"stuck_out_tongue_closed_eyes","category":"people"},{"keywords":["stuck_out_tongue","face","prank","childish","playful","mischievous","smile","tongue"],"char":"😛","fitzpatrick_scale":false,"name":"stuck_out_tongue","category":"people"},{"keywords":["money_mouth_face","face","rich","dollar","money"],"char":"🤑","fitzpatrick_scale":false,"name":"money_mouth_face","category":"people"},{"keywords":["nerd_face","face","nerdy","geek","dork"],"char":"🤓","fitzpatrick_scale":false,"name":"nerd_face","category":"people"},{"keywords":["sunglasses","face","cool","smile","summer","beach","sunglass"],"char":"😎","fitzpatrick_scale":false,"name":"sunglasses","category":"people"},{"keywords":["star_struck","face","smile","starry","eyes","grinning"],"char":"🤩","fitzpatrick_scale":false,"name":"star_struck","category":"people"},{"keywords":["clown_face","face"],"char":"🤡","fitzpatrick_scale":false,"name":"clown_face","category":"people"},{"keywords":["cowboy_hat_face","face","cowgirl","hat"],"char":"🤠","fitzpatrick_scale":false,"name":"cowboy_hat_face","category":"people"},{"keywords":["hugs","face","smile","hug"],"char":"🤗","fitzpatrick_scale":false,"name":"hugs","category":"people"},{"keywords":["smirk","face","smile","mean","prank","smug","sarcasm"],"char":"😏","fitzpatrick_scale":false,"name":"smirk","category":"people"},{"keywords":["no_mouth","face","hellokitty"],"char":"😶","fitzpatrick_scale":false,"name":"no_mouth","category":"people"},{"keywords":["neutral_face","indifference","meh",":|","neutral"],"char":"😐","fitzpatrick_scale":false,"name":"neutral_face","category":"people"},{"keywords":["expressionless","face","indifferent","-_-","meh","deadpan"],"char":"😑","fitzpatrick_scale":false,"name":"expressionless","category":"people"},{"keywords":["unamused","indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],"char":"😒","fitzpatrick_scale":false,"name":"unamused","category":"people"},{"keywords":["roll_eyes","face","eyeroll","frustrated"],"char":"🙄","fitzpatrick_scale":false,"name":"roll_eyes","category":"people"},{"keywords":["thinking","face","hmmm","think","consider"],"char":"🤔","fitzpatrick_scale":false,"name":"thinking","category":"people"},{"keywords":["lying_face","face","lie","pinocchio"],"char":"🤥","fitzpatrick_scale":false,"name":"lying_face","category":"people"},{"keywords":["hand_over_mouth","face","whoops","shock","surprise"],"char":"🤭","fitzpatrick_scale":false,"name":"hand_over_mouth","category":"people"},{"keywords":["shushing","face","quiet","shhh"],"char":"🤫","fitzpatrick_scale":false,"name":"shushing","category":"people"},{"keywords":["symbols_over_mouth","face","swearing","cursing","cussing","profanity","expletive"],"char":"🤬","fitzpatrick_scale":false,"name":"symbols_over_mouth","category":"people"},{"keywords":["exploding_head","face","shocked","mind","blown"],"char":"🤯","fitzpatrick_scale":false,"name":"exploding_head","category":"people"},{"keywords":["flushed","face","blush","shy","flattered"],"char":"😳","fitzpatrick_scale":false,"name":"flushed","category":"people"},{"keywords":["disappointed","face","sad","upset","depressed",":("],"char":"😞","fitzpatrick_scale":false,"name":"disappointed","category":"people"},{"keywords":["worried","face","concern","nervous",":("],"char":"😟","fitzpatrick_scale":false,"name":"worried","category":"people"},{"keywords":["angry","mad","face","annoyed","frustrated"],"char":"😠","fitzpatrick_scale":false,"name":"angry","category":"people"},{"keywords":["rage","angry","mad","hate","despise"],"char":"😡","fitzpatrick_scale":false,"name":"rage","category":"people"},{"keywords":["pensive","face","sad","depressed","upset"],"char":"😔","fitzpatrick_scale":false,"name":"pensive","category":"people"},{"keywords":["confused","face","indifference","huh","weird","hmmm",":/"],"char":"😕","fitzpatrick_scale":false,"name":"confused","category":"people"},{"keywords":["slightly_frowning_face","face","frowning","disappointed","sad","upset"],"char":"🙁","fitzpatrick_scale":false,"name":"slightly_frowning_face","category":"people"},{"keywords":["frowning_face","face","sad","upset","frown"],"char":"☹","fitzpatrick_scale":false,"name":"frowning_face","category":"people"},{"keywords":["persevere","face","sick","no","upset","oops"],"char":"😣","fitzpatrick_scale":false,"name":"persevere","category":"people"},{"keywords":["confounded","face","confused","sick","unwell","oops",":S"],"char":"😖","fitzpatrick_scale":false,"name":"confounded","category":"people"},{"keywords":["tired_face","sick","whine","upset","frustrated"],"char":"😫","fitzpatrick_scale":false,"name":"tired_face","category":"people"},{"keywords":["weary","face","tired","sleepy","sad","frustrated","upset"],"char":"😩","fitzpatrick_scale":false,"name":"weary","category":"people"},{"keywords":["pleading","face","begging","mercy"],"char":"🥺","fitzpatrick_scale":false,"name":"pleading","category":"people"},{"keywords":["triumph","face","gas","phew","proud","pride"],"char":"😤","fitzpatrick_scale":false,"name":"triumph","category":"people"},{"keywords":["open_mouth","face","surprise","impressed","wow","whoa",":O"],"char":"😮","fitzpatrick_scale":false,"name":"open_mouth","category":"people"},{"keywords":["scream","face","munch","scared","omg"],"char":"😱","fitzpatrick_scale":false,"name":"scream","category":"people"},{"keywords":["fearful","face","scared","terrified","nervous","oops","huh"],"char":"😨","fitzpatrick_scale":false,"name":"fearful","category":"people"},{"keywords":["cold_sweat","face","nervous","sweat"],"char":"😰","fitzpatrick_scale":false,"name":"cold_sweat","category":"people"},{"keywords":["hushed","face","woo","shh"],"char":"😯","fitzpatrick_scale":false,"name":"hushed","category":"people"},{"keywords":["frowning","face","aw","what"],"char":"😦","fitzpatrick_scale":false,"name":"frowning","category":"people"},{"keywords":["anguished","face","stunned","nervous"],"char":"😧","fitzpatrick_scale":false,"name":"anguished","category":"people"},{"keywords":["cry","face","tears","sad","depressed","upset",":\'("],"char":"😢","fitzpatrick_scale":false,"name":"cry","category":"people"},{"keywords":["disappointed_relieved","face","phew","sweat","nervous"],"char":"😥","fitzpatrick_scale":false,"name":"disappointed_relieved","category":"people"},{"keywords":["drooling_face","face"],"char":"🤤","fitzpatrick_scale":false,"name":"drooling_face","category":"people"},{"keywords":["sleepy","face","tired","rest","nap"],"char":"😪","fitzpatrick_scale":false,"name":"sleepy","category":"people"},{"keywords":["sweat","face","hot","sad","tired","exercise"],"char":"😓","fitzpatrick_scale":false,"name":"sweat","category":"people"},{"keywords":["hot","face","feverish","heat","red","sweating"],"char":"🥵","fitzpatrick_scale":false,"name":"hot","category":"people"},{"keywords":["cold","face","blue","freezing","frozen","frostbite","icicles"],"char":"🥶","fitzpatrick_scale":false,"name":"cold","category":"people"},{"keywords":["sob","face","cry","tears","sad","upset","depressed"],"char":"😭","fitzpatrick_scale":false,"name":"sob","category":"people"},{"keywords":["dizzy_face","spent","unconscious","xox","dizzy"],"char":"😵","fitzpatrick_scale":false,"name":"dizzy_face","category":"people"},{"keywords":["astonished","face","xox","surprised","poisoned"],"char":"😲","fitzpatrick_scale":false,"name":"astonished","category":"people"},{"keywords":["zipper_mouth_face","face","sealed","zipper","secret"],"char":"🤐","fitzpatrick_scale":false,"name":"zipper_mouth_face","category":"people"},{"keywords":["nauseated_face","face","vomit","gross","green","sick","throw up","ill"],"char":"🤢","fitzpatrick_scale":false,"name":"nauseated_face","category":"people"},{"keywords":["sneezing_face","face","gesundheit","sneeze","sick","allergy"],"char":"🤧","fitzpatrick_scale":false,"name":"sneezing_face","category":"people"},{"keywords":["vomiting","face","sick"],"char":"🤮","fitzpatrick_scale":false,"name":"vomiting","category":"people"},{"keywords":["mask","face","sick","ill","disease"],"char":"😷","fitzpatrick_scale":false,"name":"mask","category":"people"},{"keywords":["face_with_thermometer","sick","temperature","thermometer","cold","fever"],"char":"🤒","fitzpatrick_scale":false,"name":"face_with_thermometer","category":"people"},{"keywords":["face_with_head_bandage","injured","clumsy","bandage","hurt"],"char":"🤕","fitzpatrick_scale":false,"name":"face_with_head_bandage","category":"people"},{"keywords":["woozy","face","dizzy","intoxicated","tipsy","wavy"],"char":"🥴","fitzpatrick_scale":false,"name":"woozy","category":"people"},{"keywords":["sleeping","face","tired","sleepy","night","zzz"],"char":"😴","fitzpatrick_scale":false,"name":"sleeping","category":"people"},{"keywords":["zzz","sleepy","tired","dream"],"char":"💤","fitzpatrick_scale":false,"name":"zzz","category":"people"},{"keywords":["poop","hankey","shitface","fail","turd","shit"],"char":"💩","fitzpatrick_scale":false,"name":"poop","category":"people"},{"keywords":["smiling_imp","devil","horns"],"char":"😈","fitzpatrick_scale":false,"name":"smiling_imp","category":"people"},{"keywords":["imp","devil","angry","horns"],"char":"👿","fitzpatrick_scale":false,"name":"imp","category":"people"},{"keywords":["japanese_ogre","monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],"char":"👹","fitzpatrick_scale":false,"name":"japanese_ogre","category":"people"},{"keywords":["japanese_goblin","red","evil","mask","monster","scary","creepy","japanese","goblin"],"char":"👺","fitzpatrick_scale":false,"name":"japanese_goblin","category":"people"},{"keywords":["skull","dead","skeleton","creepy","death"],"char":"💀","fitzpatrick_scale":false,"name":"skull","category":"people"},{"keywords":["ghost","halloween","spooky","scary"],"char":"👻","fitzpatrick_scale":false,"name":"ghost","category":"people"},{"keywords":["alien","UFO","paul","weird","outer_space"],"char":"👽","fitzpatrick_scale":false,"name":"alien","category":"people"},{"keywords":["robot","computer","machine","bot"],"char":"🤖","fitzpatrick_scale":false,"name":"robot","category":"people"},{"keywords":["smiley_cat","animal","cats","happy","smile"],"char":"😺","fitzpatrick_scale":false,"name":"smiley_cat","category":"people"},{"keywords":["smile_cat","animal","cats","smile"],"char":"😸","fitzpatrick_scale":false,"name":"smile_cat","category":"people"},{"keywords":["joy_cat","animal","cats","haha","happy","tears"],"char":"😹","fitzpatrick_scale":false,"name":"joy_cat","category":"people"},{"keywords":["heart_eyes_cat","animal","love","like","affection","cats","valentines","heart"],"char":"😻","fitzpatrick_scale":false,"name":"heart_eyes_cat","category":"people"},{"keywords":["smirk_cat","animal","cats","smirk"],"char":"😼","fitzpatrick_scale":false,"name":"smirk_cat","category":"people"},{"keywords":["kissing_cat","animal","cats","kiss"],"char":"😽","fitzpatrick_scale":false,"name":"kissing_cat","category":"people"},{"keywords":["scream_cat","animal","cats","munch","scared","scream"],"char":"🙀","fitzpatrick_scale":false,"name":"scream_cat","category":"people"},{"keywords":["crying_cat_face","animal","tears","weep","sad","cats","upset","cry"],"char":"😿","fitzpatrick_scale":false,"name":"crying_cat_face","category":"people"},{"keywords":["pouting_cat","animal","cats"],"char":"😾","fitzpatrick_scale":false,"name":"pouting_cat","category":"people"},{"keywords":["palms_up","hands","gesture","cupped","prayer"],"char":"🤲","fitzpatrick_scale":true,"name":"palms_up","category":"people"},{"keywords":["raised_hands","gesture","hooray","yea","celebration","hands"],"char":"🙌","fitzpatrick_scale":true,"name":"raised_hands","category":"people"},{"keywords":["clap","hands","praise","applause","congrats","yay"],"char":"👏","fitzpatrick_scale":true,"name":"clap","category":"people"},{"keywords":["wave","hands","gesture","goodbye","solong","farewell","hello","hi","palm"],"char":"👋","fitzpatrick_scale":true,"name":"wave","category":"people"},{"keywords":["call_me_hand","hands","gesture"],"char":"🤙","fitzpatrick_scale":true,"name":"call_me_hand","category":"people"},{"keywords":["+1","thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],"char":"👍","fitzpatrick_scale":true,"name":"+1","category":"people"},{"keywords":["-1","thumbsdown","no","dislike","hand"],"char":"👎","fitzpatrick_scale":true,"name":"-1","category":"people"},{"keywords":["facepunch","angry","violence","fist","hit","attack","hand"],"char":"👊","fitzpatrick_scale":true,"name":"facepunch","category":"people"},{"keywords":["fist","fingers","hand","grasp"],"char":"✊","fitzpatrick_scale":true,"name":"fist","category":"people"},{"keywords":["fist_left","hand","fistbump"],"char":"🤛","fitzpatrick_scale":true,"name":"fist_left","category":"people"},{"keywords":["fist_right","hand","fistbump"],"char":"🤜","fitzpatrick_scale":true,"name":"fist_right","category":"people"},{"keywords":["v","fingers","ohyeah","hand","peace","victory","two"],"char":"✌","fitzpatrick_scale":true,"name":"v","category":"people"},{"keywords":["ok_hand","fingers","limbs","perfect","ok","okay"],"char":"👌","fitzpatrick_scale":true,"name":"ok_hand","category":"people"},{"keywords":["raised_hand","fingers","stop","highfive","palm","ban"],"char":"✋","fitzpatrick_scale":true,"name":"raised_hand","category":"people"},{"keywords":["raised_back_of_hand","fingers","raised","backhand"],"char":"🤚","fitzpatrick_scale":true,"name":"raised_back_of_hand","category":"people"},{"keywords":["open_hands","fingers","butterfly","hands","open"],"char":"👐","fitzpatrick_scale":true,"name":"open_hands","category":"people"},{"keywords":["muscle","arm","flex","hand","summer","strong","biceps"],"char":"💪","fitzpatrick_scale":true,"name":"muscle","category":"people"},{"keywords":["pray","please","hope","wish","namaste","highfive"],"char":"🙏","fitzpatrick_scale":true,"name":"pray","category":"people"},{"keywords":["foot","kick","stomp"],"char":"🦶","fitzpatrick_scale":true,"name":"foot","category":"people"},{"keywords":["leg","kick","limb"],"char":"🦵","fitzpatrick_scale":true,"name":"leg","category":"people"},{"keywords":["handshake","agreement","shake"],"char":"🤝","fitzpatrick_scale":false,"name":"handshake","category":"people"},{"keywords":["point_up","hand","fingers","direction","up"],"char":"☝","fitzpatrick_scale":true,"name":"point_up","category":"people"},{"keywords":["point_up_2","fingers","hand","direction","up"],"char":"👆","fitzpatrick_scale":true,"name":"point_up_2","category":"people"},{"keywords":["point_down","fingers","hand","direction","down"],"char":"👇","fitzpatrick_scale":true,"name":"point_down","category":"people"},{"keywords":["point_left","direction","fingers","hand","left"],"char":"👈","fitzpatrick_scale":true,"name":"point_left","category":"people"},{"keywords":["point_right","fingers","hand","direction","right"],"char":"👉","fitzpatrick_scale":true,"name":"point_right","category":"people"},{"keywords":["fu","hand","fingers","rude","middle","flipping"],"char":"🖕","fitzpatrick_scale":true,"name":"fu","category":"people"},{"keywords":["raised_hand_with_fingers_splayed","hand","fingers","palm"],"char":"🖐","fitzpatrick_scale":true,"name":"raised_hand_with_fingers_splayed","category":"people"},{"keywords":["love_you","hand","fingers","gesture"],"char":"🤟","fitzpatrick_scale":true,"name":"love_you","category":"people"},{"keywords":["metal","hand","fingers","evil_eye","sign_of_horns","rock_on"],"char":"🤘","fitzpatrick_scale":true,"name":"metal","category":"people"},{"keywords":["crossed_fingers","good","lucky"],"char":"🤞","fitzpatrick_scale":true,"name":"crossed_fingers","category":"people"},{"keywords":["vulcan_salute","hand","fingers","spock","star trek"],"char":"🖖","fitzpatrick_scale":true,"name":"vulcan_salute","category":"people"},{"keywords":["writing_hand","lower_left_ballpoint_pen","stationery","write","compose"],"char":"✍","fitzpatrick_scale":true,"name":"writing_hand","category":"people"},{"keywords":["selfie","camera","phone"],"char":"🤳","fitzpatrick_scale":true,"name":"selfie","category":"people"},{"keywords":["nail_care","beauty","manicure","finger","fashion","nail"],"char":"💅","fitzpatrick_scale":true,"name":"nail_care","category":"people"},{"keywords":["lips","mouth","kiss"],"char":"👄","fitzpatrick_scale":false,"name":"lips","category":"people"},{"keywords":["tooth","teeth","dentist"],"char":"🦷","fitzpatrick_scale":false,"name":"tooth","category":"people"},{"keywords":["tongue","mouth","playful"],"char":"👅","fitzpatrick_scale":false,"name":"tongue","category":"people"},{"keywords":["ear","face","hear","sound","listen"],"char":"👂","fitzpatrick_scale":true,"name":"ear","category":"people"},{"keywords":["nose","smell","sniff"],"char":"👃","fitzpatrick_scale":true,"name":"nose","category":"people"},{"keywords":["eye","face","look","see","watch","stare"],"char":"👁","fitzpatrick_scale":false,"name":"eye","category":"people"},{"keywords":["eyes","look","watch","stalk","peek","see"],"char":"👀","fitzpatrick_scale":false,"name":"eyes","category":"people"},{"keywords":["brain","smart","intelligent"],"char":"🧠","fitzpatrick_scale":false,"name":"brain","category":"people"},{"keywords":["bust_in_silhouette","user","person","human"],"char":"👤","fitzpatrick_scale":false,"name":"bust_in_silhouette","category":"people"},{"keywords":["busts_in_silhouette","user","person","human","group","team"],"char":"👥","fitzpatrick_scale":false,"name":"busts_in_silhouette","category":"people"},{"keywords":["speaking_head","user","person","human","sing","say","talk"],"char":"🗣","fitzpatrick_scale":false,"name":"speaking_head","category":"people"},{"keywords":["baby","child","boy","girl","toddler"],"char":"👶","fitzpatrick_scale":true,"name":"baby","category":"people"},{"keywords":["child","gender-neutral","young"],"char":"🧒","fitzpatrick_scale":true,"name":"child","category":"people"},{"keywords":["boy","man","male","guy","teenager"],"char":"👦","fitzpatrick_scale":true,"name":"boy","category":"people"},{"keywords":["girl","female","woman","teenager"],"char":"👧","fitzpatrick_scale":true,"name":"girl","category":"people"},{"keywords":["adult","gender-neutral","person"],"char":"🧑","fitzpatrick_scale":true,"name":"adult","category":"people"},{"keywords":["man","mustache","father","dad","guy","classy","sir","moustache"],"char":"👨","fitzpatrick_scale":true,"name":"man","category":"people"},{"keywords":["woman","female","girls","lady"],"char":"👩","fitzpatrick_scale":true,"name":"woman","category":"people"},{"keywords":["blonde_woman","woman","female","girl","blonde","person"],"char":"👱‍♀️","fitzpatrick_scale":true,"name":"blonde_woman","category":"people"},{"keywords":["blonde_man","man","male","boy","blonde","guy","person"],"char":"👱","fitzpatrick_scale":true,"name":"blonde_man","category":"people"},{"keywords":["bearded_person","person","bewhiskered"],"char":"🧔","fitzpatrick_scale":true,"name":"bearded_person","category":"people"},{"keywords":["older_adult","human","elder","senior","gender-neutral"],"char":"🧓","fitzpatrick_scale":true,"name":"older_adult","category":"people"},{"keywords":["older_man","human","male","men","old","elder","senior"],"char":"👴","fitzpatrick_scale":true,"name":"older_man","category":"people"},{"keywords":["older_woman","human","female","women","lady","old","elder","senior"],"char":"👵","fitzpatrick_scale":true,"name":"older_woman","category":"people"},{"keywords":["man_with_gua_pi_mao","male","boy","chinese"],"char":"👲","fitzpatrick_scale":true,"name":"man_with_gua_pi_mao","category":"people"},{"keywords":["woman_with_headscarf","female","hijab","mantilla","tichel"],"char":"🧕","fitzpatrick_scale":true,"name":"woman_with_headscarf","category":"people"},{"keywords":["woman_with_turban","female","indian","hinduism","arabs","woman"],"char":"👳‍♀️","fitzpatrick_scale":true,"name":"woman_with_turban","category":"people"},{"keywords":["man_with_turban","male","indian","hinduism","arabs"],"char":"👳","fitzpatrick_scale":true,"name":"man_with_turban","category":"people"},{"keywords":["policewoman","woman","police","law","legal","enforcement","arrest","911","female"],"char":"👮‍♀️","fitzpatrick_scale":true,"name":"policewoman","category":"people"},{"keywords":["policeman","man","police","law","legal","enforcement","arrest","911"],"char":"👮","fitzpatrick_scale":true,"name":"policeman","category":"people"},{"keywords":["construction_worker_woman","female","human","wip","build","construction","worker","labor","woman"],"char":"👷‍♀️","fitzpatrick_scale":true,"name":"construction_worker_woman","category":"people"},{"keywords":["construction_worker_man","male","human","wip","guy","build","construction","worker","labor"],"char":"👷","fitzpatrick_scale":true,"name":"construction_worker_man","category":"people"},{"keywords":["guardswoman","uk","gb","british","female","royal","woman"],"char":"💂‍♀️","fitzpatrick_scale":true,"name":"guardswoman","category":"people"},{"keywords":["guardsman","uk","gb","british","male","guy","royal"],"char":"💂","fitzpatrick_scale":true,"name":"guardsman","category":"people"},{"keywords":["female_detective","human","spy","detective","female","woman"],"char":"🕵️‍♀️","fitzpatrick_scale":true,"name":"female_detective","category":"people"},{"keywords":["male_detective","human","spy","detective"],"char":"🕵","fitzpatrick_scale":true,"name":"male_detective","category":"people"},{"keywords":["woman_health_worker","doctor","nurse","therapist","healthcare","woman","human"],"char":"👩‍⚕️","fitzpatrick_scale":true,"name":"woman_health_worker","category":"people"},{"keywords":["man_health_worker","doctor","nurse","therapist","healthcare","man","human"],"char":"👨‍⚕️","fitzpatrick_scale":true,"name":"man_health_worker","category":"people"},{"keywords":["woman_farmer","rancher","gardener","woman","human"],"char":"👩‍🌾","fitzpatrick_scale":true,"name":"woman_farmer","category":"people"},{"keywords":["man_farmer","rancher","gardener","man","human"],"char":"👨‍🌾","fitzpatrick_scale":true,"name":"man_farmer","category":"people"},{"keywords":["woman_cook","chef","woman","human"],"char":"👩‍🍳","fitzpatrick_scale":true,"name":"woman_cook","category":"people"},{"keywords":["man_cook","chef","man","human"],"char":"👨‍🍳","fitzpatrick_scale":true,"name":"man_cook","category":"people"},{"keywords":["woman_student","graduate","woman","human"],"char":"👩‍🎓","fitzpatrick_scale":true,"name":"woman_student","category":"people"},{"keywords":["man_student","graduate","man","human"],"char":"👨‍🎓","fitzpatrick_scale":true,"name":"man_student","category":"people"},{"keywords":["woman_singer","rockstar","entertainer","woman","human"],"char":"👩‍🎤","fitzpatrick_scale":true,"name":"woman_singer","category":"people"},{"keywords":["man_singer","rockstar","entertainer","man","human"],"char":"👨‍🎤","fitzpatrick_scale":true,"name":"man_singer","category":"people"},{"keywords":["woman_teacher","instructor","professor","woman","human"],"char":"👩‍🏫","fitzpatrick_scale":true,"name":"woman_teacher","category":"people"},{"keywords":["man_teacher","instructor","professor","man","human"],"char":"👨‍🏫","fitzpatrick_scale":true,"name":"man_teacher","category":"people"},{"keywords":["woman_factory_worker","assembly","industrial","woman","human"],"char":"👩‍🏭","fitzpatrick_scale":true,"name":"woman_factory_worker","category":"people"},{"keywords":["man_factory_worker","assembly","industrial","man","human"],"char":"👨‍🏭","fitzpatrick_scale":true,"name":"man_factory_worker","category":"people"},{"keywords":["woman_technologist","coder","developer","engineer","programmer","software","woman","human","laptop","computer"],"char":"👩‍💻","fitzpatrick_scale":true,"name":"woman_technologist","category":"people"},{"keywords":["man_technologist","coder","developer","engineer","programmer","software","man","human","laptop","computer"],"char":"👨‍💻","fitzpatrick_scale":true,"name":"man_technologist","category":"people"},{"keywords":["woman_office_worker","business","manager","woman","human"],"char":"👩‍💼","fitzpatrick_scale":true,"name":"woman_office_worker","category":"people"},{"keywords":["man_office_worker","business","manager","man","human"],"char":"👨‍💼","fitzpatrick_scale":true,"name":"man_office_worker","category":"people"},{"keywords":["woman_mechanic","plumber","woman","human","wrench"],"char":"👩‍🔧","fitzpatrick_scale":true,"name":"woman_mechanic","category":"people"},{"keywords":["man_mechanic","plumber","man","human","wrench"],"char":"👨‍🔧","fitzpatrick_scale":true,"name":"man_mechanic","category":"people"},{"keywords":["woman_scientist","biologist","chemist","engineer","physicist","woman","human"],"char":"👩‍🔬","fitzpatrick_scale":true,"name":"woman_scientist","category":"people"},{"keywords":["man_scientist","biologist","chemist","engineer","physicist","man","human"],"char":"👨‍🔬","fitzpatrick_scale":true,"name":"man_scientist","category":"people"},{"keywords":["woman_artist","painter","woman","human"],"char":"👩‍🎨","fitzpatrick_scale":true,"name":"woman_artist","category":"people"},{"keywords":["man_artist","painter","man","human"],"char":"👨‍🎨","fitzpatrick_scale":true,"name":"man_artist","category":"people"},{"keywords":["woman_firefighter","fireman","woman","human"],"char":"👩‍🚒","fitzpatrick_scale":true,"name":"woman_firefighter","category":"people"},{"keywords":["man_firefighter","fireman","man","human"],"char":"👨‍🚒","fitzpatrick_scale":true,"name":"man_firefighter","category":"people"},{"keywords":["woman_pilot","aviator","plane","woman","human"],"char":"👩‍✈️","fitzpatrick_scale":true,"name":"woman_pilot","category":"people"},{"keywords":["man_pilot","aviator","plane","man","human"],"char":"👨‍✈️","fitzpatrick_scale":true,"name":"man_pilot","category":"people"},{"keywords":["woman_astronaut","space","rocket","woman","human"],"char":"👩‍🚀","fitzpatrick_scale":true,"name":"woman_astronaut","category":"people"},{"keywords":["man_astronaut","space","rocket","man","human"],"char":"👨‍🚀","fitzpatrick_scale":true,"name":"man_astronaut","category":"people"},{"keywords":["woman_judge","justice","court","woman","human"],"char":"👩‍⚖️","fitzpatrick_scale":true,"name":"woman_judge","category":"people"},{"keywords":["man_judge","justice","court","man","human"],"char":"👨‍⚖️","fitzpatrick_scale":true,"name":"man_judge","category":"people"},{"keywords":["woman_superhero","woman","female","good","heroine","superpowers"],"char":"🦸‍♀️","fitzpatrick_scale":true,"name":"woman_superhero","category":"people"},{"keywords":["man_superhero","man","male","good","hero","superpowers"],"char":"🦸‍♂️","fitzpatrick_scale":true,"name":"man_superhero","category":"people"},{"keywords":["woman_supervillain","woman","female","evil","bad","criminal","heroine","superpowers"],"char":"🦹‍♀️","fitzpatrick_scale":true,"name":"woman_supervillain","category":"people"},{"keywords":["man_supervillain","man","male","evil","bad","criminal","hero","superpowers"],"char":"🦹‍♂️","fitzpatrick_scale":true,"name":"man_supervillain","category":"people"},{"keywords":["mrs_claus","woman","female","xmas","mother christmas"],"char":"🤶","fitzpatrick_scale":true,"name":"mrs_claus","category":"people"},{"keywords":["santa","festival","man","male","xmas","father christmas"],"char":"🎅","fitzpatrick_scale":true,"name":"santa","category":"people"},{"keywords":["sorceress","woman","female","mage","witch"],"char":"🧙‍♀️","fitzpatrick_scale":true,"name":"sorceress","category":"people"},{"keywords":["wizard","man","male","mage","sorcerer"],"char":"🧙‍♂️","fitzpatrick_scale":true,"name":"wizard","category":"people"},{"keywords":["woman_elf","woman","female"],"char":"🧝‍♀️","fitzpatrick_scale":true,"name":"woman_elf","category":"people"},{"keywords":["man_elf","man","male"],"char":"🧝‍♂️","fitzpatrick_scale":true,"name":"man_elf","category":"people"},{"keywords":["woman_vampire","woman","female"],"char":"🧛‍♀️","fitzpatrick_scale":true,"name":"woman_vampire","category":"people"},{"keywords":["man_vampire","man","male","dracula"],"char":"🧛‍♂️","fitzpatrick_scale":true,"name":"man_vampire","category":"people"},{"keywords":["woman_zombie","woman","female","undead","walking dead"],"char":"🧟‍♀️","fitzpatrick_scale":false,"name":"woman_zombie","category":"people"},{"keywords":["man_zombie","man","male","dracula","undead","walking dead"],"char":"🧟‍♂️","fitzpatrick_scale":false,"name":"man_zombie","category":"people"},{"keywords":["woman_genie","woman","female"],"char":"🧞‍♀️","fitzpatrick_scale":false,"name":"woman_genie","category":"people"},{"keywords":["man_genie","man","male"],"char":"🧞‍♂️","fitzpatrick_scale":false,"name":"man_genie","category":"people"},{"keywords":["mermaid","woman","female","merwoman","ariel"],"char":"🧜‍♀️","fitzpatrick_scale":true,"name":"mermaid","category":"people"},{"keywords":["merman","man","male","triton"],"char":"🧜‍♂️","fitzpatrick_scale":true,"name":"merman","category":"people"},{"keywords":["woman_fairy","woman","female"],"char":"🧚‍♀️","fitzpatrick_scale":true,"name":"woman_fairy","category":"people"},{"keywords":["man_fairy","man","male"],"char":"🧚‍♂️","fitzpatrick_scale":true,"name":"man_fairy","category":"people"},{"keywords":["angel","heaven","wings","halo"],"char":"👼","fitzpatrick_scale":true,"name":"angel","category":"people"},{"keywords":["pregnant_woman","baby"],"char":"🤰","fitzpatrick_scale":true,"name":"pregnant_woman","category":"people"},{"keywords":["breastfeeding","nursing","baby"],"char":"🤱","fitzpatrick_scale":true,"name":"breastfeeding","category":"people"},{"keywords":["princess","girl","woman","female","blond","crown","royal","queen"],"char":"👸","fitzpatrick_scale":true,"name":"princess","category":"people"},{"keywords":["prince","boy","man","male","crown","royal","king"],"char":"🤴","fitzpatrick_scale":true,"name":"prince","category":"people"},{"keywords":["bride_with_veil","couple","marriage","wedding","woman","bride"],"char":"👰","fitzpatrick_scale":true,"name":"bride_with_veil","category":"people"},{"keywords":["man_in_tuxedo","couple","marriage","wedding","groom"],"char":"🤵","fitzpatrick_scale":true,"name":"man_in_tuxedo","category":"people"},{"keywords":["running_woman","woman","walking","exercise","race","running","female"],"char":"🏃‍♀️","fitzpatrick_scale":true,"name":"running_woman","category":"people"},{"keywords":["running_man","man","walking","exercise","race","running"],"char":"🏃","fitzpatrick_scale":true,"name":"running_man","category":"people"},{"keywords":["walking_woman","human","feet","steps","woman","female"],"char":"🚶‍♀️","fitzpatrick_scale":true,"name":"walking_woman","category":"people"},{"keywords":["walking_man","human","feet","steps"],"char":"🚶","fitzpatrick_scale":true,"name":"walking_man","category":"people"},{"keywords":["dancer","female","girl","woman","fun"],"char":"💃","fitzpatrick_scale":true,"name":"dancer","category":"people"},{"keywords":["man_dancing","male","boy","fun","dancer"],"char":"🕺","fitzpatrick_scale":true,"name":"man_dancing","category":"people"},{"keywords":["dancing_women","female","bunny","women","girls"],"char":"👯","fitzpatrick_scale":false,"name":"dancing_women","category":"people"},{"keywords":["dancing_men","male","bunny","men","boys"],"char":"👯‍♂️","fitzpatrick_scale":false,"name":"dancing_men","category":"people"},{"keywords":["couple","pair","people","human","love","date","dating","like","affection","valentines","marriage"],"char":"👫","fitzpatrick_scale":false,"name":"couple","category":"people"},{"keywords":["two_men_holding_hands","pair","couple","love","like","bromance","friendship","people","human"],"char":"👬","fitzpatrick_scale":false,"name":"two_men_holding_hands","category":"people"},{"keywords":["two_women_holding_hands","pair","friendship","couple","love","like","female","people","human"],"char":"👭","fitzpatrick_scale":false,"name":"two_women_holding_hands","category":"people"},{"keywords":["bowing_woman","woman","female","girl"],"char":"🙇‍♀️","fitzpatrick_scale":true,"name":"bowing_woman","category":"people"},{"keywords":["bowing_man","man","male","boy"],"char":"🙇","fitzpatrick_scale":true,"name":"bowing_man","category":"people"},{"keywords":["man_facepalming","man","male","boy","disbelief"],"char":"🤦‍♂️","fitzpatrick_scale":true,"name":"man_facepalming","category":"people"},{"keywords":["woman_facepalming","woman","female","girl","disbelief"],"char":"🤦‍♀️","fitzpatrick_scale":true,"name":"woman_facepalming","category":"people"},{"keywords":["woman_shrugging","woman","female","girl","confused","indifferent","doubt"],"char":"🤷","fitzpatrick_scale":true,"name":"woman_shrugging","category":"people"},{"keywords":["man_shrugging","man","male","boy","confused","indifferent","doubt"],"char":"🤷‍♂️","fitzpatrick_scale":true,"name":"man_shrugging","category":"people"},{"keywords":["tipping_hand_woman","female","girl","woman","human","information"],"char":"💁","fitzpatrick_scale":true,"name":"tipping_hand_woman","category":"people"},{"keywords":["tipping_hand_man","male","boy","man","human","information"],"char":"💁‍♂️","fitzpatrick_scale":true,"name":"tipping_hand_man","category":"people"},{"keywords":["no_good_woman","female","girl","woman","nope"],"char":"🙅","fitzpatrick_scale":true,"name":"no_good_woman","category":"people"},{"keywords":["no_good_man","male","boy","man","nope"],"char":"🙅‍♂️","fitzpatrick_scale":true,"name":"no_good_man","category":"people"},{"keywords":["ok_woman","women","girl","female","pink","human","woman"],"char":"🙆","fitzpatrick_scale":true,"name":"ok_woman","category":"people"},{"keywords":["ok_man","men","boy","male","blue","human","man"],"char":"🙆‍♂️","fitzpatrick_scale":true,"name":"ok_man","category":"people"},{"keywords":["raising_hand_woman","female","girl","woman"],"char":"🙋","fitzpatrick_scale":true,"name":"raising_hand_woman","category":"people"},{"keywords":["raising_hand_man","male","boy","man"],"char":"🙋‍♂️","fitzpatrick_scale":true,"name":"raising_hand_man","category":"people"},{"keywords":["pouting_woman","female","girl","woman"],"char":"🙎","fitzpatrick_scale":true,"name":"pouting_woman","category":"people"},{"keywords":["pouting_man","male","boy","man"],"char":"🙎‍♂️","fitzpatrick_scale":true,"name":"pouting_man","category":"people"},{"keywords":["frowning_woman","female","girl","woman","sad","depressed","discouraged","unhappy"],"char":"🙍","fitzpatrick_scale":true,"name":"frowning_woman","category":"people"},{"keywords":["frowning_man","male","boy","man","sad","depressed","discouraged","unhappy"],"char":"🙍‍♂️","fitzpatrick_scale":true,"name":"frowning_man","category":"people"},{"keywords":["haircut_woman","female","girl","woman"],"char":"💇","fitzpatrick_scale":true,"name":"haircut_woman","category":"people"},{"keywords":["haircut_man","male","boy","man"],"char":"💇‍♂️","fitzpatrick_scale":true,"name":"haircut_man","category":"people"},{"keywords":["massage_woman","female","girl","woman","head"],"char":"💆","fitzpatrick_scale":true,"name":"massage_woman","category":"people"},{"keywords":["massage_man","male","boy","man","head"],"char":"💆‍♂️","fitzpatrick_scale":true,"name":"massage_man","category":"people"},{"keywords":["woman_in_steamy_room","female","woman","spa","steamroom","sauna"],"char":"🧖‍♀️","fitzpatrick_scale":true,"name":"woman_in_steamy_room","category":"people"},{"keywords":["man_in_steamy_room","male","man","spa","steamroom","sauna"],"char":"🧖‍♂️","fitzpatrick_scale":true,"name":"man_in_steamy_room","category":"people"},{"keywords":["couple_with_heart_woman_man","pair","love","like","affection","human","dating","valentines","marriage"],"char":"💑","fitzpatrick_scale":false,"name":"couple_with_heart_woman_man","category":"people"},{"keywords":["couple_with_heart_woman_woman","pair","love","like","affection","human","dating","valentines","marriage"],"char":"👩‍❤️‍👩","fitzpatrick_scale":false,"name":"couple_with_heart_woman_woman","category":"people"},{"keywords":["couple_with_heart_man_man","pair","love","like","affection","human","dating","valentines","marriage"],"char":"👨‍❤️‍👨","fitzpatrick_scale":false,"name":"couple_with_heart_man_man","category":"people"},{"keywords":["couplekiss_man_woman","pair","valentines","love","like","dating","marriage"],"char":"💏","fitzpatrick_scale":false,"name":"couplekiss_man_woman","category":"people"},{"keywords":["couplekiss_woman_woman","pair","valentines","love","like","dating","marriage"],"char":"👩‍❤️‍💋‍👩","fitzpatrick_scale":false,"name":"couplekiss_woman_woman","category":"people"},{"keywords":["couplekiss_man_man","pair","valentines","love","like","dating","marriage"],"char":"👨‍❤️‍💋‍👨","fitzpatrick_scale":false,"name":"couplekiss_man_man","category":"people"},{"keywords":["family_man_woman_boy","home","parents","child","mom","dad","father","mother","people","human"],"char":"👪","fitzpatrick_scale":false,"name":"family_man_woman_boy","category":"people"},{"keywords":["family_man_woman_girl","home","parents","people","human","child"],"char":"👨‍👩‍👧","fitzpatrick_scale":false,"name":"family_man_woman_girl","category":"people"},{"keywords":["family_man_woman_girl_boy","home","parents","people","human","children"],"char":"👨‍👩‍👧‍👦","fitzpatrick_scale":false,"name":"family_man_woman_girl_boy","category":"people"},{"keywords":["family_man_woman_boy_boy","home","parents","people","human","children"],"char":"👨‍👩‍👦‍👦","fitzpatrick_scale":false,"name":"family_man_woman_boy_boy","category":"people"},{"keywords":["family_man_woman_girl_girl","home","parents","people","human","children"],"char":"👨‍👩‍👧‍👧","fitzpatrick_scale":false,"name":"family_man_woman_girl_girl","category":"people"},{"keywords":["family_woman_woman_boy","home","parents","people","human","children"],"char":"👩‍👩‍👦","fitzpatrick_scale":false,"name":"family_woman_woman_boy","category":"people"},{"keywords":["family_woman_woman_girl","home","parents","people","human","children"],"char":"👩‍👩‍👧","fitzpatrick_scale":false,"name":"family_woman_woman_girl","category":"people"},{"keywords":["family_woman_woman_girl_boy","home","parents","people","human","children"],"char":"👩‍👩‍👧‍👦","fitzpatrick_scale":false,"name":"family_woman_woman_girl_boy","category":"people"},{"keywords":["family_woman_woman_boy_boy","home","parents","people","human","children"],"char":"👩‍👩‍👦‍👦","fitzpatrick_scale":false,"name":"family_woman_woman_boy_boy","category":"people"},{"keywords":["family_woman_woman_girl_girl","home","parents","people","human","children"],"char":"👩‍👩‍👧‍👧","fitzpatrick_scale":false,"name":"family_woman_woman_girl_girl","category":"people"},{"keywords":["family_man_man_boy","home","parents","people","human","children"],"char":"👨‍👨‍👦","fitzpatrick_scale":false,"name":"family_man_man_boy","category":"people"},{"keywords":["family_man_man_girl","home","parents","people","human","children"],"char":"👨‍👨‍👧","fitzpatrick_scale":false,"name":"family_man_man_girl","category":"people"},{"keywords":["family_man_man_girl_boy","home","parents","people","human","children"],"char":"👨‍👨‍👧‍👦","fitzpatrick_scale":false,"name":"family_man_man_girl_boy","category":"people"},{"keywords":["family_man_man_boy_boy","home","parents","people","human","children"],"char":"👨‍👨‍👦‍👦","fitzpatrick_scale":false,"name":"family_man_man_boy_boy","category":"people"},{"keywords":["family_man_man_girl_girl","home","parents","people","human","children"],"char":"👨‍👨‍👧‍👧","fitzpatrick_scale":false,"name":"family_man_man_girl_girl","category":"people"},{"keywords":["family_woman_boy","home","parent","people","human","child"],"char":"👩‍👦","fitzpatrick_scale":false,"name":"family_woman_boy","category":"people"},{"keywords":["family_woman_girl","home","parent","people","human","child"],"char":"👩‍👧","fitzpatrick_scale":false,"name":"family_woman_girl","category":"people"},{"keywords":["family_woman_girl_boy","home","parent","people","human","children"],"char":"👩‍👧‍👦","fitzpatrick_scale":false,"name":"family_woman_girl_boy","category":"people"},{"keywords":["family_woman_boy_boy","home","parent","people","human","children"],"char":"👩‍👦‍👦","fitzpatrick_scale":false,"name":"family_woman_boy_boy","category":"people"},{"keywords":["family_woman_girl_girl","home","parent","people","human","children"],"char":"👩‍👧‍👧","fitzpatrick_scale":false,"name":"family_woman_girl_girl","category":"people"},{"keywords":["family_man_boy","home","parent","people","human","child"],"char":"👨‍👦","fitzpatrick_scale":false,"name":"family_man_boy","category":"people"},{"keywords":["family_man_girl","home","parent","people","human","child"],"char":"👨‍👧","fitzpatrick_scale":false,"name":"family_man_girl","category":"people"},{"keywords":["family_man_girl_boy","home","parent","people","human","children"],"char":"👨‍👧‍👦","fitzpatrick_scale":false,"name":"family_man_girl_boy","category":"people"},{"keywords":["family_man_boy_boy","home","parent","people","human","children"],"char":"👨‍👦‍👦","fitzpatrick_scale":false,"name":"family_man_boy_boy","category":"people"},{"keywords":["family_man_girl_girl","home","parent","people","human","children"],"char":"👨‍👧‍👧","fitzpatrick_scale":false,"name":"family_man_girl_girl","category":"people"},{"keywords":["yarn","ball","crochet","knit"],"char":"🧶","fitzpatrick_scale":false,"name":"yarn","category":"people"},{"keywords":["thread","needle","sewing","spool","string"],"char":"🧵","fitzpatrick_scale":false,"name":"thread","category":"people"},{"keywords":["coat","jacket"],"char":"🧥","fitzpatrick_scale":false,"name":"coat","category":"people"},{"keywords":["labcoat","doctor","experiment","scientist","chemist"],"char":"🥼","fitzpatrick_scale":false,"name":"labcoat","category":"people"},{"keywords":["womans_clothes","fashion","shopping_bags","female"],"char":"👚","fitzpatrick_scale":false,"name":"womans_clothes","category":"people"},{"keywords":["tshirt","fashion","cloth","casual","shirt","tee"],"char":"👕","fitzpatrick_scale":false,"name":"tshirt","category":"people"},{"keywords":["jeans","fashion","shopping"],"char":"👖","fitzpatrick_scale":false,"name":"jeans","category":"people"},{"keywords":["necktie","shirt","suitup","formal","fashion","cloth","business"],"char":"👔","fitzpatrick_scale":false,"name":"necktie","category":"people"},{"keywords":["dress","clothes","fashion","shopping"],"char":"👗","fitzpatrick_scale":false,"name":"dress","category":"people"},{"keywords":["bikini","swimming","female","woman","girl","fashion","beach","summer"],"char":"👙","fitzpatrick_scale":false,"name":"bikini","category":"people"},{"keywords":["kimono","dress","fashion","women","female","japanese"],"char":"👘","fitzpatrick_scale":false,"name":"kimono","category":"people"},{"keywords":["lipstick","female","girl","fashion","woman"],"char":"💄","fitzpatrick_scale":false,"name":"lipstick","category":"people"},{"keywords":["kiss","face","lips","love","like","affection","valentines"],"char":"💋","fitzpatrick_scale":false,"name":"kiss","category":"people"},{"keywords":["footprints","feet","tracking","walking","beach"],"char":"👣","fitzpatrick_scale":false,"name":"footprints","category":"people"},{"keywords":["flat_shoe","ballet","slip-on","slipper"],"char":"🥿","fitzpatrick_scale":false,"name":"flat_shoe","category":"people"},{"keywords":["high_heel","fashion","shoes","female","pumps","stiletto"],"char":"👠","fitzpatrick_scale":false,"name":"high_heel","category":"people"},{"keywords":["sandal","shoes","fashion","flip flops"],"char":"👡","fitzpatrick_scale":false,"name":"sandal","category":"people"},{"keywords":["boot","shoes","fashion"],"char":"👢","fitzpatrick_scale":false,"name":"boot","category":"people"},{"keywords":["mans_shoe","fashion","male"],"char":"👞","fitzpatrick_scale":false,"name":"mans_shoe","category":"people"},{"keywords":["athletic_shoe","shoes","sports","sneakers"],"char":"👟","fitzpatrick_scale":false,"name":"athletic_shoe","category":"people"},{"keywords":["hiking_boot","backpacking","camping","hiking"],"char":"🥾","fitzpatrick_scale":false,"name":"hiking_boot","category":"people"},{"keywords":["socks","stockings","clothes"],"char":"🧦","fitzpatrick_scale":false,"name":"socks","category":"people"},{"keywords":["gloves","hands","winter","clothes"],"char":"🧤","fitzpatrick_scale":false,"name":"gloves","category":"people"},{"keywords":["scarf","neck","winter","clothes"],"char":"🧣","fitzpatrick_scale":false,"name":"scarf","category":"people"},{"keywords":["womans_hat","fashion","accessories","female","lady","spring"],"char":"👒","fitzpatrick_scale":false,"name":"womans_hat","category":"people"},{"keywords":["tophat","magic","gentleman","classy","circus"],"char":"🎩","fitzpatrick_scale":false,"name":"tophat","category":"people"},{"keywords":["billed_hat","cap","baseball"],"char":"🧢","fitzpatrick_scale":false,"name":"billed_hat","category":"people"},{"keywords":["rescue_worker_helmet","construction","build"],"char":"⛑","fitzpatrick_scale":false,"name":"rescue_worker_helmet","category":"people"},{"keywords":["mortar_board","school","college","degree","university","graduation","cap","hat","legal","learn","education"],"char":"🎓","fitzpatrick_scale":false,"name":"mortar_board","category":"people"},{"keywords":["crown","king","kod","leader","royalty","lord"],"char":"👑","fitzpatrick_scale":false,"name":"crown","category":"people"},{"keywords":["school_satchel","student","education","bag","backpack"],"char":"🎒","fitzpatrick_scale":false,"name":"school_satchel","category":"people"},{"keywords":["luggage","packing","travel"],"char":"🧳","fitzpatrick_scale":false,"name":"luggage","category":"people"},{"keywords":["pouch","bag","accessories","shopping"],"char":"👝","fitzpatrick_scale":false,"name":"pouch","category":"people"},{"keywords":["purse","fashion","accessories","money","sales","shopping"],"char":"👛","fitzpatrick_scale":false,"name":"purse","category":"people"},{"keywords":["handbag","fashion","accessory","accessories","shopping"],"char":"👜","fitzpatrick_scale":false,"name":"handbag","category":"people"},{"keywords":["briefcase","business","documents","work","law","legal","job","career"],"char":"💼","fitzpatrick_scale":false,"name":"briefcase","category":"people"},{"keywords":["eyeglasses","fashion","accessories","eyesight","nerdy","dork","geek"],"char":"👓","fitzpatrick_scale":false,"name":"eyeglasses","category":"people"},{"keywords":["dark_sunglasses","face","cool","accessories"],"char":"🕶","fitzpatrick_scale":false,"name":"dark_sunglasses","category":"people"},{"keywords":["goggles","eyes","protection","safety"],"char":"🥽","fitzpatrick_scale":false,"name":"goggles","category":"people"},{"keywords":["ring","wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],"char":"💍","fitzpatrick_scale":false,"name":"ring","category":"people"},{"keywords":["closed_umbrella","weather","rain","drizzle"],"char":"🌂","fitzpatrick_scale":false,"name":"closed_umbrella","category":"people"},{"keywords":["dog","animal","friend","nature","woof","puppy","pet","faithful"],"char":"🐶","fitzpatrick_scale":false,"name":"dog","category":"animals_and_nature"},{"keywords":["cat","animal","meow","nature","pet","kitten"],"char":"🐱","fitzpatrick_scale":false,"name":"cat","category":"animals_and_nature"},{"keywords":["mouse","animal","nature","cheese_wedge","rodent"],"char":"🐭","fitzpatrick_scale":false,"name":"mouse","category":"animals_and_nature"},{"keywords":["hamster","animal","nature"],"char":"🐹","fitzpatrick_scale":false,"name":"hamster","category":"animals_and_nature"},{"keywords":["rabbit","animal","nature","pet","spring","magic","bunny"],"char":"🐰","fitzpatrick_scale":false,"name":"rabbit","category":"animals_and_nature"},{"keywords":["fox_face","animal","nature","face"],"char":"🦊","fitzpatrick_scale":false,"name":"fox_face","category":"animals_and_nature"},{"keywords":["bear","animal","nature","wild"],"char":"🐻","fitzpatrick_scale":false,"name":"bear","category":"animals_and_nature"},{"keywords":["panda_face","animal","nature","panda"],"char":"🐼","fitzpatrick_scale":false,"name":"panda_face","category":"animals_and_nature"},{"keywords":["koala","animal","nature"],"char":"🐨","fitzpatrick_scale":false,"name":"koala","category":"animals_and_nature"},{"keywords":["tiger","animal","cat","danger","wild","nature","roar"],"char":"🐯","fitzpatrick_scale":false,"name":"tiger","category":"animals_and_nature"},{"keywords":["lion","animal","nature"],"char":"🦁","fitzpatrick_scale":false,"name":"lion","category":"animals_and_nature"},{"keywords":["cow","beef","ox","animal","nature","moo","milk"],"char":"🐮","fitzpatrick_scale":false,"name":"cow","category":"animals_and_nature"},{"keywords":["pig","animal","oink","nature"],"char":"🐷","fitzpatrick_scale":false,"name":"pig","category":"animals_and_nature"},{"keywords":["pig_nose","animal","oink"],"char":"🐽","fitzpatrick_scale":false,"name":"pig_nose","category":"animals_and_nature"},{"keywords":["frog","animal","nature","croak","toad"],"char":"🐸","fitzpatrick_scale":false,"name":"frog","category":"animals_and_nature"},{"keywords":["squid","animal","nature","ocean","sea"],"char":"🦑","fitzpatrick_scale":false,"name":"squid","category":"animals_and_nature"},{"keywords":["octopus","animal","creature","ocean","sea","nature","beach"],"char":"🐙","fitzpatrick_scale":false,"name":"octopus","category":"animals_and_nature"},{"keywords":["shrimp","animal","ocean","nature","seafood"],"char":"🦐","fitzpatrick_scale":false,"name":"shrimp","category":"animals_and_nature"},{"keywords":["monkey_face","animal","nature","circus"],"char":"🐵","fitzpatrick_scale":false,"name":"monkey_face","category":"animals_and_nature"},{"keywords":["gorilla","animal","nature","circus"],"char":"🦍","fitzpatrick_scale":false,"name":"gorilla","category":"animals_and_nature"},{"keywords":["see_no_evil","monkey","animal","nature","haha"],"char":"🙈","fitzpatrick_scale":false,"name":"see_no_evil","category":"animals_and_nature"},{"keywords":["hear_no_evil","animal","monkey","nature"],"char":"🙉","fitzpatrick_scale":false,"name":"hear_no_evil","category":"animals_and_nature"},{"keywords":["speak_no_evil","monkey","animal","nature","omg"],"char":"🙊","fitzpatrick_scale":false,"name":"speak_no_evil","category":"animals_and_nature"},{"keywords":["monkey","animal","nature","banana","circus"],"char":"🐒","fitzpatrick_scale":false,"name":"monkey","category":"animals_and_nature"},{"keywords":["chicken","animal","cluck","nature","bird"],"char":"🐔","fitzpatrick_scale":false,"name":"chicken","category":"animals_and_nature"},{"keywords":["penguin","animal","nature"],"char":"🐧","fitzpatrick_scale":false,"name":"penguin","category":"animals_and_nature"},{"keywords":["bird","animal","nature","fly","tweet","spring"],"char":"🐦","fitzpatrick_scale":false,"name":"bird","category":"animals_and_nature"},{"keywords":["baby_chick","animal","chicken","bird"],"char":"🐤","fitzpatrick_scale":false,"name":"baby_chick","category":"animals_and_nature"},{"keywords":["hatching_chick","animal","chicken","egg","born","baby","bird"],"char":"🐣","fitzpatrick_scale":false,"name":"hatching_chick","category":"animals_and_nature"},{"keywords":["hatched_chick","animal","chicken","baby","bird"],"char":"🐥","fitzpatrick_scale":false,"name":"hatched_chick","category":"animals_and_nature"},{"keywords":["duck","animal","nature","bird","mallard"],"char":"🦆","fitzpatrick_scale":false,"name":"duck","category":"animals_and_nature"},{"keywords":["eagle","animal","nature","bird"],"char":"🦅","fitzpatrick_scale":false,"name":"eagle","category":"animals_and_nature"},{"keywords":["owl","animal","nature","bird","hoot"],"char":"🦉","fitzpatrick_scale":false,"name":"owl","category":"animals_and_nature"},{"keywords":["bat","animal","nature","blind","vampire"],"char":"🦇","fitzpatrick_scale":false,"name":"bat","category":"animals_and_nature"},{"keywords":["wolf","animal","nature","wild"],"char":"🐺","fitzpatrick_scale":false,"name":"wolf","category":"animals_and_nature"},{"keywords":["boar","animal","nature"],"char":"🐗","fitzpatrick_scale":false,"name":"boar","category":"animals_and_nature"},{"keywords":["horse","animal","brown","nature"],"char":"🐴","fitzpatrick_scale":false,"name":"horse","category":"animals_and_nature"},{"keywords":["unicorn","animal","nature","mystical"],"char":"🦄","fitzpatrick_scale":false,"name":"unicorn","category":"animals_and_nature"},{"keywords":["honeybee","animal","insect","nature","bug","spring","honey"],"char":"🐝","fitzpatrick_scale":false,"name":"honeybee","category":"animals_and_nature"},{"keywords":["bug","animal","insect","nature","worm"],"char":"🐛","fitzpatrick_scale":false,"name":"bug","category":"animals_and_nature"},{"keywords":["butterfly","animal","insect","nature","caterpillar"],"char":"🦋","fitzpatrick_scale":false,"name":"butterfly","category":"animals_and_nature"},{"keywords":["snail","slow","animal","shell"],"char":"🐌","fitzpatrick_scale":false,"name":"snail","category":"animals_and_nature"},{"keywords":["beetle","animal","insect","nature","ladybug"],"char":"🐞","fitzpatrick_scale":false,"name":"beetle","category":"animals_and_nature"},{"keywords":["ant","animal","insect","nature","bug"],"char":"🐜","fitzpatrick_scale":false,"name":"ant","category":"animals_and_nature"},{"keywords":["grasshopper","animal","cricket","chirp"],"char":"🦗","fitzpatrick_scale":false,"name":"grasshopper","category":"animals_and_nature"},{"keywords":["spider","animal","arachnid"],"char":"🕷","fitzpatrick_scale":false,"name":"spider","category":"animals_and_nature"},{"keywords":["scorpion","animal","arachnid"],"char":"🦂","fitzpatrick_scale":false,"name":"scorpion","category":"animals_and_nature"},{"keywords":["crab","animal","crustacean"],"char":"🦀","fitzpatrick_scale":false,"name":"crab","category":"animals_and_nature"},{"keywords":["snake","animal","evil","nature","hiss","python"],"char":"🐍","fitzpatrick_scale":false,"name":"snake","category":"animals_and_nature"},{"keywords":["lizard","animal","nature","reptile"],"char":"🦎","fitzpatrick_scale":false,"name":"lizard","category":"animals_and_nature"},{"keywords":["t-rex","animal","nature","dinosaur","tyrannosaurus","extinct"],"char":"🦖","fitzpatrick_scale":false,"name":"t-rex","category":"animals_and_nature"},{"keywords":["sauropod","animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],"char":"🦕","fitzpatrick_scale":false,"name":"sauropod","category":"animals_and_nature"},{"keywords":["turtle","animal","slow","nature","tortoise"],"char":"🐢","fitzpatrick_scale":false,"name":"turtle","category":"animals_and_nature"},{"keywords":["tropical_fish","animal","swim","ocean","beach","nemo"],"char":"🐠","fitzpatrick_scale":false,"name":"tropical_fish","category":"animals_and_nature"},{"keywords":["fish","animal","food","nature"],"char":"🐟","fitzpatrick_scale":false,"name":"fish","category":"animals_and_nature"},{"keywords":["blowfish","animal","nature","food","sea","ocean"],"char":"🐡","fitzpatrick_scale":false,"name":"blowfish","category":"animals_and_nature"},{"keywords":["dolphin","animal","nature","fish","sea","ocean","flipper","fins","beach"],"char":"🐬","fitzpatrick_scale":false,"name":"dolphin","category":"animals_and_nature"},{"keywords":["shark","animal","nature","fish","sea","ocean","jaws","fins","beach"],"char":"🦈","fitzpatrick_scale":false,"name":"shark","category":"animals_and_nature"},{"keywords":["whale","animal","nature","sea","ocean"],"char":"🐳","fitzpatrick_scale":false,"name":"whale","category":"animals_and_nature"},{"keywords":["whale2","animal","nature","sea","ocean"],"char":"🐋","fitzpatrick_scale":false,"name":"whale2","category":"animals_and_nature"},{"keywords":["crocodile","animal","nature","reptile","lizard","alligator"],"char":"🐊","fitzpatrick_scale":false,"name":"crocodile","category":"animals_and_nature"},{"keywords":["leopard","animal","nature"],"char":"🐆","fitzpatrick_scale":false,"name":"leopard","category":"animals_and_nature"},{"keywords":["zebra","animal","nature","stripes","safari"],"char":"🦓","fitzpatrick_scale":false,"name":"zebra","category":"animals_and_nature"},{"keywords":["tiger2","animal","nature","roar"],"char":"🐅","fitzpatrick_scale":false,"name":"tiger2","category":"animals_and_nature"},{"keywords":["water_buffalo","animal","nature","ox","cow"],"char":"🐃","fitzpatrick_scale":false,"name":"water_buffalo","category":"animals_and_nature"},{"keywords":["ox","animal","cow","beef"],"char":"🐂","fitzpatrick_scale":false,"name":"ox","category":"animals_and_nature"},{"keywords":["cow2","beef","ox","animal","nature","moo","milk"],"char":"🐄","fitzpatrick_scale":false,"name":"cow2","category":"animals_and_nature"},{"keywords":["deer","animal","nature","horns","venison"],"char":"🦌","fitzpatrick_scale":false,"name":"deer","category":"animals_and_nature"},{"keywords":["dromedary_camel","animal","hot","desert","hump"],"char":"🐪","fitzpatrick_scale":false,"name":"dromedary_camel","category":"animals_and_nature"},{"keywords":["camel","animal","nature","hot","desert","hump"],"char":"🐫","fitzpatrick_scale":false,"name":"camel","category":"animals_and_nature"},{"keywords":["giraffe","animal","nature","spots","safari"],"char":"🦒","fitzpatrick_scale":false,"name":"giraffe","category":"animals_and_nature"},{"keywords":["elephant","animal","nature","nose","th","circus"],"char":"🐘","fitzpatrick_scale":false,"name":"elephant","category":"animals_and_nature"},{"keywords":["rhinoceros","animal","nature","horn"],"char":"🦏","fitzpatrick_scale":false,"name":"rhinoceros","category":"animals_and_nature"},{"keywords":["goat","animal","nature"],"char":"🐐","fitzpatrick_scale":false,"name":"goat","category":"animals_and_nature"},{"keywords":["ram","animal","sheep","nature"],"char":"🐏","fitzpatrick_scale":false,"name":"ram","category":"animals_and_nature"},{"keywords":["sheep","animal","nature","wool","shipit"],"char":"🐑","fitzpatrick_scale":false,"name":"sheep","category":"animals_and_nature"},{"keywords":["racehorse","animal","gamble","luck"],"char":"🐎","fitzpatrick_scale":false,"name":"racehorse","category":"animals_and_nature"},{"keywords":["pig2","animal","nature"],"char":"🐖","fitzpatrick_scale":false,"name":"pig2","category":"animals_and_nature"},{"keywords":["rat","animal","mouse","rodent"],"char":"🐀","fitzpatrick_scale":false,"name":"rat","category":"animals_and_nature"},{"keywords":["mouse2","animal","nature","rodent"],"char":"🐁","fitzpatrick_scale":false,"name":"mouse2","category":"animals_and_nature"},{"keywords":["rooster","animal","nature","chicken"],"char":"🐓","fitzpatrick_scale":false,"name":"rooster","category":"animals_and_nature"},{"keywords":["turkey","animal","bird"],"char":"🦃","fitzpatrick_scale":false,"name":"turkey","category":"animals_and_nature"},{"keywords":["dove","animal","bird"],"char":"🕊","fitzpatrick_scale":false,"name":"dove","category":"animals_and_nature"},{"keywords":["dog2","animal","nature","friend","doge","pet","faithful"],"char":"🐕","fitzpatrick_scale":false,"name":"dog2","category":"animals_and_nature"},{"keywords":["poodle","dog","animal","101","nature","pet"],"char":"🐩","fitzpatrick_scale":false,"name":"poodle","category":"animals_and_nature"},{"keywords":["cat2","animal","meow","pet","cats"],"char":"🐈","fitzpatrick_scale":false,"name":"cat2","category":"animals_and_nature"},{"keywords":["rabbit2","animal","nature","pet","magic","spring"],"char":"🐇","fitzpatrick_scale":false,"name":"rabbit2","category":"animals_and_nature"},{"keywords":["chipmunk","animal","nature","rodent","squirrel"],"char":"🐿","fitzpatrick_scale":false,"name":"chipmunk","category":"animals_and_nature"},{"keywords":["hedgehog","animal","nature","spiny"],"char":"🦔","fitzpatrick_scale":false,"name":"hedgehog","category":"animals_and_nature"},{"keywords":["raccoon","animal","nature"],"char":"🦝","fitzpatrick_scale":false,"name":"raccoon","category":"animals_and_nature"},{"keywords":["llama","animal","nature","alpaca"],"char":"🦙","fitzpatrick_scale":false,"name":"llama","category":"animals_and_nature"},{"keywords":["hippopotamus","animal","nature"],"char":"🦛","fitzpatrick_scale":false,"name":"hippopotamus","category":"animals_and_nature"},{"keywords":["kangaroo","animal","nature","australia","joey","hop","marsupial"],"char":"🦘","fitzpatrick_scale":false,"name":"kangaroo","category":"animals_and_nature"},{"keywords":["badger","animal","nature","honey"],"char":"🦡","fitzpatrick_scale":false,"name":"badger","category":"animals_and_nature"},{"keywords":["swan","animal","nature","bird"],"char":"🦢","fitzpatrick_scale":false,"name":"swan","category":"animals_and_nature"},{"keywords":["peacock","animal","nature","peahen","bird"],"char":"🦚","fitzpatrick_scale":false,"name":"peacock","category":"animals_and_nature"},{"keywords":["parrot","animal","nature","bird","pirate","talk"],"char":"🦜","fitzpatrick_scale":false,"name":"parrot","category":"animals_and_nature"},{"keywords":["lobster","animal","nature","bisque","claws","seafood"],"char":"🦞","fitzpatrick_scale":false,"name":"lobster","category":"animals_and_nature"},{"keywords":["mosquito","animal","nature","insect","malaria"],"char":"🦟","fitzpatrick_scale":false,"name":"mosquito","category":"animals_and_nature"},{"keywords":["paw_prints","animal","tracking","footprints","dog","cat","pet","feet"],"char":"🐾","fitzpatrick_scale":false,"name":"paw_prints","category":"animals_and_nature"},{"keywords":["dragon","animal","myth","nature","chinese","green"],"char":"🐉","fitzpatrick_scale":false,"name":"dragon","category":"animals_and_nature"},{"keywords":["dragon_face","animal","myth","nature","chinese","green"],"char":"🐲","fitzpatrick_scale":false,"name":"dragon_face","category":"animals_and_nature"},{"keywords":["cactus","vegetable","plant","nature"],"char":"🌵","fitzpatrick_scale":false,"name":"cactus","category":"animals_and_nature"},{"keywords":["christmas_tree","festival","vacation","december","xmas","celebration"],"char":"🎄","fitzpatrick_scale":false,"name":"christmas_tree","category":"animals_and_nature"},{"keywords":["evergreen_tree","plant","nature"],"char":"🌲","fitzpatrick_scale":false,"name":"evergreen_tree","category":"animals_and_nature"},{"keywords":["deciduous_tree","plant","nature"],"char":"🌳","fitzpatrick_scale":false,"name":"deciduous_tree","category":"animals_and_nature"},{"keywords":["palm_tree","plant","vegetable","nature","summer","beach","mojito","tropical"],"char":"🌴","fitzpatrick_scale":false,"name":"palm_tree","category":"animals_and_nature"},{"keywords":["seedling","plant","nature","grass","lawn","spring"],"char":"🌱","fitzpatrick_scale":false,"name":"seedling","category":"animals_and_nature"},{"keywords":["herb","vegetable","plant","medicine","weed","grass","lawn"],"char":"🌿","fitzpatrick_scale":false,"name":"herb","category":"animals_and_nature"},{"keywords":["shamrock","vegetable","plant","nature","irish","clover"],"char":"☘","fitzpatrick_scale":false,"name":"shamrock","category":"animals_and_nature"},{"keywords":["four_leaf_clover","vegetable","plant","nature","lucky","irish"],"char":"🍀","fitzpatrick_scale":false,"name":"four_leaf_clover","category":"animals_and_nature"},{"keywords":["bamboo","plant","nature","vegetable","panda","pine_decoration"],"char":"🎍","fitzpatrick_scale":false,"name":"bamboo","category":"animals_and_nature"},{"keywords":["tanabata_tree","plant","nature","branch","summer"],"char":"🎋","fitzpatrick_scale":false,"name":"tanabata_tree","category":"animals_and_nature"},{"keywords":["leaves","nature","plant","tree","vegetable","grass","lawn","spring"],"char":"🍃","fitzpatrick_scale":false,"name":"leaves","category":"animals_and_nature"},{"keywords":["fallen_leaf","nature","plant","vegetable","leaves"],"char":"🍂","fitzpatrick_scale":false,"name":"fallen_leaf","category":"animals_and_nature"},{"keywords":["maple_leaf","nature","plant","vegetable","ca","fall"],"char":"🍁","fitzpatrick_scale":false,"name":"maple_leaf","category":"animals_and_nature"},{"keywords":["ear_of_rice","nature","plant"],"char":"🌾","fitzpatrick_scale":false,"name":"ear_of_rice","category":"animals_and_nature"},{"keywords":["hibiscus","plant","vegetable","flowers","beach"],"char":"🌺","fitzpatrick_scale":false,"name":"hibiscus","category":"animals_and_nature"},{"keywords":["sunflower","nature","plant","fall"],"char":"🌻","fitzpatrick_scale":false,"name":"sunflower","category":"animals_and_nature"},{"keywords":["rose","flowers","valentines","love","spring"],"char":"🌹","fitzpatrick_scale":false,"name":"rose","category":"animals_and_nature"},{"keywords":["wilted_flower","plant","nature","flower"],"char":"🥀","fitzpatrick_scale":false,"name":"wilted_flower","category":"animals_and_nature"},{"keywords":["tulip","flowers","plant","nature","summer","spring"],"char":"🌷","fitzpatrick_scale":false,"name":"tulip","category":"animals_and_nature"},{"keywords":["blossom","nature","flowers","yellow"],"char":"🌼","fitzpatrick_scale":false,"name":"blossom","category":"animals_and_nature"},{"keywords":["cherry_blossom","nature","plant","spring","flower"],"char":"🌸","fitzpatrick_scale":false,"name":"cherry_blossom","category":"animals_and_nature"},{"keywords":["bouquet","flowers","nature","spring"],"char":"💐","fitzpatrick_scale":false,"name":"bouquet","category":"animals_and_nature"},{"keywords":["mushroom","plant","vegetable"],"char":"🍄","fitzpatrick_scale":false,"name":"mushroom","category":"animals_and_nature"},{"keywords":["chestnut","food","squirrel"],"char":"🌰","fitzpatrick_scale":false,"name":"chestnut","category":"animals_and_nature"},{"keywords":["jack_o_lantern","halloween","light","pumpkin","creepy","fall"],"char":"🎃","fitzpatrick_scale":false,"name":"jack_o_lantern","category":"animals_and_nature"},{"keywords":["shell","nature","sea","beach"],"char":"🐚","fitzpatrick_scale":false,"name":"shell","category":"animals_and_nature"},{"keywords":["spider_web","animal","insect","arachnid","silk"],"char":"🕸","fitzpatrick_scale":false,"name":"spider_web","category":"animals_and_nature"},{"keywords":["earth_americas","globe","world","USA","international"],"char":"🌎","fitzpatrick_scale":false,"name":"earth_americas","category":"animals_and_nature"},{"keywords":["earth_africa","globe","world","international"],"char":"🌍","fitzpatrick_scale":false,"name":"earth_africa","category":"animals_and_nature"},{"keywords":["earth_asia","globe","world","east","international"],"char":"🌏","fitzpatrick_scale":false,"name":"earth_asia","category":"animals_and_nature"},{"keywords":["full_moon","nature","yellow","twilight","planet","space","night","evening","sleep"],"char":"🌕","fitzpatrick_scale":false,"name":"full_moon","category":"animals_and_nature"},{"keywords":["waning_gibbous_moon","nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],"char":"🌖","fitzpatrick_scale":false,"name":"waning_gibbous_moon","category":"animals_and_nature"},{"keywords":["last_quarter_moon","nature","twilight","planet","space","night","evening","sleep"],"char":"🌗","fitzpatrick_scale":false,"name":"last_quarter_moon","category":"animals_and_nature"},{"keywords":["waning_crescent_moon","nature","twilight","planet","space","night","evening","sleep"],"char":"🌘","fitzpatrick_scale":false,"name":"waning_crescent_moon","category":"animals_and_nature"},{"keywords":["new_moon","nature","twilight","planet","space","night","evening","sleep"],"char":"🌑","fitzpatrick_scale":false,"name":"new_moon","category":"animals_and_nature"},{"keywords":["waxing_crescent_moon","nature","twilight","planet","space","night","evening","sleep"],"char":"🌒","fitzpatrick_scale":false,"name":"waxing_crescent_moon","category":"animals_and_nature"},{"keywords":["first_quarter_moon","nature","twilight","planet","space","night","evening","sleep"],"char":"🌓","fitzpatrick_scale":false,"name":"first_quarter_moon","category":"animals_and_nature"},{"keywords":["waxing_gibbous_moon","nature","night","sky","gray","twilight","planet","space","evening","sleep"],"char":"🌔","fitzpatrick_scale":false,"name":"waxing_gibbous_moon","category":"animals_and_nature"},{"keywords":["new_moon_with_face","nature","twilight","planet","space","night","evening","sleep"],"char":"🌚","fitzpatrick_scale":false,"name":"new_moon_with_face","category":"animals_and_nature"},{"keywords":["full_moon_with_face","nature","twilight","planet","space","night","evening","sleep"],"char":"🌝","fitzpatrick_scale":false,"name":"full_moon_with_face","category":"animals_and_nature"},{"keywords":["first_quarter_moon_with_face","nature","twilight","planet","space","night","evening","sleep"],"char":"🌛","fitzpatrick_scale":false,"name":"first_quarter_moon_with_face","category":"animals_and_nature"},{"keywords":["last_quarter_moon_with_face","nature","twilight","planet","space","night","evening","sleep"],"char":"🌜","fitzpatrick_scale":false,"name":"last_quarter_moon_with_face","category":"animals_and_nature"},{"keywords":["sun_with_face","nature","morning","sky"],"char":"🌞","fitzpatrick_scale":false,"name":"sun_with_face","category":"animals_and_nature"},{"keywords":["crescent_moon","night","sleep","sky","evening","magic"],"char":"🌙","fitzpatrick_scale":false,"name":"crescent_moon","category":"animals_and_nature"},{"keywords":["star","night","yellow"],"char":"⭐","fitzpatrick_scale":false,"name":"star","category":"animals_and_nature"},{"keywords":["star2","night","sparkle","awesome","good","magic"],"char":"🌟","fitzpatrick_scale":false,"name":"star2","category":"animals_and_nature"},{"keywords":["dizzy","star","sparkle","shoot","magic"],"char":"💫","fitzpatrick_scale":false,"name":"dizzy","category":"animals_and_nature"},{"keywords":["sparkles","stars","shine","shiny","cool","awesome","good","magic"],"char":"✨","fitzpatrick_scale":false,"name":"sparkles","category":"animals_and_nature"},{"keywords":["comet","space"],"char":"☄","fitzpatrick_scale":false,"name":"comet","category":"animals_and_nature"},{"keywords":["sunny","weather","nature","brightness","summer","beach","spring"],"char":"☀️","fitzpatrick_scale":false,"name":"sunny","category":"animals_and_nature"},{"keywords":["sun_behind_small_cloud","weather"],"char":"🌤","fitzpatrick_scale":false,"name":"sun_behind_small_cloud","category":"animals_and_nature"},{"keywords":["partly_sunny","weather","nature","cloudy","morning","fall","spring"],"char":"⛅","fitzpatrick_scale":false,"name":"partly_sunny","category":"animals_and_nature"},{"keywords":["sun_behind_large_cloud","weather"],"char":"🌥","fitzpatrick_scale":false,"name":"sun_behind_large_cloud","category":"animals_and_nature"},{"keywords":["sun_behind_rain_cloud","weather"],"char":"🌦","fitzpatrick_scale":false,"name":"sun_behind_rain_cloud","category":"animals_and_nature"},{"keywords":["cloud","weather","sky"],"char":"☁️","fitzpatrick_scale":false,"name":"cloud","category":"animals_and_nature"},{"keywords":["cloud_with_rain","weather"],"char":"🌧","fitzpatrick_scale":false,"name":"cloud_with_rain","category":"animals_and_nature"},{"keywords":["cloud_with_lightning_and_rain","weather","lightning"],"char":"⛈","fitzpatrick_scale":false,"name":"cloud_with_lightning_and_rain","category":"animals_and_nature"},{"keywords":["cloud_with_lightning","weather","thunder"],"char":"🌩","fitzpatrick_scale":false,"name":"cloud_with_lightning","category":"animals_and_nature"},{"keywords":["zap","thunder","weather","lightning bolt","fast"],"char":"⚡","fitzpatrick_scale":false,"name":"zap","category":"animals_and_nature"},{"keywords":["fire","hot","cook","flame"],"char":"🔥","fitzpatrick_scale":false,"name":"fire","category":"animals_and_nature"},{"keywords":["boom","bomb","explode","explosion","collision","blown"],"char":"💥","fitzpatrick_scale":false,"name":"boom","category":"animals_and_nature"},{"keywords":["snowflake","winter","season","cold","weather","christmas","xmas"],"char":"❄️","fitzpatrick_scale":false,"name":"snowflake","category":"animals_and_nature"},{"keywords":["cloud_with_snow","weather"],"char":"🌨","fitzpatrick_scale":false,"name":"cloud_with_snow","category":"animals_and_nature"},{"keywords":["snowman","winter","season","cold","weather","christmas","xmas","frozen","without_snow"],"char":"⛄","fitzpatrick_scale":false,"name":"snowman","category":"animals_and_nature"},{"keywords":["snowman_with_snow","winter","season","cold","weather","christmas","xmas","frozen"],"char":"☃","fitzpatrick_scale":false,"name":"snowman_with_snow","category":"animals_and_nature"},{"keywords":["wind_face","gust","air"],"char":"🌬","fitzpatrick_scale":false,"name":"wind_face","category":"animals_and_nature"},{"keywords":["dash","wind","air","fast","shoo","fart","smoke","puff"],"char":"💨","fitzpatrick_scale":false,"name":"dash","category":"animals_and_nature"},{"keywords":["tornado","weather","cyclone","twister"],"char":"🌪","fitzpatrick_scale":false,"name":"tornado","category":"animals_and_nature"},{"keywords":["fog","weather"],"char":"🌫","fitzpatrick_scale":false,"name":"fog","category":"animals_and_nature"},{"keywords":["open_umbrella","weather","spring"],"char":"☂","fitzpatrick_scale":false,"name":"open_umbrella","category":"animals_and_nature"},{"keywords":["umbrella","rainy","weather","spring"],"char":"☔","fitzpatrick_scale":false,"name":"umbrella","category":"animals_and_nature"},{"keywords":["droplet","water","drip","faucet","spring"],"char":"💧","fitzpatrick_scale":false,"name":"droplet","category":"animals_and_nature"},{"keywords":["sweat_drops","water","drip","oops"],"char":"💦","fitzpatrick_scale":false,"name":"sweat_drops","category":"animals_and_nature"},{"keywords":["ocean","sea","water","wave","nature","tsunami","disaster"],"char":"🌊","fitzpatrick_scale":false,"name":"ocean","category":"animals_and_nature"},{"keywords":["green_apple","fruit","nature"],"char":"🍏","fitzpatrick_scale":false,"name":"green_apple","category":"food_and_drink"},{"keywords":["apple","fruit","mac","school"],"char":"🍎","fitzpatrick_scale":false,"name":"apple","category":"food_and_drink"},{"keywords":["pear","fruit","nature","food"],"char":"🍐","fitzpatrick_scale":false,"name":"pear","category":"food_and_drink"},{"keywords":["tangerine","food","fruit","nature","orange"],"char":"🍊","fitzpatrick_scale":false,"name":"tangerine","category":"food_and_drink"},{"keywords":["lemon","fruit","nature"],"char":"🍋","fitzpatrick_scale":false,"name":"lemon","category":"food_and_drink"},{"keywords":["banana","fruit","food","monkey"],"char":"🍌","fitzpatrick_scale":false,"name":"banana","category":"food_and_drink"},{"keywords":["watermelon","fruit","food","picnic","summer"],"char":"🍉","fitzpatrick_scale":false,"name":"watermelon","category":"food_and_drink"},{"keywords":["grapes","fruit","food","wine"],"char":"🍇","fitzpatrick_scale":false,"name":"grapes","category":"food_and_drink"},{"keywords":["strawberry","fruit","food","nature"],"char":"🍓","fitzpatrick_scale":false,"name":"strawberry","category":"food_and_drink"},{"keywords":["melon","fruit","nature","food"],"char":"🍈","fitzpatrick_scale":false,"name":"melon","category":"food_and_drink"},{"keywords":["cherries","food","fruit"],"char":"🍒","fitzpatrick_scale":false,"name":"cherries","category":"food_and_drink"},{"keywords":["peach","fruit","nature","food"],"char":"🍑","fitzpatrick_scale":false,"name":"peach","category":"food_and_drink"},{"keywords":["pineapple","fruit","nature","food"],"char":"🍍","fitzpatrick_scale":false,"name":"pineapple","category":"food_and_drink"},{"keywords":["coconut","fruit","nature","food","palm"],"char":"🥥","fitzpatrick_scale":false,"name":"coconut","category":"food_and_drink"},{"keywords":["kiwi_fruit","fruit","food"],"char":"🥝","fitzpatrick_scale":false,"name":"kiwi_fruit","category":"food_and_drink"},{"keywords":["mango","fruit","food","tropical"],"char":"🥭","fitzpatrick_scale":false,"name":"mango","category":"food_and_drink"},{"keywords":["avocado","fruit","food"],"char":"🥑","fitzpatrick_scale":false,"name":"avocado","category":"food_and_drink"},{"keywords":["broccoli","fruit","food","vegetable"],"char":"🥦","fitzpatrick_scale":false,"name":"broccoli","category":"food_and_drink"},{"keywords":["tomato","fruit","vegetable","nature","food"],"char":"🍅","fitzpatrick_scale":false,"name":"tomato","category":"food_and_drink"},{"keywords":["eggplant","vegetable","nature","food","aubergine"],"char":"🍆","fitzpatrick_scale":false,"name":"eggplant","category":"food_and_drink"},{"keywords":["cucumber","fruit","food","pickle"],"char":"🥒","fitzpatrick_scale":false,"name":"cucumber","category":"food_and_drink"},{"keywords":["carrot","vegetable","food","orange"],"char":"🥕","fitzpatrick_scale":false,"name":"carrot","category":"food_and_drink"},{"keywords":["hot_pepper","food","spicy","chilli","chili"],"char":"🌶","fitzpatrick_scale":false,"name":"hot_pepper","category":"food_and_drink"},{"keywords":["potato","food","tuber","vegatable","starch"],"char":"🥔","fitzpatrick_scale":false,"name":"potato","category":"food_and_drink"},{"keywords":["corn","food","vegetable","plant"],"char":"🌽","fitzpatrick_scale":false,"name":"corn","category":"food_and_drink"},{"keywords":["leafy_greens","food","vegetable","plant","bok choy","cabbage","kale","lettuce"],"char":"🥬","fitzpatrick_scale":false,"name":"leafy_greens","category":"food_and_drink"},{"keywords":["sweet_potato","food","nature"],"char":"🍠","fitzpatrick_scale":false,"name":"sweet_potato","category":"food_and_drink"},{"keywords":["peanuts","food","nut"],"char":"🥜","fitzpatrick_scale":false,"name":"peanuts","category":"food_and_drink"},{"keywords":["honey_pot","bees","sweet","kitchen"],"char":"🍯","fitzpatrick_scale":false,"name":"honey_pot","category":"food_and_drink"},{"keywords":["croissant","food","bread","french"],"char":"🥐","fitzpatrick_scale":false,"name":"croissant","category":"food_and_drink"},{"keywords":["bread","food","wheat","breakfast","toast"],"char":"🍞","fitzpatrick_scale":false,"name":"bread","category":"food_and_drink"},{"keywords":["baguette_bread","food","bread","french"],"char":"🥖","fitzpatrick_scale":false,"name":"baguette_bread","category":"food_and_drink"},{"keywords":["bagel","food","bread","bakery","schmear"],"char":"🥯","fitzpatrick_scale":false,"name":"bagel","category":"food_and_drink"},{"keywords":["pretzel","food","bread","twisted"],"char":"🥨","fitzpatrick_scale":false,"name":"pretzel","category":"food_and_drink"},{"keywords":["cheese","food","chadder"],"char":"🧀","fitzpatrick_scale":false,"name":"cheese","category":"food_and_drink"},{"keywords":["egg","food","chicken","breakfast"],"char":"🥚","fitzpatrick_scale":false,"name":"egg","category":"food_and_drink"},{"keywords":["bacon","food","breakfast","pork","pig","meat"],"char":"🥓","fitzpatrick_scale":false,"name":"bacon","category":"food_and_drink"},{"keywords":["steak","food","cow","meat","cut","chop","lambchop","porkchop"],"char":"🥩","fitzpatrick_scale":false,"name":"steak","category":"food_and_drink"},{"keywords":["pancakes","food","breakfast","flapjacks","hotcakes"],"char":"🥞","fitzpatrick_scale":false,"name":"pancakes","category":"food_and_drink"},{"keywords":["poultry_leg","food","meat","drumstick","bird","chicken","turkey"],"char":"🍗","fitzpatrick_scale":false,"name":"poultry_leg","category":"food_and_drink"},{"keywords":["meat_on_bone","good","food","drumstick"],"char":"🍖","fitzpatrick_scale":false,"name":"meat_on_bone","category":"food_and_drink"},{"keywords":["bone","skeleton"],"char":"🦴","fitzpatrick_scale":false,"name":"bone","category":"food_and_drink"},{"keywords":["fried_shrimp","food","animal","appetizer","summer"],"char":"🍤","fitzpatrick_scale":false,"name":"fried_shrimp","category":"food_and_drink"},{"keywords":["fried_egg","food","breakfast","kitchen","egg"],"char":"🍳","fitzpatrick_scale":false,"name":"fried_egg","category":"food_and_drink"},{"keywords":["hamburger","meat","fast food","beef","cheeseburger","mcdonalds","burger king"],"char":"🍔","fitzpatrick_scale":false,"name":"hamburger","category":"food_and_drink"},{"keywords":["fries","chips","snack","fast food"],"char":"🍟","fitzpatrick_scale":false,"name":"fries","category":"food_and_drink"},{"keywords":["stuffed_flatbread","food","flatbread","stuffed","gyro"],"char":"🥙","fitzpatrick_scale":false,"name":"stuffed_flatbread","category":"food_and_drink"},{"keywords":["hotdog","food","frankfurter"],"char":"🌭","fitzpatrick_scale":false,"name":"hotdog","category":"food_and_drink"},{"keywords":["pizza","food","party"],"char":"🍕","fitzpatrick_scale":false,"name":"pizza","category":"food_and_drink"},{"keywords":["sandwich","food","lunch","bread"],"char":"🥪","fitzpatrick_scale":false,"name":"sandwich","category":"food_and_drink"},{"keywords":["canned_food","food","soup"],"char":"🥫","fitzpatrick_scale":false,"name":"canned_food","category":"food_and_drink"},{"keywords":["spaghetti","food","italian","noodle"],"char":"🍝","fitzpatrick_scale":false,"name":"spaghetti","category":"food_and_drink"},{"keywords":["taco","food","mexican"],"char":"🌮","fitzpatrick_scale":false,"name":"taco","category":"food_and_drink"},{"keywords":["burrito","food","mexican"],"char":"🌯","fitzpatrick_scale":false,"name":"burrito","category":"food_and_drink"},{"keywords":["green_salad","food","healthy","lettuce"],"char":"🥗","fitzpatrick_scale":false,"name":"green_salad","category":"food_and_drink"},{"keywords":["shallow_pan_of_food","food","cooking","casserole","paella"],"char":"🥘","fitzpatrick_scale":false,"name":"shallow_pan_of_food","category":"food_and_drink"},{"keywords":["ramen","food","japanese","noodle","chopsticks"],"char":"🍜","fitzpatrick_scale":false,"name":"ramen","category":"food_and_drink"},{"keywords":["stew","food","meat","soup"],"char":"🍲","fitzpatrick_scale":false,"name":"stew","category":"food_and_drink"},{"keywords":["fish_cake","food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],"char":"🍥","fitzpatrick_scale":false,"name":"fish_cake","category":"food_and_drink"},{"keywords":["fortune_cookie","food","prophecy"],"char":"🥠","fitzpatrick_scale":false,"name":"fortune_cookie","category":"food_and_drink"},{"keywords":["sushi","food","fish","japanese","rice"],"char":"🍣","fitzpatrick_scale":false,"name":"sushi","category":"food_and_drink"},{"keywords":["bento","food","japanese","box"],"char":"🍱","fitzpatrick_scale":false,"name":"bento","category":"food_and_drink"},{"keywords":["curry","food","spicy","hot","indian"],"char":"🍛","fitzpatrick_scale":false,"name":"curry","category":"food_and_drink"},{"keywords":["rice_ball","food","japanese"],"char":"🍙","fitzpatrick_scale":false,"name":"rice_ball","category":"food_and_drink"},{"keywords":["rice","food","china","asian"],"char":"🍚","fitzpatrick_scale":false,"name":"rice","category":"food_and_drink"},{"keywords":["rice_cracker","food","japanese"],"char":"🍘","fitzpatrick_scale":false,"name":"rice_cracker","category":"food_and_drink"},{"keywords":["oden","food","japanese"],"char":"🍢","fitzpatrick_scale":false,"name":"oden","category":"food_and_drink"},{"keywords":["dango","food","dessert","sweet","japanese","barbecue","meat"],"char":"🍡","fitzpatrick_scale":false,"name":"dango","category":"food_and_drink"},{"keywords":["shaved_ice","hot","dessert","summer"],"char":"🍧","fitzpatrick_scale":false,"name":"shaved_ice","category":"food_and_drink"},{"keywords":["ice_cream","food","hot","dessert"],"char":"🍨","fitzpatrick_scale":false,"name":"ice_cream","category":"food_and_drink"},{"keywords":["icecream","food","hot","dessert","summer"],"char":"🍦","fitzpatrick_scale":false,"name":"icecream","category":"food_and_drink"},{"keywords":["pie","food","dessert","pastry"],"char":"🥧","fitzpatrick_scale":false,"name":"pie","category":"food_and_drink"},{"keywords":["cake","food","dessert"],"char":"🍰","fitzpatrick_scale":false,"name":"cake","category":"food_and_drink"},{"keywords":["cupcake","food","dessert","bakery","sweet"],"char":"🧁","fitzpatrick_scale":false,"name":"cupcake","category":"food_and_drink"},{"keywords":["moon_cake","food","autumn"],"char":"🥮","fitzpatrick_scale":false,"name":"moon_cake","category":"food_and_drink"},{"keywords":["birthday","food","dessert","cake"],"char":"🎂","fitzpatrick_scale":false,"name":"birthday","category":"food_and_drink"},{"keywords":["custard","dessert","food"],"char":"🍮","fitzpatrick_scale":false,"name":"custard","category":"food_and_drink"},{"keywords":["candy","snack","dessert","sweet","lolly"],"char":"🍬","fitzpatrick_scale":false,"name":"candy","category":"food_and_drink"},{"keywords":["lollipop","food","snack","candy","sweet"],"char":"🍭","fitzpatrick_scale":false,"name":"lollipop","category":"food_and_drink"},{"keywords":["chocolate_bar","food","snack","dessert","sweet"],"char":"🍫","fitzpatrick_scale":false,"name":"chocolate_bar","category":"food_and_drink"},{"keywords":["popcorn","food","movie theater","films","snack"],"char":"🍿","fitzpatrick_scale":false,"name":"popcorn","category":"food_and_drink"},{"keywords":["dumpling","food","empanada","pierogi","potsticker"],"char":"🥟","fitzpatrick_scale":false,"name":"dumpling","category":"food_and_drink"},{"keywords":["doughnut","food","dessert","snack","sweet","donut"],"char":"🍩","fitzpatrick_scale":false,"name":"doughnut","category":"food_and_drink"},{"keywords":["cookie","food","snack","oreo","chocolate","sweet","dessert"],"char":"🍪","fitzpatrick_scale":false,"name":"cookie","category":"food_and_drink"},{"keywords":["milk_glass","beverage","drink","cow"],"char":"🥛","fitzpatrick_scale":false,"name":"milk_glass","category":"food_and_drink"},{"keywords":["beer","relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],"char":"🍺","fitzpatrick_scale":false,"name":"beer","category":"food_and_drink"},{"keywords":["beers","relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],"char":"🍻","fitzpatrick_scale":false,"name":"beers","category":"food_and_drink"},{"keywords":["clinking_glasses","beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],"char":"🥂","fitzpatrick_scale":false,"name":"clinking_glasses","category":"food_and_drink"},{"keywords":["wine_glass","drink","beverage","drunk","alcohol","booze"],"char":"🍷","fitzpatrick_scale":false,"name":"wine_glass","category":"food_and_drink"},{"keywords":["tumbler_glass","drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],"char":"🥃","fitzpatrick_scale":false,"name":"tumbler_glass","category":"food_and_drink"},{"keywords":["cocktail","drink","drunk","alcohol","beverage","booze","mojito"],"char":"🍸","fitzpatrick_scale":false,"name":"cocktail","category":"food_and_drink"},{"keywords":["tropical_drink","beverage","cocktail","summer","beach","alcohol","booze","mojito"],"char":"🍹","fitzpatrick_scale":false,"name":"tropical_drink","category":"food_and_drink"},{"keywords":["champagne","drink","wine","bottle","celebration"],"char":"🍾","fitzpatrick_scale":false,"name":"champagne","category":"food_and_drink"},{"keywords":["sake","wine","drink","drunk","beverage","japanese","alcohol","booze"],"char":"🍶","fitzpatrick_scale":false,"name":"sake","category":"food_and_drink"},{"keywords":["tea","drink","bowl","breakfast","green","british"],"char":"🍵","fitzpatrick_scale":false,"name":"tea","category":"food_and_drink"},{"keywords":["cup_with_straw","drink","soda"],"char":"🥤","fitzpatrick_scale":false,"name":"cup_with_straw","category":"food_and_drink"},{"keywords":["coffee","beverage","caffeine","latte","espresso"],"char":"☕","fitzpatrick_scale":false,"name":"coffee","category":"food_and_drink"},{"keywords":["baby_bottle","food","container","milk"],"char":"🍼","fitzpatrick_scale":false,"name":"baby_bottle","category":"food_and_drink"},{"keywords":["salt","condiment","shaker"],"char":"🧂","fitzpatrick_scale":false,"name":"salt","category":"food_and_drink"},{"keywords":["spoon","cutlery","kitchen","tableware"],"char":"🥄","fitzpatrick_scale":false,"name":"spoon","category":"food_and_drink"},{"keywords":["fork_and_knife","cutlery","kitchen"],"char":"🍴","fitzpatrick_scale":false,"name":"fork_and_knife","category":"food_and_drink"},{"keywords":["plate_with_cutlery","food","eat","meal","lunch","dinner","restaurant"],"char":"🍽","fitzpatrick_scale":false,"name":"plate_with_cutlery","category":"food_and_drink"},{"keywords":["bowl_with_spoon","food","breakfast","cereal","oatmeal","porridge"],"char":"🥣","fitzpatrick_scale":false,"name":"bowl_with_spoon","category":"food_and_drink"},{"keywords":["takeout_box","food","leftovers"],"char":"🥡","fitzpatrick_scale":false,"name":"takeout_box","category":"food_and_drink"},{"keywords":["chopsticks","food"],"char":"🥢","fitzpatrick_scale":false,"name":"chopsticks","category":"food_and_drink"},{"keywords":["soccer","sports","football"],"char":"⚽","fitzpatrick_scale":false,"name":"soccer","category":"activity"},{"keywords":["basketball","sports","balls","NBA"],"char":"🏀","fitzpatrick_scale":false,"name":"basketball","category":"activity"},{"keywords":["football","sports","balls","NFL"],"char":"🏈","fitzpatrick_scale":false,"name":"football","category":"activity"},{"keywords":["baseball","sports","balls"],"char":"⚾","fitzpatrick_scale":false,"name":"baseball","category":"activity"},{"keywords":["softball","sports","balls"],"char":"🥎","fitzpatrick_scale":false,"name":"softball","category":"activity"},{"keywords":["tennis","sports","balls","green"],"char":"🎾","fitzpatrick_scale":false,"name":"tennis","category":"activity"},{"keywords":["volleyball","sports","balls"],"char":"🏐","fitzpatrick_scale":false,"name":"volleyball","category":"activity"},{"keywords":["rugby_football","sports","team"],"char":"🏉","fitzpatrick_scale":false,"name":"rugby_football","category":"activity"},{"keywords":["flying_disc","sports","frisbee","ultimate"],"char":"🥏","fitzpatrick_scale":false,"name":"flying_disc","category":"activity"},{"keywords":["8ball","pool","hobby","game","luck","magic"],"char":"🎱","fitzpatrick_scale":false,"name":"8ball","category":"activity"},{"keywords":["golf","sports","business","flag","hole","summer"],"char":"⛳","fitzpatrick_scale":false,"name":"golf","category":"activity"},{"keywords":["golfing_woman","sports","business","woman","female"],"char":"🏌️‍♀️","fitzpatrick_scale":false,"name":"golfing_woman","category":"activity"},{"keywords":["golfing_man","sports","business"],"char":"🏌","fitzpatrick_scale":true,"name":"golfing_man","category":"activity"},{"keywords":["ping_pong","sports","pingpong"],"char":"🏓","fitzpatrick_scale":false,"name":"ping_pong","category":"activity"},{"keywords":["badminton","sports"],"char":"🏸","fitzpatrick_scale":false,"name":"badminton","category":"activity"},{"keywords":["goal_net","sports"],"char":"🥅","fitzpatrick_scale":false,"name":"goal_net","category":"activity"},{"keywords":["ice_hockey","sports"],"char":"🏒","fitzpatrick_scale":false,"name":"ice_hockey","category":"activity"},{"keywords":["field_hockey","sports"],"char":"🏑","fitzpatrick_scale":false,"name":"field_hockey","category":"activity"},{"keywords":["lacrosse","sports","ball","stick"],"char":"🥍","fitzpatrick_scale":false,"name":"lacrosse","category":"activity"},{"keywords":["cricket","sports"],"char":"🏏","fitzpatrick_scale":false,"name":"cricket","category":"activity"},{"keywords":["ski","sports","winter","cold","snow"],"char":"🎿","fitzpatrick_scale":false,"name":"ski","category":"activity"},{"keywords":["skier","sports","winter","snow"],"char":"⛷","fitzpatrick_scale":false,"name":"skier","category":"activity"},{"keywords":["snowboarder","sports","winter"],"char":"🏂","fitzpatrick_scale":true,"name":"snowboarder","category":"activity"},{"keywords":["person_fencing","sports","fencing","sword"],"char":"🤺","fitzpatrick_scale":false,"name":"person_fencing","category":"activity"},{"keywords":["women_wrestling","sports","wrestlers"],"char":"🤼‍♀️","fitzpatrick_scale":false,"name":"women_wrestling","category":"activity"},{"keywords":["men_wrestling","sports","wrestlers"],"char":"🤼‍♂️","fitzpatrick_scale":false,"name":"men_wrestling","category":"activity"},{"keywords":["woman_cartwheeling","gymnastics"],"char":"🤸‍♀️","fitzpatrick_scale":true,"name":"woman_cartwheeling","category":"activity"},{"keywords":["man_cartwheeling","gymnastics"],"char":"🤸‍♂️","fitzpatrick_scale":true,"name":"man_cartwheeling","category":"activity"},{"keywords":["woman_playing_handball","sports"],"char":"🤾‍♀️","fitzpatrick_scale":true,"name":"woman_playing_handball","category":"activity"},{"keywords":["man_playing_handball","sports"],"char":"🤾‍♂️","fitzpatrick_scale":true,"name":"man_playing_handball","category":"activity"},{"keywords":["ice_skate","sports"],"char":"⛸","fitzpatrick_scale":false,"name":"ice_skate","category":"activity"},{"keywords":["curling_stone","sports"],"char":"🥌","fitzpatrick_scale":false,"name":"curling_stone","category":"activity"},{"keywords":["skateboard","board"],"char":"🛹","fitzpatrick_scale":false,"name":"skateboard","category":"activity"},{"keywords":["sled","sleigh","luge","toboggan"],"char":"🛷","fitzpatrick_scale":false,"name":"sled","category":"activity"},{"keywords":["bow_and_arrow","sports"],"char":"🏹","fitzpatrick_scale":false,"name":"bow_and_arrow","category":"activity"},{"keywords":["fishing_pole_and_fish","food","hobby","summer"],"char":"🎣","fitzpatrick_scale":false,"name":"fishing_pole_and_fish","category":"activity"},{"keywords":["boxing_glove","sports","fighting"],"char":"🥊","fitzpatrick_scale":false,"name":"boxing_glove","category":"activity"},{"keywords":["martial_arts_uniform","judo","karate","taekwondo"],"char":"🥋","fitzpatrick_scale":false,"name":"martial_arts_uniform","category":"activity"},{"keywords":["rowing_woman","sports","hobby","water","ship","woman","female"],"char":"🚣‍♀️","fitzpatrick_scale":true,"name":"rowing_woman","category":"activity"},{"keywords":["rowing_man","sports","hobby","water","ship"],"char":"🚣","fitzpatrick_scale":true,"name":"rowing_man","category":"activity"},{"keywords":["climbing_woman","sports","hobby","woman","female","rock"],"char":"🧗‍♀️","fitzpatrick_scale":true,"name":"climbing_woman","category":"activity"},{"keywords":["climbing_man","sports","hobby","man","male","rock"],"char":"🧗‍♂️","fitzpatrick_scale":true,"name":"climbing_man","category":"activity"},{"keywords":["swimming_woman","sports","exercise","human","athlete","water","summer","woman","female"],"char":"🏊‍♀️","fitzpatrick_scale":true,"name":"swimming_woman","category":"activity"},{"keywords":["swimming_man","sports","exercise","human","athlete","water","summer"],"char":"🏊","fitzpatrick_scale":true,"name":"swimming_man","category":"activity"},{"keywords":["woman_playing_water_polo","sports","pool"],"char":"🤽‍♀️","fitzpatrick_scale":true,"name":"woman_playing_water_polo","category":"activity"},{"keywords":["man_playing_water_polo","sports","pool"],"char":"🤽‍♂️","fitzpatrick_scale":true,"name":"man_playing_water_polo","category":"activity"},{"keywords":["woman_in_lotus_position","woman","female","meditation","yoga","serenity","zen","mindfulness"],"char":"🧘‍♀️","fitzpatrick_scale":true,"name":"woman_in_lotus_position","category":"activity"},{"keywords":["man_in_lotus_position","man","male","meditation","yoga","serenity","zen","mindfulness"],"char":"🧘‍♂️","fitzpatrick_scale":true,"name":"man_in_lotus_position","category":"activity"},{"keywords":["surfing_woman","sports","ocean","sea","summer","beach","woman","female"],"char":"🏄‍♀️","fitzpatrick_scale":true,"name":"surfing_woman","category":"activity"},{"keywords":["surfing_man","sports","ocean","sea","summer","beach"],"char":"🏄","fitzpatrick_scale":true,"name":"surfing_man","category":"activity"},{"keywords":["bath","clean","shower","bathroom"],"char":"🛀","fitzpatrick_scale":true,"name":"bath","category":"activity"},{"keywords":["basketball_woman","sports","human","woman","female"],"char":"⛹️‍♀️","fitzpatrick_scale":true,"name":"basketball_woman","category":"activity"},{"keywords":["basketball_man","sports","human"],"char":"⛹","fitzpatrick_scale":true,"name":"basketball_man","category":"activity"},{"keywords":["weight_lifting_woman","sports","training","exercise","woman","female"],"char":"🏋️‍♀️","fitzpatrick_scale":true,"name":"weight_lifting_woman","category":"activity"},{"keywords":["weight_lifting_man","sports","training","exercise"],"char":"🏋","fitzpatrick_scale":true,"name":"weight_lifting_man","category":"activity"},{"keywords":["biking_woman","sports","bike","exercise","hipster","woman","female"],"char":"🚴‍♀️","fitzpatrick_scale":true,"name":"biking_woman","category":"activity"},{"keywords":["biking_man","sports","bike","exercise","hipster"],"char":"🚴","fitzpatrick_scale":true,"name":"biking_man","category":"activity"},{"keywords":["mountain_biking_woman","transportation","sports","human","race","bike","woman","female"],"char":"🚵‍♀️","fitzpatrick_scale":true,"name":"mountain_biking_woman","category":"activity"},{"keywords":["mountain_biking_man","transportation","sports","human","race","bike"],"char":"🚵","fitzpatrick_scale":true,"name":"mountain_biking_man","category":"activity"},{"keywords":["horse_racing","animal","betting","competition","gambling","luck"],"char":"🏇","fitzpatrick_scale":true,"name":"horse_racing","category":"activity"},{"keywords":["business_suit_levitating","suit","business","levitate","hover","jump"],"char":"🕴","fitzpatrick_scale":true,"name":"business_suit_levitating","category":"activity"},{"keywords":["trophy","win","award","contest","place","ftw","ceremony"],"char":"🏆","fitzpatrick_scale":false,"name":"trophy","category":"activity"},{"keywords":["running_shirt_with_sash","play","pageant"],"char":"🎽","fitzpatrick_scale":false,"name":"running_shirt_with_sash","category":"activity"},{"keywords":["medal_sports","award","winning"],"char":"🏅","fitzpatrick_scale":false,"name":"medal_sports","category":"activity"},{"keywords":["medal_military","award","winning","army"],"char":"🎖","fitzpatrick_scale":false,"name":"medal_military","category":"activity"},{"keywords":["1st_place_medal","award","winning","first"],"char":"🥇","fitzpatrick_scale":false,"name":"1st_place_medal","category":"activity"},{"keywords":["2nd_place_medal","award","second"],"char":"🥈","fitzpatrick_scale":false,"name":"2nd_place_medal","category":"activity"},{"keywords":["3rd_place_medal","award","third"],"char":"🥉","fitzpatrick_scale":false,"name":"3rd_place_medal","category":"activity"},{"keywords":["reminder_ribbon","sports","cause","support","awareness"],"char":"🎗","fitzpatrick_scale":false,"name":"reminder_ribbon","category":"activity"},{"keywords":["rosette","flower","decoration","military"],"char":"🏵","fitzpatrick_scale":false,"name":"rosette","category":"activity"},{"keywords":["ticket","event","concert","pass"],"char":"🎫","fitzpatrick_scale":false,"name":"ticket","category":"activity"},{"keywords":["tickets","sports","concert","entrance"],"char":"🎟","fitzpatrick_scale":false,"name":"tickets","category":"activity"},{"keywords":["performing_arts","acting","theater","drama"],"char":"🎭","fitzpatrick_scale":false,"name":"performing_arts","category":"activity"},{"keywords":["art","design","paint","draw","colors"],"char":"🎨","fitzpatrick_scale":false,"name":"art","category":"activity"},{"keywords":["circus_tent","festival","carnival","party"],"char":"🎪","fitzpatrick_scale":false,"name":"circus_tent","category":"activity"},{"keywords":["woman_juggling","juggle","balance","skill","multitask"],"char":"🤹‍♀️","fitzpatrick_scale":true,"name":"woman_juggling","category":"activity"},{"keywords":["man_juggling","juggle","balance","skill","multitask"],"char":"🤹‍♂️","fitzpatrick_scale":true,"name":"man_juggling","category":"activity"},{"keywords":["microphone","sound","music","PA","sing","talkshow"],"char":"🎤","fitzpatrick_scale":false,"name":"microphone","category":"activity"},{"keywords":["headphones","music","score","gadgets"],"char":"🎧","fitzpatrick_scale":false,"name":"headphones","category":"activity"},{"keywords":["musical_score","treble","clef","compose"],"char":"🎼","fitzpatrick_scale":false,"name":"musical_score","category":"activity"},{"keywords":["musical_keyboard","piano","instrument","compose"],"char":"🎹","fitzpatrick_scale":false,"name":"musical_keyboard","category":"activity"},{"keywords":["drum","music","instrument","drumsticks","snare"],"char":"🥁","fitzpatrick_scale":false,"name":"drum","category":"activity"},{"keywords":["saxophone","music","instrument","jazz","blues"],"char":"🎷","fitzpatrick_scale":false,"name":"saxophone","category":"activity"},{"keywords":["trumpet","music","brass"],"char":"🎺","fitzpatrick_scale":false,"name":"trumpet","category":"activity"},{"keywords":["guitar","music","instrument"],"char":"🎸","fitzpatrick_scale":false,"name":"guitar","category":"activity"},{"keywords":["violin","music","instrument","orchestra","symphony"],"char":"🎻","fitzpatrick_scale":false,"name":"violin","category":"activity"},{"keywords":["clapper","movie","film","record"],"char":"🎬","fitzpatrick_scale":false,"name":"clapper","category":"activity"},{"keywords":["video_game","play","console","PS4","controller"],"char":"🎮","fitzpatrick_scale":false,"name":"video_game","category":"activity"},{"keywords":["space_invader","game","arcade","play"],"char":"👾","fitzpatrick_scale":false,"name":"space_invader","category":"activity"},{"keywords":["dart","game","play","bar","target","bullseye"],"char":"🎯","fitzpatrick_scale":false,"name":"dart","category":"activity"},{"keywords":["game_die","dice","random","tabletop","play","luck"],"char":"🎲","fitzpatrick_scale":false,"name":"game_die","category":"activity"},{"keywords":["chess_pawn","expendable"],"char":"♟","fitzpatrick_scale":false,"name":"chess_pawn","category":"activity"},{"keywords":["slot_machine","bet","gamble","vegas","fruit machine","luck","casino"],"char":"🎰","fitzpatrick_scale":false,"name":"slot_machine","category":"activity"},{"keywords":["jigsaw","interlocking","puzzle","piece"],"char":"🧩","fitzpatrick_scale":false,"name":"jigsaw","category":"activity"},{"keywords":["bowling","sports","fun","play"],"char":"🎳","fitzpatrick_scale":false,"name":"bowling","category":"activity"},{"keywords":["red_car","red","transportation","vehicle"],"char":"🚗","fitzpatrick_scale":false,"name":"red_car","category":"travel_and_places"},{"keywords":["taxi","uber","vehicle","cars","transportation"],"char":"🚕","fitzpatrick_scale":false,"name":"taxi","category":"travel_and_places"},{"keywords":["blue_car","transportation","vehicle"],"char":"🚙","fitzpatrick_scale":false,"name":"blue_car","category":"travel_and_places"},{"keywords":["bus","car","vehicle","transportation"],"char":"🚌","fitzpatrick_scale":false,"name":"bus","category":"travel_and_places"},{"keywords":["trolleybus","bart","transportation","vehicle"],"char":"🚎","fitzpatrick_scale":false,"name":"trolleybus","category":"travel_and_places"},{"keywords":["racing_car","sports","race","fast","formula","f1"],"char":"🏎","fitzpatrick_scale":false,"name":"racing_car","category":"travel_and_places"},{"keywords":["police_car","vehicle","cars","transportation","law","legal","enforcement"],"char":"🚓","fitzpatrick_scale":false,"name":"police_car","category":"travel_and_places"},{"keywords":["ambulance","health","911","hospital"],"char":"🚑","fitzpatrick_scale":false,"name":"ambulance","category":"travel_and_places"},{"keywords":["fire_engine","transportation","cars","vehicle"],"char":"🚒","fitzpatrick_scale":false,"name":"fire_engine","category":"travel_and_places"},{"keywords":["minibus","vehicle","car","transportation"],"char":"🚐","fitzpatrick_scale":false,"name":"minibus","category":"travel_and_places"},{"keywords":["truck","cars","transportation"],"char":"🚚","fitzpatrick_scale":false,"name":"truck","category":"travel_and_places"},{"keywords":["articulated_lorry","vehicle","cars","transportation","express"],"char":"🚛","fitzpatrick_scale":false,"name":"articulated_lorry","category":"travel_and_places"},{"keywords":["tractor","vehicle","car","farming","agriculture"],"char":"🚜","fitzpatrick_scale":false,"name":"tractor","category":"travel_and_places"},{"keywords":["kick_scooter","vehicle","kick","razor"],"char":"🛴","fitzpatrick_scale":false,"name":"kick_scooter","category":"travel_and_places"},{"keywords":["motorcycle","race","sports","fast"],"char":"🏍","fitzpatrick_scale":false,"name":"motorcycle","category":"travel_and_places"},{"keywords":["bike","sports","bicycle","exercise","hipster"],"char":"🚲","fitzpatrick_scale":false,"name":"bike","category":"travel_and_places"},{"keywords":["motor_scooter","vehicle","vespa","sasha"],"char":"🛵","fitzpatrick_scale":false,"name":"motor_scooter","category":"travel_and_places"},{"keywords":["rotating_light","police","ambulance","911","emergency","alert","error","pinged","law","legal"],"char":"🚨","fitzpatrick_scale":false,"name":"rotating_light","category":"travel_and_places"},{"keywords":["oncoming_police_car","vehicle","law","legal","enforcement","911"],"char":"🚔","fitzpatrick_scale":false,"name":"oncoming_police_car","category":"travel_and_places"},{"keywords":["oncoming_bus","vehicle","transportation"],"char":"🚍","fitzpatrick_scale":false,"name":"oncoming_bus","category":"travel_and_places"},{"keywords":["oncoming_automobile","car","vehicle","transportation"],"char":"🚘","fitzpatrick_scale":false,"name":"oncoming_automobile","category":"travel_and_places"},{"keywords":["oncoming_taxi","vehicle","cars","uber"],"char":"🚖","fitzpatrick_scale":false,"name":"oncoming_taxi","category":"travel_and_places"},{"keywords":["aerial_tramway","transportation","vehicle","ski"],"char":"🚡","fitzpatrick_scale":false,"name":"aerial_tramway","category":"travel_and_places"},{"keywords":["mountain_cableway","transportation","vehicle","ski"],"char":"🚠","fitzpatrick_scale":false,"name":"mountain_cableway","category":"travel_and_places"},{"keywords":["suspension_railway","vehicle","transportation"],"char":"🚟","fitzpatrick_scale":false,"name":"suspension_railway","category":"travel_and_places"},{"keywords":["railway_car","transportation","vehicle"],"char":"🚃","fitzpatrick_scale":false,"name":"railway_car","category":"travel_and_places"},{"keywords":["train","transportation","vehicle","carriage","public","travel"],"char":"🚋","fitzpatrick_scale":false,"name":"train","category":"travel_and_places"},{"keywords":["monorail","transportation","vehicle"],"char":"🚝","fitzpatrick_scale":false,"name":"monorail","category":"travel_and_places"},{"keywords":["bullettrain_side","transportation","vehicle"],"char":"🚄","fitzpatrick_scale":false,"name":"bullettrain_side","category":"travel_and_places"},{"keywords":["bullettrain_front","transportation","vehicle","speed","fast","public","travel"],"char":"🚅","fitzpatrick_scale":false,"name":"bullettrain_front","category":"travel_and_places"},{"keywords":["light_rail","transportation","vehicle"],"char":"🚈","fitzpatrick_scale":false,"name":"light_rail","category":"travel_and_places"},{"keywords":["mountain_railway","transportation","vehicle"],"char":"🚞","fitzpatrick_scale":false,"name":"mountain_railway","category":"travel_and_places"},{"keywords":["steam_locomotive","transportation","vehicle","train"],"char":"🚂","fitzpatrick_scale":false,"name":"steam_locomotive","category":"travel_and_places"},{"keywords":["train2","transportation","vehicle"],"char":"🚆","fitzpatrick_scale":false,"name":"train2","category":"travel_and_places"},{"keywords":["metro","transportation","blue-square","mrt","underground","tube"],"char":"🚇","fitzpatrick_scale":false,"name":"metro","category":"travel_and_places"},{"keywords":["tram","transportation","vehicle"],"char":"🚊","fitzpatrick_scale":false,"name":"tram","category":"travel_and_places"},{"keywords":["station","transportation","vehicle","public"],"char":"🚉","fitzpatrick_scale":false,"name":"station","category":"travel_and_places"},{"keywords":["flying_saucer","transportation","vehicle","ufo"],"char":"🛸","fitzpatrick_scale":false,"name":"flying_saucer","category":"travel_and_places"},{"keywords":["helicopter","transportation","vehicle","fly"],"char":"🚁","fitzpatrick_scale":false,"name":"helicopter","category":"travel_and_places"},{"keywords":["small_airplane","flight","transportation","fly","vehicle"],"char":"🛩","fitzpatrick_scale":false,"name":"small_airplane","category":"travel_and_places"},{"keywords":["airplane","vehicle","transportation","flight","fly"],"char":"✈️","fitzpatrick_scale":false,"name":"airplane","category":"travel_and_places"},{"keywords":["flight_departure","airport","flight","landing"],"char":"🛫","fitzpatrick_scale":false,"name":"flight_departure","category":"travel_and_places"},{"keywords":["flight_arrival","airport","flight","boarding"],"char":"🛬","fitzpatrick_scale":false,"name":"flight_arrival","category":"travel_and_places"},{"keywords":["sailboat","ship","summer","transportation","water","sailing"],"char":"⛵","fitzpatrick_scale":false,"name":"sailboat","category":"travel_and_places"},{"keywords":["motor_boat","ship"],"char":"🛥","fitzpatrick_scale":false,"name":"motor_boat","category":"travel_and_places"},{"keywords":["speedboat","ship","transportation","vehicle","summer"],"char":"🚤","fitzpatrick_scale":false,"name":"speedboat","category":"travel_and_places"},{"keywords":["ferry","boat","ship","yacht"],"char":"⛴","fitzpatrick_scale":false,"name":"ferry","category":"travel_and_places"},{"keywords":["passenger_ship","yacht","cruise","ferry"],"char":"🛳","fitzpatrick_scale":false,"name":"passenger_ship","category":"travel_and_places"},{"keywords":["rocket","launch","ship","staffmode","NASA","outer space","outer_space","fly"],"char":"🚀","fitzpatrick_scale":false,"name":"rocket","category":"travel_and_places"},{"keywords":["artificial_satellite","communication","gps","orbit","spaceflight","NASA","ISS"],"char":"🛰","fitzpatrick_scale":false,"name":"artificial_satellite","category":"travel_and_places"},{"keywords":["seat","sit","airplane","transport","bus","flight","fly"],"char":"💺","fitzpatrick_scale":false,"name":"seat","category":"travel_and_places"},{"keywords":["canoe","boat","paddle","water","ship"],"char":"🛶","fitzpatrick_scale":false,"name":"canoe","category":"travel_and_places"},{"keywords":["anchor","ship","ferry","sea","boat"],"char":"⚓","fitzpatrick_scale":false,"name":"anchor","category":"travel_and_places"},{"keywords":["construction","wip","progress","caution","warning"],"char":"🚧","fitzpatrick_scale":false,"name":"construction","category":"travel_and_places"},{"keywords":["fuelpump","gas station","petroleum"],"char":"⛽","fitzpatrick_scale":false,"name":"fuelpump","category":"travel_and_places"},{"keywords":["busstop","transportation","wait"],"char":"🚏","fitzpatrick_scale":false,"name":"busstop","category":"travel_and_places"},{"keywords":["vertical_traffic_light","transportation","driving"],"char":"🚦","fitzpatrick_scale":false,"name":"vertical_traffic_light","category":"travel_and_places"},{"keywords":["traffic_light","transportation","signal"],"char":"🚥","fitzpatrick_scale":false,"name":"traffic_light","category":"travel_and_places"},{"keywords":["checkered_flag","contest","finishline","race","gokart"],"char":"🏁","fitzpatrick_scale":false,"name":"checkered_flag","category":"travel_and_places"},{"keywords":["ship","transportation","titanic","deploy"],"char":"🚢","fitzpatrick_scale":false,"name":"ship","category":"travel_and_places"},{"keywords":["ferris_wheel","photo","carnival","londoneye"],"char":"🎡","fitzpatrick_scale":false,"name":"ferris_wheel","category":"travel_and_places"},{"keywords":["roller_coaster","carnival","playground","photo","fun"],"char":"🎢","fitzpatrick_scale":false,"name":"roller_coaster","category":"travel_and_places"},{"keywords":["carousel_horse","photo","carnival"],"char":"🎠","fitzpatrick_scale":false,"name":"carousel_horse","category":"travel_and_places"},{"keywords":["building_construction","wip","working","progress"],"char":"🏗","fitzpatrick_scale":false,"name":"building_construction","category":"travel_and_places"},{"keywords":["foggy","photo","mountain"],"char":"🌁","fitzpatrick_scale":false,"name":"foggy","category":"travel_and_places"},{"keywords":["tokyo_tower","photo","japanese"],"char":"🗼","fitzpatrick_scale":false,"name":"tokyo_tower","category":"travel_and_places"},{"keywords":["factory","building","industry","pollution","smoke"],"char":"🏭","fitzpatrick_scale":false,"name":"factory","category":"travel_and_places"},{"keywords":["fountain","photo","summer","water","fresh"],"char":"⛲","fitzpatrick_scale":false,"name":"fountain","category":"travel_and_places"},{"keywords":["rice_scene","photo","japan","asia","tsukimi"],"char":"🎑","fitzpatrick_scale":false,"name":"rice_scene","category":"travel_and_places"},{"keywords":["mountain","photo","nature","environment"],"char":"⛰","fitzpatrick_scale":false,"name":"mountain","category":"travel_and_places"},{"keywords":["mountain_snow","photo","nature","environment","winter","cold"],"char":"🏔","fitzpatrick_scale":false,"name":"mountain_snow","category":"travel_and_places"},{"keywords":["mount_fuji","photo","mountain","nature","japanese"],"char":"🗻","fitzpatrick_scale":false,"name":"mount_fuji","category":"travel_and_places"},{"keywords":["volcano","photo","nature","disaster"],"char":"🌋","fitzpatrick_scale":false,"name":"volcano","category":"travel_and_places"},{"keywords":["japan","nation","country","japanese","asia"],"char":"🗾","fitzpatrick_scale":false,"name":"japan","category":"travel_and_places"},{"keywords":["camping","photo","outdoors","tent"],"char":"🏕","fitzpatrick_scale":false,"name":"camping","category":"travel_and_places"},{"keywords":["tent","photo","camping","outdoors"],"char":"⛺","fitzpatrick_scale":false,"name":"tent","category":"travel_and_places"},{"keywords":["national_park","photo","environment","nature"],"char":"🏞","fitzpatrick_scale":false,"name":"national_park","category":"travel_and_places"},{"keywords":["motorway","road","cupertino","interstate","highway"],"char":"🛣","fitzpatrick_scale":false,"name":"motorway","category":"travel_and_places"},{"keywords":["railway_track","train","transportation"],"char":"🛤","fitzpatrick_scale":false,"name":"railway_track","category":"travel_and_places"},{"keywords":["sunrise","morning","view","vacation","photo"],"char":"🌅","fitzpatrick_scale":false,"name":"sunrise","category":"travel_and_places"},{"keywords":["sunrise_over_mountains","view","vacation","photo"],"char":"🌄","fitzpatrick_scale":false,"name":"sunrise_over_mountains","category":"travel_and_places"},{"keywords":["desert","photo","warm","saharah"],"char":"🏜","fitzpatrick_scale":false,"name":"desert","category":"travel_and_places"},{"keywords":["beach_umbrella","weather","summer","sunny","sand","mojito"],"char":"🏖","fitzpatrick_scale":false,"name":"beach_umbrella","category":"travel_and_places"},{"keywords":["desert_island","photo","tropical","mojito"],"char":"🏝","fitzpatrick_scale":false,"name":"desert_island","category":"travel_and_places"},{"keywords":["city_sunrise","photo","good morning","dawn"],"char":"🌇","fitzpatrick_scale":false,"name":"city_sunrise","category":"travel_and_places"},{"keywords":["city_sunset","photo","evening","sky","buildings"],"char":"🌆","fitzpatrick_scale":false,"name":"city_sunset","category":"travel_and_places"},{"keywords":["cityscape","photo","night life","urban"],"char":"🏙","fitzpatrick_scale":false,"name":"cityscape","category":"travel_and_places"},{"keywords":["night_with_stars","evening","city","downtown"],"char":"🌃","fitzpatrick_scale":false,"name":"night_with_stars","category":"travel_and_places"},{"keywords":["bridge_at_night","photo","sanfrancisco"],"char":"🌉","fitzpatrick_scale":false,"name":"bridge_at_night","category":"travel_and_places"},{"keywords":["milky_way","photo","space","stars"],"char":"🌌","fitzpatrick_scale":false,"name":"milky_way","category":"travel_and_places"},{"keywords":["stars","night","photo"],"char":"🌠","fitzpatrick_scale":false,"name":"stars","category":"travel_and_places"},{"keywords":["sparkler","stars","night","shine"],"char":"🎇","fitzpatrick_scale":false,"name":"sparkler","category":"travel_and_places"},{"keywords":["fireworks","photo","festival","carnival","congratulations"],"char":"🎆","fitzpatrick_scale":false,"name":"fireworks","category":"travel_and_places"},{"keywords":["rainbow","nature","happy","unicorn_face","photo","sky","spring"],"char":"🌈","fitzpatrick_scale":false,"name":"rainbow","category":"travel_and_places"},{"keywords":["houses","buildings","photo"],"char":"🏘","fitzpatrick_scale":false,"name":"houses","category":"travel_and_places"},{"keywords":["european_castle","building","royalty","history"],"char":"🏰","fitzpatrick_scale":false,"name":"european_castle","category":"travel_and_places"},{"keywords":["japanese_castle","photo","building"],"char":"🏯","fitzpatrick_scale":false,"name":"japanese_castle","category":"travel_and_places"},{"keywords":["stadium","photo","place","sports","concert","venue"],"char":"🏟","fitzpatrick_scale":false,"name":"stadium","category":"travel_and_places"},{"keywords":["statue_of_liberty","american","newyork"],"char":"🗽","fitzpatrick_scale":false,"name":"statue_of_liberty","category":"travel_and_places"},{"keywords":["house","building","home"],"char":"🏠","fitzpatrick_scale":false,"name":"house","category":"travel_and_places"},{"keywords":["house_with_garden","home","plant","nature"],"char":"🏡","fitzpatrick_scale":false,"name":"house_with_garden","category":"travel_and_places"},{"keywords":["derelict_house","abandon","evict","broken","building"],"char":"🏚","fitzpatrick_scale":false,"name":"derelict_house","category":"travel_and_places"},{"keywords":["office","building","bureau","work"],"char":"🏢","fitzpatrick_scale":false,"name":"office","category":"travel_and_places"},{"keywords":["department_store","building","shopping","mall"],"char":"🏬","fitzpatrick_scale":false,"name":"department_store","category":"travel_and_places"},{"keywords":["post_office","building","envelope","communication"],"char":"🏣","fitzpatrick_scale":false,"name":"post_office","category":"travel_and_places"},{"keywords":["european_post_office","building","email"],"char":"🏤","fitzpatrick_scale":false,"name":"european_post_office","category":"travel_and_places"},{"keywords":["hospital","building","health","surgery","doctor"],"char":"🏥","fitzpatrick_scale":false,"name":"hospital","category":"travel_and_places"},{"keywords":["bank","building","money","sales","cash","business","enterprise"],"char":"🏦","fitzpatrick_scale":false,"name":"bank","category":"travel_and_places"},{"keywords":["hotel","building","accomodation","checkin"],"char":"🏨","fitzpatrick_scale":false,"name":"hotel","category":"travel_and_places"},{"keywords":["convenience_store","building","shopping","groceries"],"char":"🏪","fitzpatrick_scale":false,"name":"convenience_store","category":"travel_and_places"},{"keywords":["school","building","student","education","learn","teach"],"char":"🏫","fitzpatrick_scale":false,"name":"school","category":"travel_and_places"},{"keywords":["love_hotel","like","affection","dating"],"char":"🏩","fitzpatrick_scale":false,"name":"love_hotel","category":"travel_and_places"},{"keywords":["wedding","love","like","affection","couple","marriage","bride","groom"],"char":"💒","fitzpatrick_scale":false,"name":"wedding","category":"travel_and_places"},{"keywords":["classical_building","art","culture","history"],"char":"🏛","fitzpatrick_scale":false,"name":"classical_building","category":"travel_and_places"},{"keywords":["church","building","religion","christ"],"char":"⛪","fitzpatrick_scale":false,"name":"church","category":"travel_and_places"},{"keywords":["mosque","islam","worship","minaret"],"char":"🕌","fitzpatrick_scale":false,"name":"mosque","category":"travel_and_places"},{"keywords":["synagogue","judaism","worship","temple","jewish"],"char":"🕍","fitzpatrick_scale":false,"name":"synagogue","category":"travel_and_places"},{"keywords":["kaaba","mecca","mosque","islam"],"char":"🕋","fitzpatrick_scale":false,"name":"kaaba","category":"travel_and_places"},{"keywords":["shinto_shrine","temple","japan","kyoto"],"char":"⛩","fitzpatrick_scale":false,"name":"shinto_shrine","category":"travel_and_places"},{"keywords":["watch","time","accessories"],"char":"⌚","fitzpatrick_scale":false,"name":"watch","category":"objects"},{"keywords":["iphone","technology","apple","gadgets","dial"],"char":"📱","fitzpatrick_scale":false,"name":"iphone","category":"objects"},{"keywords":["calling","iphone","incoming"],"char":"📲","fitzpatrick_scale":false,"name":"calling","category":"objects"},{"keywords":["computer","technology","laptop","screen","display","monitor"],"char":"💻","fitzpatrick_scale":false,"name":"computer","category":"objects"},{"keywords":["keyboard","technology","computer","type","input","text"],"char":"⌨","fitzpatrick_scale":false,"name":"keyboard","category":"objects"},{"keywords":["desktop_computer","technology","computing","screen"],"char":"🖥","fitzpatrick_scale":false,"name":"desktop_computer","category":"objects"},{"keywords":["printer","paper","ink"],"char":"🖨","fitzpatrick_scale":false,"name":"printer","category":"objects"},{"keywords":["computer_mouse","click"],"char":"🖱","fitzpatrick_scale":false,"name":"computer_mouse","category":"objects"},{"keywords":["trackball","technology","trackpad"],"char":"🖲","fitzpatrick_scale":false,"name":"trackball","category":"objects"},{"keywords":["joystick","game","play"],"char":"🕹","fitzpatrick_scale":false,"name":"joystick","category":"objects"},{"keywords":["clamp","tool"],"char":"🗜","fitzpatrick_scale":false,"name":"clamp","category":"objects"},{"keywords":["minidisc","technology","record","data","disk","90s"],"char":"💽","fitzpatrick_scale":false,"name":"minidisc","category":"objects"},{"keywords":["floppy_disk","oldschool","technology","save","90s","80s"],"char":"💾","fitzpatrick_scale":false,"name":"floppy_disk","category":"objects"},{"keywords":["cd","technology","dvd","disk","disc","90s"],"char":"💿","fitzpatrick_scale":false,"name":"cd","category":"objects"},{"keywords":["dvd","cd","disk","disc"],"char":"📀","fitzpatrick_scale":false,"name":"dvd","category":"objects"},{"keywords":["vhs","record","video","oldschool","90s","80s"],"char":"📼","fitzpatrick_scale":false,"name":"vhs","category":"objects"},{"keywords":["camera","gadgets","photography"],"char":"📷","fitzpatrick_scale":false,"name":"camera","category":"objects"},{"keywords":["camera_flash","photography","gadgets"],"char":"📸","fitzpatrick_scale":false,"name":"camera_flash","category":"objects"},{"keywords":["video_camera","film","record"],"char":"📹","fitzpatrick_scale":false,"name":"video_camera","category":"objects"},{"keywords":["movie_camera","film","record"],"char":"🎥","fitzpatrick_scale":false,"name":"movie_camera","category":"objects"},{"keywords":["film_projector","video","tape","record","movie"],"char":"📽","fitzpatrick_scale":false,"name":"film_projector","category":"objects"},{"keywords":["film_strip","movie"],"char":"🎞","fitzpatrick_scale":false,"name":"film_strip","category":"objects"},{"keywords":["telephone_receiver","technology","communication","dial"],"char":"📞","fitzpatrick_scale":false,"name":"telephone_receiver","category":"objects"},{"keywords":["phone","technology","communication","dial","telephone"],"char":"☎️","fitzpatrick_scale":false,"name":"phone","category":"objects"},{"keywords":["pager","bbcall","oldschool","90s"],"char":"📟","fitzpatrick_scale":false,"name":"pager","category":"objects"},{"keywords":["fax","communication","technology"],"char":"📠","fitzpatrick_scale":false,"name":"fax","category":"objects"},{"keywords":["tv","technology","program","oldschool","show","television"],"char":"📺","fitzpatrick_scale":false,"name":"tv","category":"objects"},{"keywords":["radio","communication","music","podcast","program"],"char":"📻","fitzpatrick_scale":false,"name":"radio","category":"objects"},{"keywords":["studio_microphone","sing","recording","artist","talkshow"],"char":"🎙","fitzpatrick_scale":false,"name":"studio_microphone","category":"objects"},{"keywords":["level_slider","scale"],"char":"🎚","fitzpatrick_scale":false,"name":"level_slider","category":"objects"},{"keywords":["control_knobs","dial"],"char":"🎛","fitzpatrick_scale":false,"name":"control_knobs","category":"objects"},{"keywords":["compass","magnetic","navigation","orienteering"],"char":"🧭","fitzpatrick_scale":false,"name":"compass","category":"objects"},{"keywords":["stopwatch","time","deadline"],"char":"⏱","fitzpatrick_scale":false,"name":"stopwatch","category":"objects"},{"keywords":["timer_clock","alarm"],"char":"⏲","fitzpatrick_scale":false,"name":"timer_clock","category":"objects"},{"keywords":["alarm_clock","time","wake"],"char":"⏰","fitzpatrick_scale":false,"name":"alarm_clock","category":"objects"},{"keywords":["mantelpiece_clock","time"],"char":"🕰","fitzpatrick_scale":false,"name":"mantelpiece_clock","category":"objects"},{"keywords":["hourglass_flowing_sand","oldschool","time","countdown"],"char":"⏳","fitzpatrick_scale":false,"name":"hourglass_flowing_sand","category":"objects"},{"keywords":["hourglass","time","clock","oldschool","limit","exam","quiz","test"],"char":"⌛","fitzpatrick_scale":false,"name":"hourglass","category":"objects"},{"keywords":["satellite","communication","future","radio","space"],"char":"📡","fitzpatrick_scale":false,"name":"satellite","category":"objects"},{"keywords":["battery","power","energy","sustain"],"char":"🔋","fitzpatrick_scale":false,"name":"battery","category":"objects"},{"keywords":["electric_plug","charger","power"],"char":"🔌","fitzpatrick_scale":false,"name":"electric_plug","category":"objects"},{"keywords":["bulb","light","electricity","idea"],"char":"💡","fitzpatrick_scale":false,"name":"bulb","category":"objects"},{"keywords":["flashlight","dark","camping","sight","night"],"char":"🔦","fitzpatrick_scale":false,"name":"flashlight","category":"objects"},{"keywords":["candle","fire","wax"],"char":"🕯","fitzpatrick_scale":false,"name":"candle","category":"objects"},{"keywords":["fire_extinguisher","quench"],"char":"🧯","fitzpatrick_scale":false,"name":"fire_extinguisher","category":"objects"},{"keywords":["wastebasket","bin","trash","rubbish","garbage","toss"],"char":"🗑","fitzpatrick_scale":false,"name":"wastebasket","category":"objects"},{"keywords":["oil_drum","barrell"],"char":"🛢","fitzpatrick_scale":false,"name":"oil_drum","category":"objects"},{"keywords":["money_with_wings","dollar","bills","payment","sale"],"char":"💸","fitzpatrick_scale":false,"name":"money_with_wings","category":"objects"},{"keywords":["dollar","money","sales","bill","currency"],"char":"💵","fitzpatrick_scale":false,"name":"dollar","category":"objects"},{"keywords":["yen","money","sales","japanese","dollar","currency"],"char":"💴","fitzpatrick_scale":false,"name":"yen","category":"objects"},{"keywords":["euro","money","sales","dollar","currency"],"char":"💶","fitzpatrick_scale":false,"name":"euro","category":"objects"},{"keywords":["pound","british","sterling","money","sales","bills","uk","england","currency"],"char":"💷","fitzpatrick_scale":false,"name":"pound","category":"objects"},{"keywords":["moneybag","dollar","payment","coins","sale"],"char":"💰","fitzpatrick_scale":false,"name":"moneybag","category":"objects"},{"keywords":["credit_card","money","sales","dollar","bill","payment","shopping"],"char":"💳","fitzpatrick_scale":false,"name":"credit_card","category":"objects"},{"keywords":["gem","blue","ruby","diamond","jewelry"],"char":"💎","fitzpatrick_scale":false,"name":"gem","category":"objects"},{"keywords":["balance_scale","law","fairness","weight"],"char":"⚖","fitzpatrick_scale":false,"name":"balance_scale","category":"objects"},{"keywords":["toolbox","tools","diy","fix","maintainer","mechanic"],"char":"🧰","fitzpatrick_scale":false,"name":"toolbox","category":"objects"},{"keywords":["wrench","tools","diy","ikea","fix","maintainer"],"char":"🔧","fitzpatrick_scale":false,"name":"wrench","category":"objects"},{"keywords":["hammer","tools","build","create"],"char":"🔨","fitzpatrick_scale":false,"name":"hammer","category":"objects"},{"keywords":["hammer_and_pick","tools","build","create"],"char":"⚒","fitzpatrick_scale":false,"name":"hammer_and_pick","category":"objects"},{"keywords":["hammer_and_wrench","tools","build","create"],"char":"🛠","fitzpatrick_scale":false,"name":"hammer_and_wrench","category":"objects"},{"keywords":["pick","tools","dig"],"char":"⛏","fitzpatrick_scale":false,"name":"pick","category":"objects"},{"keywords":["nut_and_bolt","handy","tools","fix"],"char":"🔩","fitzpatrick_scale":false,"name":"nut_and_bolt","category":"objects"},{"keywords":["gear","cog"],"char":"⚙","fitzpatrick_scale":false,"name":"gear","category":"objects"},{"keywords":["brick","bricks"],"char":"🧱","fitzpatrick_scale":false,"name":"brick","category":"objects"},{"keywords":["chains","lock","arrest"],"char":"⛓","fitzpatrick_scale":false,"name":"chains","category":"objects"},{"keywords":["magnet","attraction","magnetic"],"char":"🧲","fitzpatrick_scale":false,"name":"magnet","category":"objects"},{"keywords":["gun","violence","weapon","pistol","revolver"],"char":"🔫","fitzpatrick_scale":false,"name":"gun","category":"objects"},{"keywords":["bomb","boom","explode","explosion","terrorism"],"char":"💣","fitzpatrick_scale":false,"name":"bomb","category":"objects"},{"keywords":["firecracker","dynamite","boom","explode","explosion","explosive"],"char":"🧨","fitzpatrick_scale":false,"name":"firecracker","category":"objects"},{"keywords":["hocho","knife","blade","cutlery","kitchen","weapon"],"char":"🔪","fitzpatrick_scale":false,"name":"hocho","category":"objects"},{"keywords":["dagger","weapon"],"char":"🗡","fitzpatrick_scale":false,"name":"dagger","category":"objects"},{"keywords":["crossed_swords","weapon"],"char":"⚔","fitzpatrick_scale":false,"name":"crossed_swords","category":"objects"},{"keywords":["shield","protection","security"],"char":"🛡","fitzpatrick_scale":false,"name":"shield","category":"objects"},{"keywords":["smoking","kills","tobacco","cigarette","joint","smoke"],"char":"🚬","fitzpatrick_scale":false,"name":"smoking","category":"objects"},{"keywords":["skull_and_crossbones","poison","danger","deadly","scary","death","pirate","evil"],"char":"☠","fitzpatrick_scale":false,"name":"skull_and_crossbones","category":"objects"},{"keywords":["coffin","vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],"char":"⚰","fitzpatrick_scale":false,"name":"coffin","category":"objects"},{"keywords":["funeral_urn","dead","die","death","rip","ashes"],"char":"⚱","fitzpatrick_scale":false,"name":"funeral_urn","category":"objects"},{"keywords":["amphora","vase","jar"],"char":"🏺","fitzpatrick_scale":false,"name":"amphora","category":"objects"},{"keywords":["crystal_ball","disco","party","magic","circus","fortune_teller"],"char":"🔮","fitzpatrick_scale":false,"name":"crystal_ball","category":"objects"},{"keywords":["prayer_beads","dhikr","religious"],"char":"📿","fitzpatrick_scale":false,"name":"prayer_beads","category":"objects"},{"keywords":["nazar_amulet","bead","charm"],"char":"🧿","fitzpatrick_scale":false,"name":"nazar_amulet","category":"objects"},{"keywords":["barber","hair","salon","style"],"char":"💈","fitzpatrick_scale":false,"name":"barber","category":"objects"},{"keywords":["alembic","distilling","science","experiment","chemistry"],"char":"⚗","fitzpatrick_scale":false,"name":"alembic","category":"objects"},{"keywords":["telescope","stars","space","zoom","science","astronomy"],"char":"🔭","fitzpatrick_scale":false,"name":"telescope","category":"objects"},{"keywords":["microscope","laboratory","experiment","zoomin","science","study"],"char":"🔬","fitzpatrick_scale":false,"name":"microscope","category":"objects"},{"keywords":["hole","embarrassing"],"char":"🕳","fitzpatrick_scale":false,"name":"hole","category":"objects"},{"keywords":["pill","health","medicine","doctor","pharmacy","drug"],"char":"💊","fitzpatrick_scale":false,"name":"pill","category":"objects"},{"keywords":["syringe","health","hospital","drugs","blood","medicine","needle","doctor","nurse"],"char":"💉","fitzpatrick_scale":false,"name":"syringe","category":"objects"},{"keywords":["dna","biologist","genetics","life"],"char":"🧬","fitzpatrick_scale":false,"name":"dna","category":"objects"},{"keywords":["microbe","amoeba","bacteria","germs"],"char":"🦠","fitzpatrick_scale":false,"name":"microbe","category":"objects"},{"keywords":["petri_dish","bacteria","biology","culture","lab"],"char":"🧫","fitzpatrick_scale":false,"name":"petri_dish","category":"objects"},{"keywords":["test_tube","chemistry","experiment","lab","science"],"char":"🧪","fitzpatrick_scale":false,"name":"test_tube","category":"objects"},{"keywords":["thermometer","weather","temperature","hot","cold"],"char":"🌡","fitzpatrick_scale":false,"name":"thermometer","category":"objects"},{"keywords":["broom","cleaning","sweeping","witch"],"char":"🧹","fitzpatrick_scale":false,"name":"broom","category":"objects"},{"keywords":["basket","laundry"],"char":"🧺","fitzpatrick_scale":false,"name":"basket","category":"objects"},{"keywords":["toilet_paper","roll"],"char":"🧻","fitzpatrick_scale":false,"name":"toilet_paper","category":"objects"},{"keywords":["label","sale","tag"],"char":"🏷","fitzpatrick_scale":false,"name":"label","category":"objects"},{"keywords":["bookmark","favorite","label","save"],"char":"🔖","fitzpatrick_scale":false,"name":"bookmark","category":"objects"},{"keywords":["toilet","restroom","wc","washroom","bathroom","potty"],"char":"🚽","fitzpatrick_scale":false,"name":"toilet","category":"objects"},{"keywords":["shower","clean","water","bathroom"],"char":"🚿","fitzpatrick_scale":false,"name":"shower","category":"objects"},{"keywords":["bathtub","clean","shower","bathroom"],"char":"🛁","fitzpatrick_scale":false,"name":"bathtub","category":"objects"},{"keywords":["soap","bar","bathing","cleaning","lather"],"char":"🧼","fitzpatrick_scale":false,"name":"soap","category":"objects"},{"keywords":["sponge","absorbing","cleaning","porous"],"char":"🧽","fitzpatrick_scale":false,"name":"sponge","category":"objects"},{"keywords":["lotion_bottle","moisturizer","sunscreen"],"char":"🧴","fitzpatrick_scale":false,"name":"lotion_bottle","category":"objects"},{"keywords":["key","lock","door","password"],"char":"🔑","fitzpatrick_scale":false,"name":"key","category":"objects"},{"keywords":["old_key","lock","door","password"],"char":"🗝","fitzpatrick_scale":false,"name":"old_key","category":"objects"},{"keywords":["couch_and_lamp","read","chill"],"char":"🛋","fitzpatrick_scale":false,"name":"couch_and_lamp","category":"objects"},{"keywords":["sleeping_bed","bed","rest"],"char":"🛌","fitzpatrick_scale":true,"name":"sleeping_bed","category":"objects"},{"keywords":["bed","sleep","rest"],"char":"🛏","fitzpatrick_scale":false,"name":"bed","category":"objects"},{"keywords":["door","house","entry","exit"],"char":"🚪","fitzpatrick_scale":false,"name":"door","category":"objects"},{"keywords":["bellhop_bell","service"],"char":"🛎","fitzpatrick_scale":false,"name":"bellhop_bell","category":"objects"},{"keywords":["teddy_bear","plush","stuffed"],"char":"🧸","fitzpatrick_scale":false,"name":"teddy_bear","category":"objects"},{"keywords":["framed_picture","photography"],"char":"🖼","fitzpatrick_scale":false,"name":"framed_picture","category":"objects"},{"keywords":["world_map","location","direction"],"char":"🗺","fitzpatrick_scale":false,"name":"world_map","category":"objects"},{"keywords":["parasol_on_ground","weather","summer"],"char":"⛱","fitzpatrick_scale":false,"name":"parasol_on_ground","category":"objects"},{"keywords":["moyai","rock","easter island","moai"],"char":"🗿","fitzpatrick_scale":false,"name":"moyai","category":"objects"},{"keywords":["shopping","mall","buy","purchase"],"char":"🛍","fitzpatrick_scale":false,"name":"shopping","category":"objects"},{"keywords":["shopping_cart","trolley"],"char":"🛒","fitzpatrick_scale":false,"name":"shopping_cart","category":"objects"},{"keywords":["balloon","party","celebration","birthday","circus"],"char":"🎈","fitzpatrick_scale":false,"name":"balloon","category":"objects"},{"keywords":["flags","fish","japanese","koinobori","carp","banner"],"char":"🎏","fitzpatrick_scale":false,"name":"flags","category":"objects"},{"keywords":["ribbon","decoration","pink","girl","bowtie"],"char":"🎀","fitzpatrick_scale":false,"name":"ribbon","category":"objects"},{"keywords":["gift","present","birthday","christmas","xmas"],"char":"🎁","fitzpatrick_scale":false,"name":"gift","category":"objects"},{"keywords":["confetti_ball","festival","party","birthday","circus"],"char":"🎊","fitzpatrick_scale":false,"name":"confetti_ball","category":"objects"},{"keywords":["tada","party","congratulations","birthday","magic","circus","celebration"],"char":"🎉","fitzpatrick_scale":false,"name":"tada","category":"objects"},{"keywords":["dolls","japanese","toy","kimono"],"char":"🎎","fitzpatrick_scale":false,"name":"dolls","category":"objects"},{"keywords":["wind_chime","nature","ding","spring","bell"],"char":"🎐","fitzpatrick_scale":false,"name":"wind_chime","category":"objects"},{"keywords":["crossed_flags","japanese","nation","country","border"],"char":"🎌","fitzpatrick_scale":false,"name":"crossed_flags","category":"objects"},{"keywords":["izakaya_lantern","light","paper","halloween","spooky"],"char":"🏮","fitzpatrick_scale":false,"name":"izakaya_lantern","category":"objects"},{"keywords":["red_envelope","gift"],"char":"🧧","fitzpatrick_scale":false,"name":"red_envelope","category":"objects"},{"keywords":["email","letter","postal","inbox","communication"],"char":"✉️","fitzpatrick_scale":false,"name":"email","category":"objects"},{"keywords":["envelope_with_arrow","email","communication"],"char":"📩","fitzpatrick_scale":false,"name":"envelope_with_arrow","category":"objects"},{"keywords":["incoming_envelope","email","inbox"],"char":"📨","fitzpatrick_scale":false,"name":"incoming_envelope","category":"objects"},{"keywords":["e-mail","communication","inbox"],"char":"📧","fitzpatrick_scale":false,"name":"e-mail","category":"objects"},{"keywords":["love_letter","email","like","affection","envelope","valentines"],"char":"💌","fitzpatrick_scale":false,"name":"love_letter","category":"objects"},{"keywords":["postbox","email","letter","envelope"],"char":"📮","fitzpatrick_scale":false,"name":"postbox","category":"objects"},{"keywords":["mailbox_closed","email","communication","inbox"],"char":"📪","fitzpatrick_scale":false,"name":"mailbox_closed","category":"objects"},{"keywords":["mailbox","email","inbox","communication"],"char":"📫","fitzpatrick_scale":false,"name":"mailbox","category":"objects"},{"keywords":["mailbox_with_mail","email","inbox","communication"],"char":"📬","fitzpatrick_scale":false,"name":"mailbox_with_mail","category":"objects"},{"keywords":["mailbox_with_no_mail","email","inbox"],"char":"📭","fitzpatrick_scale":false,"name":"mailbox_with_no_mail","category":"objects"},{"keywords":["package","mail","gift","cardboard","box","moving"],"char":"📦","fitzpatrick_scale":false,"name":"package","category":"objects"},{"keywords":["postal_horn","instrument","music"],"char":"📯","fitzpatrick_scale":false,"name":"postal_horn","category":"objects"},{"keywords":["inbox_tray","email","documents"],"char":"📥","fitzpatrick_scale":false,"name":"inbox_tray","category":"objects"},{"keywords":["outbox_tray","inbox","email"],"char":"📤","fitzpatrick_scale":false,"name":"outbox_tray","category":"objects"},{"keywords":["scroll","documents","ancient","history","paper"],"char":"📜","fitzpatrick_scale":false,"name":"scroll","category":"objects"},{"keywords":["page_with_curl","documents","office","paper"],"char":"📃","fitzpatrick_scale":false,"name":"page_with_curl","category":"objects"},{"keywords":["bookmark_tabs","favorite","save","order","tidy"],"char":"📑","fitzpatrick_scale":false,"name":"bookmark_tabs","category":"objects"},{"keywords":["receipt","accounting","expenses"],"char":"🧾","fitzpatrick_scale":false,"name":"receipt","category":"objects"},{"keywords":["bar_chart","graph","presentation","stats"],"char":"📊","fitzpatrick_scale":false,"name":"bar_chart","category":"objects"},{"keywords":["chart_with_upwards_trend","graph","presentation","stats","recovery","business","economics","money","sales","good","success"],"char":"📈","fitzpatrick_scale":false,"name":"chart_with_upwards_trend","category":"objects"},{"keywords":["chart_with_downwards_trend","graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],"char":"📉","fitzpatrick_scale":false,"name":"chart_with_downwards_trend","category":"objects"},{"keywords":["page_facing_up","documents","office","paper","information"],"char":"📄","fitzpatrick_scale":false,"name":"page_facing_up","category":"objects"},{"keywords":["date","calendar","schedule"],"char":"📅","fitzpatrick_scale":false,"name":"date","category":"objects"},{"keywords":["calendar","schedule","date","planning"],"char":"📆","fitzpatrick_scale":false,"name":"calendar","category":"objects"},{"keywords":["spiral_calendar","date","schedule","planning"],"char":"🗓","fitzpatrick_scale":false,"name":"spiral_calendar","category":"objects"},{"keywords":["card_index","business","stationery"],"char":"📇","fitzpatrick_scale":false,"name":"card_index","category":"objects"},{"keywords":["card_file_box","business","stationery"],"char":"🗃","fitzpatrick_scale":false,"name":"card_file_box","category":"objects"},{"keywords":["ballot_box","election","vote"],"char":"🗳","fitzpatrick_scale":false,"name":"ballot_box","category":"objects"},{"keywords":["file_cabinet","filing","organizing"],"char":"🗄","fitzpatrick_scale":false,"name":"file_cabinet","category":"objects"},{"keywords":["clipboard","stationery","documents"],"char":"📋","fitzpatrick_scale":false,"name":"clipboard","category":"objects"},{"keywords":["spiral_notepad","memo","stationery"],"char":"🗒","fitzpatrick_scale":false,"name":"spiral_notepad","category":"objects"},{"keywords":["file_folder","documents","business","office"],"char":"📁","fitzpatrick_scale":false,"name":"file_folder","category":"objects"},{"keywords":["open_file_folder","documents","load"],"char":"📂","fitzpatrick_scale":false,"name":"open_file_folder","category":"objects"},{"keywords":["card_index_dividers","organizing","business","stationery"],"char":"🗂","fitzpatrick_scale":false,"name":"card_index_dividers","category":"objects"},{"keywords":["newspaper_roll","press","headline"],"char":"🗞","fitzpatrick_scale":false,"name":"newspaper_roll","category":"objects"},{"keywords":["newspaper","press","headline"],"char":"📰","fitzpatrick_scale":false,"name":"newspaper","category":"objects"},{"keywords":["notebook","stationery","record","notes","paper","study"],"char":"📓","fitzpatrick_scale":false,"name":"notebook","category":"objects"},{"keywords":["closed_book","read","library","knowledge","textbook","learn"],"char":"📕","fitzpatrick_scale":false,"name":"closed_book","category":"objects"},{"keywords":["green_book","read","library","knowledge","study"],"char":"📗","fitzpatrick_scale":false,"name":"green_book","category":"objects"},{"keywords":["blue_book","read","library","knowledge","learn","study"],"char":"📘","fitzpatrick_scale":false,"name":"blue_book","category":"objects"},{"keywords":["orange_book","read","library","knowledge","textbook","study"],"char":"📙","fitzpatrick_scale":false,"name":"orange_book","category":"objects"},{"keywords":["notebook_with_decorative_cover","classroom","notes","record","paper","study"],"char":"📔","fitzpatrick_scale":false,"name":"notebook_with_decorative_cover","category":"objects"},{"keywords":["ledger","notes","paper"],"char":"📒","fitzpatrick_scale":false,"name":"ledger","category":"objects"},{"keywords":["books","literature","library","study"],"char":"📚","fitzpatrick_scale":false,"name":"books","category":"objects"},{"keywords":["open_book","book","read","library","knowledge","literature","learn","study"],"char":"📖","fitzpatrick_scale":false,"name":"open_book","category":"objects"},{"keywords":["safety_pin","diaper"],"char":"🧷","fitzpatrick_scale":false,"name":"safety_pin","category":"objects"},{"keywords":["link","rings","url"],"char":"🔗","fitzpatrick_scale":false,"name":"link","category":"objects"},{"keywords":["paperclip","documents","stationery"],"char":"📎","fitzpatrick_scale":false,"name":"paperclip","category":"objects"},{"keywords":["paperclips","documents","stationery"],"char":"🖇","fitzpatrick_scale":false,"name":"paperclips","category":"objects"},{"keywords":["scissors","stationery","cut"],"char":"✂️","fitzpatrick_scale":false,"name":"scissors","category":"objects"},{"keywords":["triangular_ruler","stationery","math","architect","sketch"],"char":"📐","fitzpatrick_scale":false,"name":"triangular_ruler","category":"objects"},{"keywords":["straight_ruler","stationery","calculate","length","math","school","drawing","architect","sketch"],"char":"📏","fitzpatrick_scale":false,"name":"straight_ruler","category":"objects"},{"keywords":["abacus","calculation"],"char":"🧮","fitzpatrick_scale":false,"name":"abacus","category":"objects"},{"keywords":["pushpin","stationery","mark","here"],"char":"📌","fitzpatrick_scale":false,"name":"pushpin","category":"objects"},{"keywords":["round_pushpin","stationery","location","map","here"],"char":"📍","fitzpatrick_scale":false,"name":"round_pushpin","category":"objects"},{"keywords":["triangular_flag_on_post","mark","milestone","place"],"char":"🚩","fitzpatrick_scale":false,"name":"triangular_flag_on_post","category":"objects"},{"keywords":["white_flag","losing","loser","lost","surrender","give up","fail"],"char":"🏳","fitzpatrick_scale":false,"name":"white_flag","category":"objects"},{"keywords":["black_flag","pirate"],"char":"🏴","fitzpatrick_scale":false,"name":"black_flag","category":"objects"},{"keywords":["rainbow_flag","flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],"char":"🏳️‍🌈","fitzpatrick_scale":false,"name":"rainbow_flag","category":"objects"},{"keywords":["closed_lock_with_key","security","privacy"],"char":"🔐","fitzpatrick_scale":false,"name":"closed_lock_with_key","category":"objects"},{"keywords":["lock","security","password","padlock"],"char":"🔒","fitzpatrick_scale":false,"name":"lock","category":"objects"},{"keywords":["unlock","privacy","security"],"char":"🔓","fitzpatrick_scale":false,"name":"unlock","category":"objects"},{"keywords":["lock_with_ink_pen","security","secret"],"char":"🔏","fitzpatrick_scale":false,"name":"lock_with_ink_pen","category":"objects"},{"keywords":["pen","stationery","writing","write"],"char":"🖊","fitzpatrick_scale":false,"name":"pen","category":"objects"},{"keywords":["fountain_pen","stationery","writing","write"],"char":"🖋","fitzpatrick_scale":false,"name":"fountain_pen","category":"objects"},{"keywords":["black_nib","pen","stationery","writing","write"],"char":"✒️","fitzpatrick_scale":false,"name":"black_nib","category":"objects"},{"keywords":["memo","write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],"char":"📝","fitzpatrick_scale":false,"name":"memo","category":"objects"},{"keywords":["pencil2","stationery","write","paper","writing","school","study"],"char":"✏️","fitzpatrick_scale":false,"name":"pencil2","category":"objects"},{"keywords":["crayon","drawing","creativity"],"char":"🖍","fitzpatrick_scale":false,"name":"crayon","category":"objects"},{"keywords":["paintbrush","drawing","creativity","art"],"char":"🖌","fitzpatrick_scale":false,"name":"paintbrush","category":"objects"},{"keywords":["mag","search","zoom","find","detective"],"char":"🔍","fitzpatrick_scale":false,"name":"mag","category":"objects"},{"keywords":["mag_right","search","zoom","find","detective"],"char":"🔎","fitzpatrick_scale":false,"name":"mag_right","category":"objects"},{"keywords":["heart","love","like","valentines"],"char":"❤️","fitzpatrick_scale":false,"name":"heart","category":"symbols"},{"keywords":["orange_heart","love","like","affection","valentines"],"char":"🧡","fitzpatrick_scale":false,"name":"orange_heart","category":"symbols"},{"keywords":["yellow_heart","love","like","affection","valentines"],"char":"💛","fitzpatrick_scale":false,"name":"yellow_heart","category":"symbols"},{"keywords":["green_heart","love","like","affection","valentines"],"char":"💚","fitzpatrick_scale":false,"name":"green_heart","category":"symbols"},{"keywords":["blue_heart","love","like","affection","valentines"],"char":"💙","fitzpatrick_scale":false,"name":"blue_heart","category":"symbols"},{"keywords":["purple_heart","love","like","affection","valentines"],"char":"💜","fitzpatrick_scale":false,"name":"purple_heart","category":"symbols"},{"keywords":["black_heart","evil"],"char":"🖤","fitzpatrick_scale":false,"name":"black_heart","category":"symbols"},{"keywords":["broken_heart","sad","sorry","break","heart","heartbreak"],"char":"💔","fitzpatrick_scale":false,"name":"broken_heart","category":"symbols"},{"keywords":["heavy_heart_exclamation","decoration","love"],"char":"❣","fitzpatrick_scale":false,"name":"heavy_heart_exclamation","category":"symbols"},{"keywords":["two_hearts","love","like","affection","valentines","heart"],"char":"💕","fitzpatrick_scale":false,"name":"two_hearts","category":"symbols"},{"keywords":["revolving_hearts","love","like","affection","valentines"],"char":"💞","fitzpatrick_scale":false,"name":"revolving_hearts","category":"symbols"},{"keywords":["heartbeat","love","like","affection","valentines","pink","heart"],"char":"💓","fitzpatrick_scale":false,"name":"heartbeat","category":"symbols"},{"keywords":["heartpulse","like","love","affection","valentines","pink"],"char":"💗","fitzpatrick_scale":false,"name":"heartpulse","category":"symbols"},{"keywords":["sparkling_heart","love","like","affection","valentines"],"char":"💖","fitzpatrick_scale":false,"name":"sparkling_heart","category":"symbols"},{"keywords":["cupid","love","like","heart","affection","valentines"],"char":"💘","fitzpatrick_scale":false,"name":"cupid","category":"symbols"},{"keywords":["gift_heart","love","valentines"],"char":"💝","fitzpatrick_scale":false,"name":"gift_heart","category":"symbols"},{"keywords":["heart_decoration","purple-square","love","like"],"char":"💟","fitzpatrick_scale":false,"name":"heart_decoration","category":"symbols"},{"keywords":["peace_symbol","hippie"],"char":"☮","fitzpatrick_scale":false,"name":"peace_symbol","category":"symbols"},{"keywords":["latin_cross","christianity"],"char":"✝","fitzpatrick_scale":false,"name":"latin_cross","category":"symbols"},{"keywords":["star_and_crescent","islam"],"char":"☪","fitzpatrick_scale":false,"name":"star_and_crescent","category":"symbols"},{"keywords":["om","hinduism","buddhism","sikhism","jainism"],"char":"🕉","fitzpatrick_scale":false,"name":"om","category":"symbols"},{"keywords":["wheel_of_dharma","hinduism","buddhism","sikhism","jainism"],"char":"☸","fitzpatrick_scale":false,"name":"wheel_of_dharma","category":"symbols"},{"keywords":["star_of_david","judaism"],"char":"✡","fitzpatrick_scale":false,"name":"star_of_david","category":"symbols"},{"keywords":["six_pointed_star","purple-square","religion","jewish","hexagram"],"char":"🔯","fitzpatrick_scale":false,"name":"six_pointed_star","category":"symbols"},{"keywords":["menorah","hanukkah","candles","jewish"],"char":"🕎","fitzpatrick_scale":false,"name":"menorah","category":"symbols"},{"keywords":["yin_yang","balance"],"char":"☯","fitzpatrick_scale":false,"name":"yin_yang","category":"symbols"},{"keywords":["orthodox_cross","suppedaneum","religion"],"char":"☦","fitzpatrick_scale":false,"name":"orthodox_cross","category":"symbols"},{"keywords":["place_of_worship","religion","church","temple","prayer"],"char":"🛐","fitzpatrick_scale":false,"name":"place_of_worship","category":"symbols"},{"keywords":["ophiuchus","sign","purple-square","constellation","astrology"],"char":"⛎","fitzpatrick_scale":false,"name":"ophiuchus","category":"symbols"},{"keywords":["aries","sign","purple-square","zodiac","astrology"],"char":"♈","fitzpatrick_scale":false,"name":"aries","category":"symbols"},{"keywords":["taurus","purple-square","sign","zodiac","astrology"],"char":"♉","fitzpatrick_scale":false,"name":"taurus","category":"symbols"},{"keywords":["gemini","sign","zodiac","purple-square","astrology"],"char":"♊","fitzpatrick_scale":false,"name":"gemini","category":"symbols"},{"keywords":["cancer","sign","zodiac","purple-square","astrology"],"char":"♋","fitzpatrick_scale":false,"name":"cancer","category":"symbols"},{"keywords":["leo","sign","purple-square","zodiac","astrology"],"char":"♌","fitzpatrick_scale":false,"name":"leo","category":"symbols"},{"keywords":["virgo","sign","zodiac","purple-square","astrology"],"char":"♍","fitzpatrick_scale":false,"name":"virgo","category":"symbols"},{"keywords":["libra","sign","purple-square","zodiac","astrology"],"char":"♎","fitzpatrick_scale":false,"name":"libra","category":"symbols"},{"keywords":["scorpius","sign","zodiac","purple-square","astrology","scorpio"],"char":"♏","fitzpatrick_scale":false,"name":"scorpius","category":"symbols"},{"keywords":["sagittarius","sign","zodiac","purple-square","astrology"],"char":"♐","fitzpatrick_scale":false,"name":"sagittarius","category":"symbols"},{"keywords":["capricorn","sign","zodiac","purple-square","astrology"],"char":"♑","fitzpatrick_scale":false,"name":"capricorn","category":"symbols"},{"keywords":["aquarius","sign","purple-square","zodiac","astrology"],"char":"♒","fitzpatrick_scale":false,"name":"aquarius","category":"symbols"},{"keywords":["pisces","purple-square","sign","zodiac","astrology"],"char":"♓","fitzpatrick_scale":false,"name":"pisces","category":"symbols"},{"keywords":["id","purple-square","words"],"char":"🆔","fitzpatrick_scale":false,"name":"id","category":"symbols"},{"keywords":["atom_symbol","science","physics","chemistry"],"char":"⚛","fitzpatrick_scale":false,"name":"atom_symbol","category":"symbols"},{"keywords":["u7a7a","kanji","japanese","chinese","empty","sky","blue-square"],"char":"🈳","fitzpatrick_scale":false,"name":"u7a7a","category":"symbols"},{"keywords":["u5272","cut","divide","chinese","kanji","pink-square"],"char":"🈹","fitzpatrick_scale":false,"name":"u5272","category":"symbols"},{"keywords":["radioactive","nuclear","danger"],"char":"☢","fitzpatrick_scale":false,"name":"radioactive","category":"symbols"},{"keywords":["biohazard","danger"],"char":"☣","fitzpatrick_scale":false,"name":"biohazard","category":"symbols"},{"keywords":["mobile_phone_off","mute","orange-square","silence","quiet"],"char":"📴","fitzpatrick_scale":false,"name":"mobile_phone_off","category":"symbols"},{"keywords":["vibration_mode","orange-square","phone"],"char":"📳","fitzpatrick_scale":false,"name":"vibration_mode","category":"symbols"},{"keywords":["u6709","orange-square","chinese","have","kanji"],"char":"🈶","fitzpatrick_scale":false,"name":"u6709","category":"symbols"},{"keywords":["u7121","nothing","chinese","kanji","japanese","orange-square"],"char":"🈚","fitzpatrick_scale":false,"name":"u7121","category":"symbols"},{"keywords":["u7533","chinese","japanese","kanji","orange-square"],"char":"🈸","fitzpatrick_scale":false,"name":"u7533","category":"symbols"},{"keywords":["u55b6","japanese","opening hours","orange-square"],"char":"🈺","fitzpatrick_scale":false,"name":"u55b6","category":"symbols"},{"keywords":["u6708","chinese","month","moon","japanese","orange-square","kanji"],"char":"🈷️","fitzpatrick_scale":false,"name":"u6708","category":"symbols"},{"keywords":["eight_pointed_black_star","orange-square","shape","polygon"],"char":"✴️","fitzpatrick_scale":false,"name":"eight_pointed_black_star","category":"symbols"},{"keywords":["vs","words","orange-square"],"char":"🆚","fitzpatrick_scale":false,"name":"vs","category":"symbols"},{"keywords":["accept","ok","good","chinese","kanji","agree","yes","orange-circle"],"char":"🉑","fitzpatrick_scale":false,"name":"accept","category":"symbols"},{"keywords":["white_flower","japanese","spring"],"char":"💮","fitzpatrick_scale":false,"name":"white_flower","category":"symbols"},{"keywords":["ideograph_advantage","chinese","kanji","obtain","get","circle"],"char":"🉐","fitzpatrick_scale":false,"name":"ideograph_advantage","category":"symbols"},{"keywords":["secret","privacy","chinese","sshh","kanji","red-circle"],"char":"㊙️","fitzpatrick_scale":false,"name":"secret","category":"symbols"},{"keywords":["congratulations","chinese","kanji","japanese","red-circle"],"char":"㊗️","fitzpatrick_scale":false,"name":"congratulations","category":"symbols"},{"keywords":["u5408","japanese","chinese","join","kanji","red-square"],"char":"🈴","fitzpatrick_scale":false,"name":"u5408","category":"symbols"},{"keywords":["u6e80","full","chinese","japanese","red-square","kanji"],"char":"🈵","fitzpatrick_scale":false,"name":"u6e80","category":"symbols"},{"keywords":["u7981","kanji","japanese","chinese","forbidden","limit","restricted","red-square"],"char":"🈲","fitzpatrick_scale":false,"name":"u7981","category":"symbols"},{"keywords":["a","red-square","alphabet","letter"],"char":"🅰️","fitzpatrick_scale":false,"name":"a","category":"symbols"},{"keywords":["b","red-square","alphabet","letter"],"char":"🅱️","fitzpatrick_scale":false,"name":"b","category":"symbols"},{"keywords":["ab","red-square","alphabet"],"char":"🆎","fitzpatrick_scale":false,"name":"ab","category":"symbols"},{"keywords":["cl","alphabet","words","red-square"],"char":"🆑","fitzpatrick_scale":false,"name":"cl","category":"symbols"},{"keywords":["o2","alphabet","red-square","letter"],"char":"🅾️","fitzpatrick_scale":false,"name":"o2","category":"symbols"},{"keywords":["sos","help","red-square","words","emergency","911"],"char":"🆘","fitzpatrick_scale":false,"name":"sos","category":"symbols"},{"keywords":["no_entry","limit","security","privacy","bad","denied","stop","circle"],"char":"⛔","fitzpatrick_scale":false,"name":"no_entry","category":"symbols"},{"keywords":["name_badge","fire","forbid"],"char":"📛","fitzpatrick_scale":false,"name":"name_badge","category":"symbols"},{"keywords":["no_entry_sign","forbid","stop","limit","denied","disallow","circle"],"char":"🚫","fitzpatrick_scale":false,"name":"no_entry_sign","category":"symbols"},{"keywords":["x","no","delete","remove","cancel","red"],"char":"❌","fitzpatrick_scale":false,"name":"x","category":"symbols"},{"keywords":["o","circle","round"],"char":"⭕","fitzpatrick_scale":false,"name":"o","category":"symbols"},{"keywords":["stop_sign","stop"],"char":"🛑","fitzpatrick_scale":false,"name":"stop_sign","category":"symbols"},{"keywords":["anger","angry","mad"],"char":"💢","fitzpatrick_scale":false,"name":"anger","category":"symbols"},{"keywords":["hotsprings","bath","warm","relax"],"char":"♨️","fitzpatrick_scale":false,"name":"hotsprings","category":"symbols"},{"keywords":["no_pedestrians","rules","crossing","walking","circle"],"char":"🚷","fitzpatrick_scale":false,"name":"no_pedestrians","category":"symbols"},{"keywords":["do_not_litter","trash","bin","garbage","circle"],"char":"🚯","fitzpatrick_scale":false,"name":"do_not_litter","category":"symbols"},{"keywords":["no_bicycles","cyclist","prohibited","circle"],"char":"🚳","fitzpatrick_scale":false,"name":"no_bicycles","category":"symbols"},{"keywords":["non-potable_water","drink","faucet","tap","circle"],"char":"🚱","fitzpatrick_scale":false,"name":"non-potable_water","category":"symbols"},{"keywords":["underage","18","drink","pub","night","minor","circle"],"char":"🔞","fitzpatrick_scale":false,"name":"underage","category":"symbols"},{"keywords":["no_mobile_phones","iphone","mute","circle"],"char":"📵","fitzpatrick_scale":false,"name":"no_mobile_phones","category":"symbols"},{"keywords":["exclamation","heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],"char":"❗","fitzpatrick_scale":false,"name":"exclamation","category":"symbols"},{"keywords":["grey_exclamation","surprise","punctuation","gray","wow","warning"],"char":"❕","fitzpatrick_scale":false,"name":"grey_exclamation","category":"symbols"},{"keywords":["question","doubt","confused"],"char":"❓","fitzpatrick_scale":false,"name":"question","category":"symbols"},{"keywords":["grey_question","doubts","gray","huh","confused"],"char":"❔","fitzpatrick_scale":false,"name":"grey_question","category":"symbols"},{"keywords":["bangbang","exclamation","surprise"],"char":"‼️","fitzpatrick_scale":false,"name":"bangbang","category":"symbols"},{"keywords":["interrobang","wat","punctuation","surprise"],"char":"⁉️","fitzpatrick_scale":false,"name":"interrobang","category":"symbols"},{"keywords":["100","score","perfect","numbers","century","exam","quiz","test","pass","hundred"],"char":"💯","fitzpatrick_scale":false,"name":"100","category":"symbols"},{"keywords":["low_brightness","sun","afternoon","warm","summer"],"char":"🔅","fitzpatrick_scale":false,"name":"low_brightness","category":"symbols"},{"keywords":["high_brightness","sun","light"],"char":"🔆","fitzpatrick_scale":false,"name":"high_brightness","category":"symbols"},{"keywords":["trident","weapon","spear"],"char":"🔱","fitzpatrick_scale":false,"name":"trident","category":"symbols"},{"keywords":["fleur_de_lis","decorative","scout"],"char":"⚜","fitzpatrick_scale":false,"name":"fleur_de_lis","category":"symbols"},{"keywords":["part_alternation_mark","graph","presentation","stats","business","economics","bad"],"char":"〽️","fitzpatrick_scale":false,"name":"part_alternation_mark","category":"symbols"},{"keywords":["warning","exclamation","wip","alert","error","problem","issue"],"char":"⚠️","fitzpatrick_scale":false,"name":"warning","category":"symbols"},{"keywords":["children_crossing","school","warning","danger","sign","driving","yellow-diamond"],"char":"🚸","fitzpatrick_scale":false,"name":"children_crossing","category":"symbols"},{"keywords":["beginner","badge","shield"],"char":"🔰","fitzpatrick_scale":false,"name":"beginner","category":"symbols"},{"keywords":["recycle","arrow","environment","garbage","trash"],"char":"♻️","fitzpatrick_scale":false,"name":"recycle","category":"symbols"},{"keywords":["u6307","chinese","point","green-square","kanji"],"char":"🈯","fitzpatrick_scale":false,"name":"u6307","category":"symbols"},{"keywords":["chart","green-square","graph","presentation","stats"],"char":"💹","fitzpatrick_scale":false,"name":"chart","category":"symbols"},{"keywords":["sparkle","stars","green-square","awesome","good","fireworks"],"char":"❇️","fitzpatrick_scale":false,"name":"sparkle","category":"symbols"},{"keywords":["eight_spoked_asterisk","star","sparkle","green-square"],"char":"✳️","fitzpatrick_scale":false,"name":"eight_spoked_asterisk","category":"symbols"},{"keywords":["negative_squared_cross_mark","x","green-square","no","deny"],"char":"❎","fitzpatrick_scale":false,"name":"negative_squared_cross_mark","category":"symbols"},{"keywords":["white_check_mark","green-square","ok","agree","vote","election","answer","tick"],"char":"✅","fitzpatrick_scale":false,"name":"white_check_mark","category":"symbols"},{"keywords":["diamond_shape_with_a_dot_inside","jewel","blue","gem","crystal","fancy"],"char":"💠","fitzpatrick_scale":false,"name":"diamond_shape_with_a_dot_inside","category":"symbols"},{"keywords":["cyclone","weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],"char":"🌀","fitzpatrick_scale":false,"name":"cyclone","category":"symbols"},{"keywords":["loop","tape","cassette"],"char":"➿","fitzpatrick_scale":false,"name":"loop","category":"symbols"},{"keywords":["globe_with_meridians","earth","international","world","internet","interweb","i18n"],"char":"🌐","fitzpatrick_scale":false,"name":"globe_with_meridians","category":"symbols"},{"keywords":["m","alphabet","blue-circle","letter"],"char":"Ⓜ️","fitzpatrick_scale":false,"name":"m","category":"symbols"},{"keywords":["atm","money","sales","cash","blue-square","payment","bank"],"char":"🏧","fitzpatrick_scale":false,"name":"atm","category":"symbols"},{"keywords":["sa","japanese","blue-square","katakana"],"char":"🈂️","fitzpatrick_scale":false,"name":"sa","category":"symbols"},{"keywords":["passport_control","custom","blue-square"],"char":"🛂","fitzpatrick_scale":false,"name":"passport_control","category":"symbols"},{"keywords":["customs","passport","border","blue-square"],"char":"🛃","fitzpatrick_scale":false,"name":"customs","category":"symbols"},{"keywords":["baggage_claim","blue-square","airport","transport"],"char":"🛄","fitzpatrick_scale":false,"name":"baggage_claim","category":"symbols"},{"keywords":["left_luggage","blue-square","travel"],"char":"🛅","fitzpatrick_scale":false,"name":"left_luggage","category":"symbols"},{"keywords":["wheelchair","blue-square","disabled","a11y","accessibility"],"char":"♿","fitzpatrick_scale":false,"name":"wheelchair","category":"symbols"},{"keywords":["no_smoking","cigarette","blue-square","smell","smoke"],"char":"🚭","fitzpatrick_scale":false,"name":"no_smoking","category":"symbols"},{"keywords":["wc","toilet","restroom","blue-square"],"char":"🚾","fitzpatrick_scale":false,"name":"wc","category":"symbols"},{"keywords":["parking","cars","blue-square","alphabet","letter"],"char":"🅿️","fitzpatrick_scale":false,"name":"parking","category":"symbols"},{"keywords":["potable_water","blue-square","liquid","restroom","cleaning","faucet"],"char":"🚰","fitzpatrick_scale":false,"name":"potable_water","category":"symbols"},{"keywords":["mens","toilet","restroom","wc","blue-square","gender","male"],"char":"🚹","fitzpatrick_scale":false,"name":"mens","category":"symbols"},{"keywords":["womens","purple-square","woman","female","toilet","loo","restroom","gender"],"char":"🚺","fitzpatrick_scale":false,"name":"womens","category":"symbols"},{"keywords":["baby_symbol","orange-square","child"],"char":"🚼","fitzpatrick_scale":false,"name":"baby_symbol","category":"symbols"},{"keywords":["restroom","blue-square","toilet","refresh","wc","gender"],"char":"🚻","fitzpatrick_scale":false,"name":"restroom","category":"symbols"},{"keywords":["put_litter_in_its_place","blue-square","sign","human","info"],"char":"🚮","fitzpatrick_scale":false,"name":"put_litter_in_its_place","category":"symbols"},{"keywords":["cinema","blue-square","record","film","movie","curtain","stage","theater"],"char":"🎦","fitzpatrick_scale":false,"name":"cinema","category":"symbols"},{"keywords":["signal_strength","blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],"char":"📶","fitzpatrick_scale":false,"name":"signal_strength","category":"symbols"},{"keywords":["koko","blue-square","here","katakana","japanese","destination"],"char":"🈁","fitzpatrick_scale":false,"name":"koko","category":"symbols"},{"keywords":["ng","blue-square","words","shape","icon"],"char":"🆖","fitzpatrick_scale":false,"name":"ng","category":"symbols"},{"keywords":["ok","good","agree","yes","blue-square"],"char":"🆗","fitzpatrick_scale":false,"name":"ok","category":"symbols"},{"keywords":["up","blue-square","above","high"],"char":"🆙","fitzpatrick_scale":false,"name":"up","category":"symbols"},{"keywords":["cool","words","blue-square"],"char":"🆒","fitzpatrick_scale":false,"name":"cool","category":"symbols"},{"keywords":["new","blue-square","words","start"],"char":"🆕","fitzpatrick_scale":false,"name":"new","category":"symbols"},{"keywords":["free","blue-square","words"],"char":"🆓","fitzpatrick_scale":false,"name":"free","category":"symbols"},{"keywords":["zero","0","numbers","blue-square","null"],"char":"0️⃣","fitzpatrick_scale":false,"name":"zero","category":"symbols"},{"keywords":["one","blue-square","numbers","1"],"char":"1️⃣","fitzpatrick_scale":false,"name":"one","category":"symbols"},{"keywords":["two","numbers","2","prime","blue-square"],"char":"2️⃣","fitzpatrick_scale":false,"name":"two","category":"symbols"},{"keywords":["three","3","numbers","prime","blue-square"],"char":"3️⃣","fitzpatrick_scale":false,"name":"three","category":"symbols"},{"keywords":["four","4","numbers","blue-square"],"char":"4️⃣","fitzpatrick_scale":false,"name":"four","category":"symbols"},{"keywords":["five","5","numbers","blue-square","prime"],"char":"5️⃣","fitzpatrick_scale":false,"name":"five","category":"symbols"},{"keywords":["six","6","numbers","blue-square"],"char":"6️⃣","fitzpatrick_scale":false,"name":"six","category":"symbols"},{"keywords":["seven","7","numbers","blue-square","prime"],"char":"7️⃣","fitzpatrick_scale":false,"name":"seven","category":"symbols"},{"keywords":["eight","8","blue-square","numbers"],"char":"8️⃣","fitzpatrick_scale":false,"name":"eight","category":"symbols"},{"keywords":["nine","blue-square","numbers","9"],"char":"9️⃣","fitzpatrick_scale":false,"name":"nine","category":"symbols"},{"keywords":["keycap_ten","numbers","10","blue-square"],"char":"🔟","fitzpatrick_scale":false,"name":"keycap_ten","category":"symbols"},{"keywords":["asterisk","star","keycap"],"char":"*⃣","fitzpatrick_scale":false,"name":"asterisk","category":"symbols"},{"keywords":["1234","numbers","blue-square"],"char":"🔢","fitzpatrick_scale":false,"name":"1234","category":"symbols"},{"keywords":["eject_button","blue-square"],"char":"⏏️","fitzpatrick_scale":false,"name":"eject_button","category":"symbols"},{"keywords":["arrow_forward","blue-square","right","direction","play"],"char":"▶️","fitzpatrick_scale":false,"name":"arrow_forward","category":"symbols"},{"keywords":["pause_button","pause","blue-square"],"char":"⏸","fitzpatrick_scale":false,"name":"pause_button","category":"symbols"},{"keywords":["next_track_button","forward","next","blue-square"],"char":"⏭","fitzpatrick_scale":false,"name":"next_track_button","category":"symbols"},{"keywords":["stop_button","blue-square"],"char":"⏹","fitzpatrick_scale":false,"name":"stop_button","category":"symbols"},{"keywords":["record_button","blue-square"],"char":"⏺","fitzpatrick_scale":false,"name":"record_button","category":"symbols"},{"keywords":["play_or_pause_button","blue-square","play","pause"],"char":"⏯","fitzpatrick_scale":false,"name":"play_or_pause_button","category":"symbols"},{"keywords":["previous_track_button","backward"],"char":"⏮","fitzpatrick_scale":false,"name":"previous_track_button","category":"symbols"},{"keywords":["fast_forward","blue-square","play","speed","continue"],"char":"⏩","fitzpatrick_scale":false,"name":"fast_forward","category":"symbols"},{"keywords":["rewind","play","blue-square"],"char":"⏪","fitzpatrick_scale":false,"name":"rewind","category":"symbols"},{"keywords":["twisted_rightwards_arrows","blue-square","shuffle","music","random"],"char":"🔀","fitzpatrick_scale":false,"name":"twisted_rightwards_arrows","category":"symbols"},{"keywords":["repeat","loop","record"],"char":"🔁","fitzpatrick_scale":false,"name":"repeat","category":"symbols"},{"keywords":["repeat_one","blue-square","loop"],"char":"🔂","fitzpatrick_scale":false,"name":"repeat_one","category":"symbols"},{"keywords":["arrow_backward","blue-square","left","direction"],"char":"◀️","fitzpatrick_scale":false,"name":"arrow_backward","category":"symbols"},{"keywords":["arrow_up_small","blue-square","triangle","direction","point","forward","top"],"char":"🔼","fitzpatrick_scale":false,"name":"arrow_up_small","category":"symbols"},{"keywords":["arrow_down_small","blue-square","direction","bottom"],"char":"🔽","fitzpatrick_scale":false,"name":"arrow_down_small","category":"symbols"},{"keywords":["arrow_double_up","blue-square","direction","top"],"char":"⏫","fitzpatrick_scale":false,"name":"arrow_double_up","category":"symbols"},{"keywords":["arrow_double_down","blue-square","direction","bottom"],"char":"⏬","fitzpatrick_scale":false,"name":"arrow_double_down","category":"symbols"},{"keywords":["arrow_right","blue-square","next"],"char":"➡️","fitzpatrick_scale":false,"name":"arrow_right","category":"symbols"},{"keywords":["arrow_left","blue-square","previous","back"],"char":"⬅️","fitzpatrick_scale":false,"name":"arrow_left","category":"symbols"},{"keywords":["arrow_up","blue-square","continue","top","direction"],"char":"⬆️","fitzpatrick_scale":false,"name":"arrow_up","category":"symbols"},{"keywords":["arrow_down","blue-square","direction","bottom"],"char":"⬇️","fitzpatrick_scale":false,"name":"arrow_down","category":"symbols"},{"keywords":["arrow_upper_right","blue-square","point","direction","diagonal","northeast"],"char":"↗️","fitzpatrick_scale":false,"name":"arrow_upper_right","category":"symbols"},{"keywords":["arrow_lower_right","blue-square","direction","diagonal","southeast"],"char":"↘️","fitzpatrick_scale":false,"name":"arrow_lower_right","category":"symbols"},{"keywords":["arrow_lower_left","blue-square","direction","diagonal","southwest"],"char":"↙️","fitzpatrick_scale":false,"name":"arrow_lower_left","category":"symbols"},{"keywords":["arrow_upper_left","blue-square","point","direction","diagonal","northwest"],"char":"↖️","fitzpatrick_scale":false,"name":"arrow_upper_left","category":"symbols"},{"keywords":["arrow_up_down","blue-square","direction","way","vertical"],"char":"↕️","fitzpatrick_scale":false,"name":"arrow_up_down","category":"symbols"},{"keywords":["left_right_arrow","shape","direction","horizontal","sideways"],"char":"↔️","fitzpatrick_scale":false,"name":"left_right_arrow","category":"symbols"},{"keywords":["arrows_counterclockwise","blue-square","sync","cycle"],"char":"🔄","fitzpatrick_scale":false,"name":"arrows_counterclockwise","category":"symbols"},{"keywords":["arrow_right_hook","blue-square","return","rotate","direction"],"char":"↪️","fitzpatrick_scale":false,"name":"arrow_right_hook","category":"symbols"},{"keywords":["leftwards_arrow_with_hook","back","return","blue-square","undo","enter"],"char":"↩️","fitzpatrick_scale":false,"name":"leftwards_arrow_with_hook","category":"symbols"},{"keywords":["arrow_heading_up","blue-square","direction","top"],"char":"⤴️","fitzpatrick_scale":false,"name":"arrow_heading_up","category":"symbols"},{"keywords":["arrow_heading_down","blue-square","direction","bottom"],"char":"⤵️","fitzpatrick_scale":false,"name":"arrow_heading_down","category":"symbols"},{"keywords":["hash","symbol","blue-square","twitter"],"char":"#️⃣","fitzpatrick_scale":false,"name":"hash","category":"symbols"},{"keywords":["information_source","blue-square","alphabet","letter"],"char":"ℹ️","fitzpatrick_scale":false,"name":"information_source","category":"symbols"},{"keywords":["abc","blue-square","alphabet"],"char":"🔤","fitzpatrick_scale":false,"name":"abc","category":"symbols"},{"keywords":["abcd","blue-square","alphabet"],"char":"🔡","fitzpatrick_scale":false,"name":"abcd","category":"symbols"},{"keywords":["capital_abcd","alphabet","words","blue-square"],"char":"🔠","fitzpatrick_scale":false,"name":"capital_abcd","category":"symbols"},{"keywords":["symbols","blue-square","music","note","ampersand","percent","glyphs","characters"],"char":"🔣","fitzpatrick_scale":false,"name":"symbols","category":"symbols"},{"keywords":["musical_note","score","tone","sound"],"char":"🎵","fitzpatrick_scale":false,"name":"musical_note","category":"symbols"},{"keywords":["notes","music","score"],"char":"🎶","fitzpatrick_scale":false,"name":"notes","category":"symbols"},{"keywords":["wavy_dash","draw","line","moustache","mustache","squiggle","scribble"],"char":"〰️","fitzpatrick_scale":false,"name":"wavy_dash","category":"symbols"},{"keywords":["curly_loop","scribble","draw","shape","squiggle"],"char":"➰","fitzpatrick_scale":false,"name":"curly_loop","category":"symbols"},{"keywords":["heavy_check_mark","ok","nike","answer","yes","tick"],"char":"✔️","fitzpatrick_scale":false,"name":"heavy_check_mark","category":"symbols"},{"keywords":["arrows_clockwise","sync","cycle","round","repeat"],"char":"🔃","fitzpatrick_scale":false,"name":"arrows_clockwise","category":"symbols"},{"keywords":["heavy_plus_sign","math","calculation","addition","more","increase"],"char":"➕","fitzpatrick_scale":false,"name":"heavy_plus_sign","category":"symbols"},{"keywords":["heavy_minus_sign","math","calculation","subtract","less"],"char":"➖","fitzpatrick_scale":false,"name":"heavy_minus_sign","category":"symbols"},{"keywords":["heavy_division_sign","divide","math","calculation"],"char":"➗","fitzpatrick_scale":false,"name":"heavy_division_sign","category":"symbols"},{"keywords":["heavy_multiplication_x","math","calculation"],"char":"✖️","fitzpatrick_scale":false,"name":"heavy_multiplication_x","category":"symbols"},{"keywords":["infinity","forever"],"char":"♾","fitzpatrick_scale":false,"name":"infinity","category":"symbols"},{"keywords":["heavy_dollar_sign","money","sales","payment","currency","buck"],"char":"💲","fitzpatrick_scale":false,"name":"heavy_dollar_sign","category":"symbols"},{"keywords":["currency_exchange","money","sales","dollar","travel"],"char":"💱","fitzpatrick_scale":false,"name":"currency_exchange","category":"symbols"},{"keywords":["copyright","ip","license","circle","law","legal"],"char":"©️","fitzpatrick_scale":false,"name":"copyright","category":"symbols"},{"keywords":["registered","alphabet","circle"],"char":"®️","fitzpatrick_scale":false,"name":"registered","category":"symbols"},{"keywords":["tm","trademark","brand","law","legal"],"char":"™️","fitzpatrick_scale":false,"name":"tm","category":"symbols"},{"keywords":["end","words","arrow"],"char":"🔚","fitzpatrick_scale":false,"name":"end","category":"symbols"},{"keywords":["back","arrow","words","return"],"char":"🔙","fitzpatrick_scale":false,"name":"back","category":"symbols"},{"keywords":["on","arrow","words"],"char":"🔛","fitzpatrick_scale":false,"name":"on","category":"symbols"},{"keywords":["top","words","blue-square"],"char":"🔝","fitzpatrick_scale":false,"name":"top","category":"symbols"},{"keywords":["soon","arrow","words"],"char":"🔜","fitzpatrick_scale":false,"name":"soon","category":"symbols"},{"keywords":["ballot_box_with_check","ok","agree","confirm","black-square","vote","election","yes","tick"],"char":"☑️","fitzpatrick_scale":false,"name":"ballot_box_with_check","category":"symbols"},{"keywords":["radio_button","input","old","music","circle"],"char":"🔘","fitzpatrick_scale":false,"name":"radio_button","category":"symbols"},{"keywords":["white_circle","shape","round"],"char":"⚪","fitzpatrick_scale":false,"name":"white_circle","category":"symbols"},{"keywords":["black_circle","shape","button","round"],"char":"⚫","fitzpatrick_scale":false,"name":"black_circle","category":"symbols"},{"keywords":["red_circle","shape","error","danger"],"char":"🔴","fitzpatrick_scale":false,"name":"red_circle","category":"symbols"},{"keywords":["large_blue_circle","shape","icon","button"],"char":"🔵","fitzpatrick_scale":false,"name":"large_blue_circle","category":"symbols"},{"keywords":["small_orange_diamond","shape","jewel","gem"],"char":"🔸","fitzpatrick_scale":false,"name":"small_orange_diamond","category":"symbols"},{"keywords":["small_blue_diamond","shape","jewel","gem"],"char":"🔹","fitzpatrick_scale":false,"name":"small_blue_diamond","category":"symbols"},{"keywords":["large_orange_diamond","shape","jewel","gem"],"char":"🔶","fitzpatrick_scale":false,"name":"large_orange_diamond","category":"symbols"},{"keywords":["large_blue_diamond","shape","jewel","gem"],"char":"🔷","fitzpatrick_scale":false,"name":"large_blue_diamond","category":"symbols"},{"keywords":["small_red_triangle","shape","direction","up","top"],"char":"🔺","fitzpatrick_scale":false,"name":"small_red_triangle","category":"symbols"},{"keywords":["black_small_square","shape","icon"],"char":"▪️","fitzpatrick_scale":false,"name":"black_small_square","category":"symbols"},{"keywords":["white_small_square","shape","icon"],"char":"▫️","fitzpatrick_scale":false,"name":"white_small_square","category":"symbols"},{"keywords":["black_large_square","shape","icon","button"],"char":"⬛","fitzpatrick_scale":false,"name":"black_large_square","category":"symbols"},{"keywords":["white_large_square","shape","icon","stone","button"],"char":"⬜","fitzpatrick_scale":false,"name":"white_large_square","category":"symbols"},{"keywords":["small_red_triangle_down","shape","direction","bottom"],"char":"🔻","fitzpatrick_scale":false,"name":"small_red_triangle_down","category":"symbols"},{"keywords":["black_medium_square","shape","button","icon"],"char":"◼️","fitzpatrick_scale":false,"name":"black_medium_square","category":"symbols"},{"keywords":["white_medium_square","shape","stone","icon"],"char":"◻️","fitzpatrick_scale":false,"name":"white_medium_square","category":"symbols"},{"keywords":["black_medium_small_square","icon","shape","button"],"char":"◾","fitzpatrick_scale":false,"name":"black_medium_small_square","category":"symbols"},{"keywords":["white_medium_small_square","shape","stone","icon","button"],"char":"◽","fitzpatrick_scale":false,"name":"white_medium_small_square","category":"symbols"},{"keywords":["black_square_button","shape","input","frame"],"char":"🔲","fitzpatrick_scale":false,"name":"black_square_button","category":"symbols"},{"keywords":["white_square_button","shape","input"],"char":"🔳","fitzpatrick_scale":false,"name":"white_square_button","category":"symbols"},{"keywords":["speaker","sound","volume","silence","broadcast"],"char":"🔈","fitzpatrick_scale":false,"name":"speaker","category":"symbols"},{"keywords":["sound","volume","speaker","broadcast"],"char":"🔉","fitzpatrick_scale":false,"name":"sound","category":"symbols"},{"keywords":["loud_sound","volume","noise","noisy","speaker","broadcast"],"char":"🔊","fitzpatrick_scale":false,"name":"loud_sound","category":"symbols"},{"keywords":["mute","sound","volume","silence","quiet"],"char":"🔇","fitzpatrick_scale":false,"name":"mute","category":"symbols"},{"keywords":["mega","sound","speaker","volume"],"char":"📣","fitzpatrick_scale":false,"name":"mega","category":"symbols"},{"keywords":["loudspeaker","volume","sound"],"char":"📢","fitzpatrick_scale":false,"name":"loudspeaker","category":"symbols"},{"keywords":["bell","sound","notification","christmas","xmas","chime"],"char":"🔔","fitzpatrick_scale":false,"name":"bell","category":"symbols"},{"keywords":["no_bell","sound","volume","mute","quiet","silent"],"char":"🔕","fitzpatrick_scale":false,"name":"no_bell","category":"symbols"},{"keywords":["black_joker","poker","cards","game","play","magic"],"char":"🃏","fitzpatrick_scale":false,"name":"black_joker","category":"symbols"},{"keywords":["mahjong","game","play","chinese","kanji"],"char":"🀄","fitzpatrick_scale":false,"name":"mahjong","category":"symbols"},{"keywords":["spades","poker","cards","suits","magic"],"char":"♠️","fitzpatrick_scale":false,"name":"spades","category":"symbols"},{"keywords":["clubs","poker","cards","magic","suits"],"char":"♣️","fitzpatrick_scale":false,"name":"clubs","category":"symbols"},{"keywords":["hearts","poker","cards","magic","suits"],"char":"♥️","fitzpatrick_scale":false,"name":"hearts","category":"symbols"},{"keywords":["diamonds","poker","cards","magic","suits"],"char":"♦️","fitzpatrick_scale":false,"name":"diamonds","category":"symbols"},{"keywords":["flower_playing_cards","game","sunset","red"],"char":"🎴","fitzpatrick_scale":false,"name":"flower_playing_cards","category":"symbols"},{"keywords":["thought_balloon","bubble","cloud","speech","thinking","dream"],"char":"💭","fitzpatrick_scale":false,"name":"thought_balloon","category":"symbols"},{"keywords":["right_anger_bubble","caption","speech","thinking","mad"],"char":"🗯","fitzpatrick_scale":false,"name":"right_anger_bubble","category":"symbols"},{"keywords":["speech_balloon","bubble","words","message","talk","chatting"],"char":"💬","fitzpatrick_scale":false,"name":"speech_balloon","category":"symbols"},{"keywords":["left_speech_bubble","words","message","talk","chatting"],"char":"🗨","fitzpatrick_scale":false,"name":"left_speech_bubble","category":"symbols"},{"keywords":["clock1","time","late","early","schedule"],"char":"🕐","fitzpatrick_scale":false,"name":"clock1","category":"symbols"},{"keywords":["clock2","time","late","early","schedule"],"char":"🕑","fitzpatrick_scale":false,"name":"clock2","category":"symbols"},{"keywords":["clock3","time","late","early","schedule"],"char":"🕒","fitzpatrick_scale":false,"name":"clock3","category":"symbols"},{"keywords":["clock4","time","late","early","schedule"],"char":"🕓","fitzpatrick_scale":false,"name":"clock4","category":"symbols"},{"keywords":["clock5","time","late","early","schedule"],"char":"🕔","fitzpatrick_scale":false,"name":"clock5","category":"symbols"},{"keywords":["clock6","time","late","early","schedule","dawn","dusk"],"char":"🕕","fitzpatrick_scale":false,"name":"clock6","category":"symbols"},{"keywords":["clock7","time","late","early","schedule"],"char":"🕖","fitzpatrick_scale":false,"name":"clock7","category":"symbols"},{"keywords":["clock8","time","late","early","schedule"],"char":"🕗","fitzpatrick_scale":false,"name":"clock8","category":"symbols"},{"keywords":["clock9","time","late","early","schedule"],"char":"🕘","fitzpatrick_scale":false,"name":"clock9","category":"symbols"},{"keywords":["clock10","time","late","early","schedule"],"char":"🕙","fitzpatrick_scale":false,"name":"clock10","category":"symbols"},{"keywords":["clock11","time","late","early","schedule"],"char":"🕚","fitzpatrick_scale":false,"name":"clock11","category":"symbols"},{"keywords":["clock12","time","noon","midnight","midday","late","early","schedule"],"char":"🕛","fitzpatrick_scale":false,"name":"clock12","category":"symbols"},{"keywords":["clock130","time","late","early","schedule"],"char":"🕜","fitzpatrick_scale":false,"name":"clock130","category":"symbols"},{"keywords":["clock230","time","late","early","schedule"],"char":"🕝","fitzpatrick_scale":false,"name":"clock230","category":"symbols"},{"keywords":["clock330","time","late","early","schedule"],"char":"🕞","fitzpatrick_scale":false,"name":"clock330","category":"symbols"},{"keywords":["clock430","time","late","early","schedule"],"char":"🕟","fitzpatrick_scale":false,"name":"clock430","category":"symbols"},{"keywords":["clock530","time","late","early","schedule"],"char":"🕠","fitzpatrick_scale":false,"name":"clock530","category":"symbols"},{"keywords":["clock630","time","late","early","schedule"],"char":"🕡","fitzpatrick_scale":false,"name":"clock630","category":"symbols"},{"keywords":["clock730","time","late","early","schedule"],"char":"🕢","fitzpatrick_scale":false,"name":"clock730","category":"symbols"},{"keywords":["clock830","time","late","early","schedule"],"char":"🕣","fitzpatrick_scale":false,"name":"clock830","category":"symbols"},{"keywords":["clock930","time","late","early","schedule"],"char":"🕤","fitzpatrick_scale":false,"name":"clock930","category":"symbols"},{"keywords":["clock1030","time","late","early","schedule"],"char":"🕥","fitzpatrick_scale":false,"name":"clock1030","category":"symbols"},{"keywords":["clock1130","time","late","early","schedule"],"char":"🕦","fitzpatrick_scale":false,"name":"clock1130","category":"symbols"},{"keywords":["clock1230","time","late","early","schedule"],"char":"🕧","fitzpatrick_scale":false,"name":"clock1230","category":"symbols"},{"keywords":["afghanistan","af","flag","nation","country","banner"],"char":"🇦🇫","fitzpatrick_scale":false,"name":"afghanistan","category":"flags"},{"keywords":["aland_islands","Åland","islands","flag","nation","country","banner"],"char":"🇦🇽","fitzpatrick_scale":false,"name":"aland_islands","category":"flags"},{"keywords":["albania","al","flag","nation","country","banner"],"char":"🇦🇱","fitzpatrick_scale":false,"name":"albania","category":"flags"},{"keywords":["algeria","dz","flag","nation","country","banner"],"char":"🇩🇿","fitzpatrick_scale":false,"name":"algeria","category":"flags"},{"keywords":["american_samoa","american","ws","flag","nation","country","banner"],"char":"🇦🇸","fitzpatrick_scale":false,"name":"american_samoa","category":"flags"},{"keywords":["andorra","ad","flag","nation","country","banner"],"char":"🇦🇩","fitzpatrick_scale":false,"name":"andorra","category":"flags"},{"keywords":["angola","ao","flag","nation","country","banner"],"char":"🇦🇴","fitzpatrick_scale":false,"name":"angola","category":"flags"},{"keywords":["anguilla","ai","flag","nation","country","banner"],"char":"🇦🇮","fitzpatrick_scale":false,"name":"anguilla","category":"flags"},{"keywords":["antarctica","aq","flag","nation","country","banner"],"char":"🇦🇶","fitzpatrick_scale":false,"name":"antarctica","category":"flags"},{"keywords":["antigua_barbuda","antigua","barbuda","flag","nation","country","banner"],"char":"🇦🇬","fitzpatrick_scale":false,"name":"antigua_barbuda","category":"flags"},{"keywords":["argentina","ar","flag","nation","country","banner"],"char":"🇦🇷","fitzpatrick_scale":false,"name":"argentina","category":"flags"},{"keywords":["armenia","am","flag","nation","country","banner"],"char":"🇦🇲","fitzpatrick_scale":false,"name":"armenia","category":"flags"},{"keywords":["aruba","aw","flag","nation","country","banner"],"char":"🇦🇼","fitzpatrick_scale":false,"name":"aruba","category":"flags"},{"keywords":["australia","au","flag","nation","country","banner"],"char":"🇦🇺","fitzpatrick_scale":false,"name":"australia","category":"flags"},{"keywords":["austria","at","flag","nation","country","banner"],"char":"🇦🇹","fitzpatrick_scale":false,"name":"austria","category":"flags"},{"keywords":["azerbaijan","az","flag","nation","country","banner"],"char":"🇦🇿","fitzpatrick_scale":false,"name":"azerbaijan","category":"flags"},{"keywords":["bahamas","bs","flag","nation","country","banner"],"char":"🇧🇸","fitzpatrick_scale":false,"name":"bahamas","category":"flags"},{"keywords":["bahrain","bh","flag","nation","country","banner"],"char":"🇧🇭","fitzpatrick_scale":false,"name":"bahrain","category":"flags"},{"keywords":["bangladesh","bd","flag","nation","country","banner"],"char":"🇧🇩","fitzpatrick_scale":false,"name":"bangladesh","category":"flags"},{"keywords":["barbados","bb","flag","nation","country","banner"],"char":"🇧🇧","fitzpatrick_scale":false,"name":"barbados","category":"flags"},{"keywords":["belarus","by","flag","nation","country","banner"],"char":"🇧🇾","fitzpatrick_scale":false,"name":"belarus","category":"flags"},{"keywords":["belgium","be","flag","nation","country","banner"],"char":"🇧🇪","fitzpatrick_scale":false,"name":"belgium","category":"flags"},{"keywords":["belize","bz","flag","nation","country","banner"],"char":"🇧🇿","fitzpatrick_scale":false,"name":"belize","category":"flags"},{"keywords":["benin","bj","flag","nation","country","banner"],"char":"🇧🇯","fitzpatrick_scale":false,"name":"benin","category":"flags"},{"keywords":["bermuda","bm","flag","nation","country","banner"],"char":"🇧🇲","fitzpatrick_scale":false,"name":"bermuda","category":"flags"},{"keywords":["bhutan","bt","flag","nation","country","banner"],"char":"🇧🇹","fitzpatrick_scale":false,"name":"bhutan","category":"flags"},{"keywords":["bolivia","bo","flag","nation","country","banner"],"char":"🇧🇴","fitzpatrick_scale":false,"name":"bolivia","category":"flags"},{"keywords":["caribbean_netherlands","bonaire","flag","nation","country","banner"],"char":"🇧🇶","fitzpatrick_scale":false,"name":"caribbean_netherlands","category":"flags"},{"keywords":["bosnia_herzegovina","bosnia","herzegovina","flag","nation","country","banner"],"char":"🇧🇦","fitzpatrick_scale":false,"name":"bosnia_herzegovina","category":"flags"},{"keywords":["botswana","bw","flag","nation","country","banner"],"char":"🇧🇼","fitzpatrick_scale":false,"name":"botswana","category":"flags"},{"keywords":["brazil","br","flag","nation","country","banner"],"char":"🇧🇷","fitzpatrick_scale":false,"name":"brazil","category":"flags"},{"keywords":["british_indian_ocean_territory","british","indian","ocean","territory","flag","nation","country","banner"],"char":"🇮🇴","fitzpatrick_scale":false,"name":"british_indian_ocean_territory","category":"flags"},{"keywords":["british_virgin_islands","british","virgin","islands","bvi","flag","nation","country","banner"],"char":"🇻🇬","fitzpatrick_scale":false,"name":"british_virgin_islands","category":"flags"},{"keywords":["brunei","bn","darussalam","flag","nation","country","banner"],"char":"🇧🇳","fitzpatrick_scale":false,"name":"brunei","category":"flags"},{"keywords":["bulgaria","bg","flag","nation","country","banner"],"char":"🇧🇬","fitzpatrick_scale":false,"name":"bulgaria","category":"flags"},{"keywords":["burkina_faso","burkina","faso","flag","nation","country","banner"],"char":"🇧🇫","fitzpatrick_scale":false,"name":"burkina_faso","category":"flags"},{"keywords":["burundi","bi","flag","nation","country","banner"],"char":"🇧🇮","fitzpatrick_scale":false,"name":"burundi","category":"flags"},{"keywords":["cape_verde","cabo","verde","flag","nation","country","banner"],"char":"🇨🇻","fitzpatrick_scale":false,"name":"cape_verde","category":"flags"},{"keywords":["cambodia","kh","flag","nation","country","banner"],"char":"🇰🇭","fitzpatrick_scale":false,"name":"cambodia","category":"flags"},{"keywords":["cameroon","cm","flag","nation","country","banner"],"char":"🇨🇲","fitzpatrick_scale":false,"name":"cameroon","category":"flags"},{"keywords":["canada","ca","flag","nation","country","banner"],"char":"🇨🇦","fitzpatrick_scale":false,"name":"canada","category":"flags"},{"keywords":["canary_islands","canary","islands","flag","nation","country","banner"],"char":"🇮🇨","fitzpatrick_scale":false,"name":"canary_islands","category":"flags"},{"keywords":["cayman_islands","cayman","islands","flag","nation","country","banner"],"char":"🇰🇾","fitzpatrick_scale":false,"name":"cayman_islands","category":"flags"},{"keywords":["central_african_republic","central","african","republic","flag","nation","country","banner"],"char":"🇨🇫","fitzpatrick_scale":false,"name":"central_african_republic","category":"flags"},{"keywords":["chad","td","flag","nation","country","banner"],"char":"🇹🇩","fitzpatrick_scale":false,"name":"chad","category":"flags"},{"keywords":["chile","flag","nation","country","banner"],"char":"🇨🇱","fitzpatrick_scale":false,"name":"chile","category":"flags"},{"keywords":["cn","china","chinese","prc","flag","country","nation","banner"],"char":"🇨🇳","fitzpatrick_scale":false,"name":"cn","category":"flags"},{"keywords":["christmas_island","christmas","island","flag","nation","country","banner"],"char":"🇨🇽","fitzpatrick_scale":false,"name":"christmas_island","category":"flags"},{"keywords":["cocos_islands","cocos","keeling","islands","flag","nation","country","banner"],"char":"🇨🇨","fitzpatrick_scale":false,"name":"cocos_islands","category":"flags"},{"keywords":["colombia","co","flag","nation","country","banner"],"char":"🇨🇴","fitzpatrick_scale":false,"name":"colombia","category":"flags"},{"keywords":["comoros","km","flag","nation","country","banner"],"char":"🇰🇲","fitzpatrick_scale":false,"name":"comoros","category":"flags"},{"keywords":["congo_brazzaville","congo","flag","nation","country","banner"],"char":"🇨🇬","fitzpatrick_scale":false,"name":"congo_brazzaville","category":"flags"},{"keywords":["congo_kinshasa","congo","democratic","republic","flag","nation","country","banner"],"char":"🇨🇩","fitzpatrick_scale":false,"name":"congo_kinshasa","category":"flags"},{"keywords":["cook_islands","cook","islands","flag","nation","country","banner"],"char":"🇨🇰","fitzpatrick_scale":false,"name":"cook_islands","category":"flags"},{"keywords":["costa_rica","costa","rica","flag","nation","country","banner"],"char":"🇨🇷","fitzpatrick_scale":false,"name":"costa_rica","category":"flags"},{"keywords":["croatia","hr","flag","nation","country","banner"],"char":"🇭🇷","fitzpatrick_scale":false,"name":"croatia","category":"flags"},{"keywords":["cuba","cu","flag","nation","country","banner"],"char":"🇨🇺","fitzpatrick_scale":false,"name":"cuba","category":"flags"},{"keywords":["curacao","curaçao","flag","nation","country","banner"],"char":"🇨🇼","fitzpatrick_scale":false,"name":"curacao","category":"flags"},{"keywords":["cyprus","cy","flag","nation","country","banner"],"char":"🇨🇾","fitzpatrick_scale":false,"name":"cyprus","category":"flags"},{"keywords":["czech_republic","cz","flag","nation","country","banner"],"char":"🇨🇿","fitzpatrick_scale":false,"name":"czech_republic","category":"flags"},{"keywords":["denmark","dk","flag","nation","country","banner"],"char":"🇩🇰","fitzpatrick_scale":false,"name":"denmark","category":"flags"},{"keywords":["djibouti","dj","flag","nation","country","banner"],"char":"🇩🇯","fitzpatrick_scale":false,"name":"djibouti","category":"flags"},{"keywords":["dominica","dm","flag","nation","country","banner"],"char":"🇩🇲","fitzpatrick_scale":false,"name":"dominica","category":"flags"},{"keywords":["dominican_republic","dominican","republic","flag","nation","country","banner"],"char":"🇩🇴","fitzpatrick_scale":false,"name":"dominican_republic","category":"flags"},{"keywords":["ecuador","ec","flag","nation","country","banner"],"char":"🇪🇨","fitzpatrick_scale":false,"name":"ecuador","category":"flags"},{"keywords":["egypt","eg","flag","nation","country","banner"],"char":"🇪🇬","fitzpatrick_scale":false,"name":"egypt","category":"flags"},{"keywords":["el_salvador","el","salvador","flag","nation","country","banner"],"char":"🇸🇻","fitzpatrick_scale":false,"name":"el_salvador","category":"flags"},{"keywords":["equatorial_guinea","equatorial","gn","flag","nation","country","banner"],"char":"🇬🇶","fitzpatrick_scale":false,"name":"equatorial_guinea","category":"flags"},{"keywords":["eritrea","er","flag","nation","country","banner"],"char":"🇪🇷","fitzpatrick_scale":false,"name":"eritrea","category":"flags"},{"keywords":["estonia","ee","flag","nation","country","banner"],"char":"🇪🇪","fitzpatrick_scale":false,"name":"estonia","category":"flags"},{"keywords":["ethiopia","et","flag","nation","country","banner"],"char":"🇪🇹","fitzpatrick_scale":false,"name":"ethiopia","category":"flags"},{"keywords":["eu","european","union","flag","banner"],"char":"🇪🇺","fitzpatrick_scale":false,"name":"eu","category":"flags"},{"keywords":["falkland_islands","falkland","islands","malvinas","flag","nation","country","banner"],"char":"🇫🇰","fitzpatrick_scale":false,"name":"falkland_islands","category":"flags"},{"keywords":["faroe_islands","faroe","islands","flag","nation","country","banner"],"char":"🇫🇴","fitzpatrick_scale":false,"name":"faroe_islands","category":"flags"},{"keywords":["fiji","fj","flag","nation","country","banner"],"char":"🇫🇯","fitzpatrick_scale":false,"name":"fiji","category":"flags"},{"keywords":["finland","fi","flag","nation","country","banner"],"char":"🇫🇮","fitzpatrick_scale":false,"name":"finland","category":"flags"},{"keywords":["fr","banner","flag","nation","france","french","country"],"char":"🇫🇷","fitzpatrick_scale":false,"name":"fr","category":"flags"},{"keywords":["french_guiana","french","guiana","flag","nation","country","banner"],"char":"🇬🇫","fitzpatrick_scale":false,"name":"french_guiana","category":"flags"},{"keywords":["french_polynesia","french","polynesia","flag","nation","country","banner"],"char":"🇵🇫","fitzpatrick_scale":false,"name":"french_polynesia","category":"flags"},{"keywords":["french_southern_territories","french","southern","territories","flag","nation","country","banner"],"char":"🇹🇫","fitzpatrick_scale":false,"name":"french_southern_territories","category":"flags"},{"keywords":["gabon","ga","flag","nation","country","banner"],"char":"🇬🇦","fitzpatrick_scale":false,"name":"gabon","category":"flags"},{"keywords":["gambia","gm","flag","nation","country","banner"],"char":"🇬🇲","fitzpatrick_scale":false,"name":"gambia","category":"flags"},{"keywords":["georgia","ge","flag","nation","country","banner"],"char":"🇬🇪","fitzpatrick_scale":false,"name":"georgia","category":"flags"},{"keywords":["de","german","nation","flag","country","banner"],"char":"🇩🇪","fitzpatrick_scale":false,"name":"de","category":"flags"},{"keywords":["ghana","gh","flag","nation","country","banner"],"char":"🇬🇭","fitzpatrick_scale":false,"name":"ghana","category":"flags"},{"keywords":["gibraltar","gi","flag","nation","country","banner"],"char":"🇬🇮","fitzpatrick_scale":false,"name":"gibraltar","category":"flags"},{"keywords":["greece","gr","flag","nation","country","banner"],"char":"🇬🇷","fitzpatrick_scale":false,"name":"greece","category":"flags"},{"keywords":["greenland","gl","flag","nation","country","banner"],"char":"🇬🇱","fitzpatrick_scale":false,"name":"greenland","category":"flags"},{"keywords":["grenada","gd","flag","nation","country","banner"],"char":"🇬🇩","fitzpatrick_scale":false,"name":"grenada","category":"flags"},{"keywords":["guadeloupe","gp","flag","nation","country","banner"],"char":"🇬🇵","fitzpatrick_scale":false,"name":"guadeloupe","category":"flags"},{"keywords":["guam","gu","flag","nation","country","banner"],"char":"🇬🇺","fitzpatrick_scale":false,"name":"guam","category":"flags"},{"keywords":["guatemala","gt","flag","nation","country","banner"],"char":"🇬🇹","fitzpatrick_scale":false,"name":"guatemala","category":"flags"},{"keywords":["guernsey","gg","flag","nation","country","banner"],"char":"🇬🇬","fitzpatrick_scale":false,"name":"guernsey","category":"flags"},{"keywords":["guinea","gn","flag","nation","country","banner"],"char":"🇬🇳","fitzpatrick_scale":false,"name":"guinea","category":"flags"},{"keywords":["guinea_bissau","gw","bissau","flag","nation","country","banner"],"char":"🇬🇼","fitzpatrick_scale":false,"name":"guinea_bissau","category":"flags"},{"keywords":["guyana","gy","flag","nation","country","banner"],"char":"🇬🇾","fitzpatrick_scale":false,"name":"guyana","category":"flags"},{"keywords":["haiti","ht","flag","nation","country","banner"],"char":"🇭🇹","fitzpatrick_scale":false,"name":"haiti","category":"flags"},{"keywords":["honduras","hn","flag","nation","country","banner"],"char":"🇭🇳","fitzpatrick_scale":false,"name":"honduras","category":"flags"},{"keywords":["hong_kong","hong","kong","flag","nation","country","banner"],"char":"🇭🇰","fitzpatrick_scale":false,"name":"hong_kong","category":"flags"},{"keywords":["hungary","hu","flag","nation","country","banner"],"char":"🇭🇺","fitzpatrick_scale":false,"name":"hungary","category":"flags"},{"keywords":["iceland","is","flag","nation","country","banner"],"char":"🇮🇸","fitzpatrick_scale":false,"name":"iceland","category":"flags"},{"keywords":["india","in","flag","nation","country","banner"],"char":"🇮🇳","fitzpatrick_scale":false,"name":"india","category":"flags"},{"keywords":["indonesia","flag","nation","country","banner"],"char":"🇮🇩","fitzpatrick_scale":false,"name":"indonesia","category":"flags"},{"keywords":["iran","iran,","islamic","republic","flag","nation","country","banner"],"char":"🇮🇷","fitzpatrick_scale":false,"name":"iran","category":"flags"},{"keywords":["iraq","iq","flag","nation","country","banner"],"char":"🇮🇶","fitzpatrick_scale":false,"name":"iraq","category":"flags"},{"keywords":["ireland","ie","flag","nation","country","banner"],"char":"🇮🇪","fitzpatrick_scale":false,"name":"ireland","category":"flags"},{"keywords":["isle_of_man","isle","man","flag","nation","country","banner"],"char":"🇮🇲","fitzpatrick_scale":false,"name":"isle_of_man","category":"flags"},{"keywords":["israel","il","flag","nation","country","banner"],"char":"🇮🇱","fitzpatrick_scale":false,"name":"israel","category":"flags"},{"keywords":["it","italy","flag","nation","country","banner"],"char":"🇮🇹","fitzpatrick_scale":false,"name":"it","category":"flags"},{"keywords":["cote_divoire","ivory","coast","flag","nation","country","banner"],"char":"🇨🇮","fitzpatrick_scale":false,"name":"cote_divoire","category":"flags"},{"keywords":["jamaica","jm","flag","nation","country","banner"],"char":"🇯🇲","fitzpatrick_scale":false,"name":"jamaica","category":"flags"},{"keywords":["jp","japanese","nation","flag","country","banner"],"char":"🇯🇵","fitzpatrick_scale":false,"name":"jp","category":"flags"},{"keywords":["jersey","je","flag","nation","country","banner"],"char":"🇯🇪","fitzpatrick_scale":false,"name":"jersey","category":"flags"},{"keywords":["jordan","jo","flag","nation","country","banner"],"char":"🇯🇴","fitzpatrick_scale":false,"name":"jordan","category":"flags"},{"keywords":["kazakhstan","kz","flag","nation","country","banner"],"char":"🇰🇿","fitzpatrick_scale":false,"name":"kazakhstan","category":"flags"},{"keywords":["kenya","ke","flag","nation","country","banner"],"char":"🇰🇪","fitzpatrick_scale":false,"name":"kenya","category":"flags"},{"keywords":["kiribati","ki","flag","nation","country","banner"],"char":"🇰🇮","fitzpatrick_scale":false,"name":"kiribati","category":"flags"},{"keywords":["kosovo","xk","flag","nation","country","banner"],"char":"🇽🇰","fitzpatrick_scale":false,"name":"kosovo","category":"flags"},{"keywords":["kuwait","kw","flag","nation","country","banner"],"char":"🇰🇼","fitzpatrick_scale":false,"name":"kuwait","category":"flags"},{"keywords":["kyrgyzstan","kg","flag","nation","country","banner"],"char":"🇰🇬","fitzpatrick_scale":false,"name":"kyrgyzstan","category":"flags"},{"keywords":["laos","lao","democratic","republic","flag","nation","country","banner"],"char":"🇱🇦","fitzpatrick_scale":false,"name":"laos","category":"flags"},{"keywords":["latvia","lv","flag","nation","country","banner"],"char":"🇱🇻","fitzpatrick_scale":false,"name":"latvia","category":"flags"},{"keywords":["lebanon","lb","flag","nation","country","banner"],"char":"🇱🇧","fitzpatrick_scale":false,"name":"lebanon","category":"flags"},{"keywords":["lesotho","ls","flag","nation","country","banner"],"char":"🇱🇸","fitzpatrick_scale":false,"name":"lesotho","category":"flags"},{"keywords":["liberia","lr","flag","nation","country","banner"],"char":"🇱🇷","fitzpatrick_scale":false,"name":"liberia","category":"flags"},{"keywords":["libya","ly","flag","nation","country","banner"],"char":"🇱🇾","fitzpatrick_scale":false,"name":"libya","category":"flags"},{"keywords":["liechtenstein","li","flag","nation","country","banner"],"char":"🇱🇮","fitzpatrick_scale":false,"name":"liechtenstein","category":"flags"},{"keywords":["lithuania","lt","flag","nation","country","banner"],"char":"🇱🇹","fitzpatrick_scale":false,"name":"lithuania","category":"flags"},{"keywords":["luxembourg","lu","flag","nation","country","banner"],"char":"🇱🇺","fitzpatrick_scale":false,"name":"luxembourg","category":"flags"},{"keywords":["macau","macao","flag","nation","country","banner"],"char":"🇲🇴","fitzpatrick_scale":false,"name":"macau","category":"flags"},{"keywords":["macedonia","macedonia,","flag","nation","country","banner"],"char":"🇲🇰","fitzpatrick_scale":false,"name":"macedonia","category":"flags"},{"keywords":["madagascar","mg","flag","nation","country","banner"],"char":"🇲🇬","fitzpatrick_scale":false,"name":"madagascar","category":"flags"},{"keywords":["malawi","mw","flag","nation","country","banner"],"char":"🇲🇼","fitzpatrick_scale":false,"name":"malawi","category":"flags"},{"keywords":["malaysia","my","flag","nation","country","banner"],"char":"🇲🇾","fitzpatrick_scale":false,"name":"malaysia","category":"flags"},{"keywords":["maldives","mv","flag","nation","country","banner"],"char":"🇲🇻","fitzpatrick_scale":false,"name":"maldives","category":"flags"},{"keywords":["mali","ml","flag","nation","country","banner"],"char":"🇲🇱","fitzpatrick_scale":false,"name":"mali","category":"flags"},{"keywords":["malta","mt","flag","nation","country","banner"],"char":"🇲🇹","fitzpatrick_scale":false,"name":"malta","category":"flags"},{"keywords":["marshall_islands","marshall","islands","flag","nation","country","banner"],"char":"🇲🇭","fitzpatrick_scale":false,"name":"marshall_islands","category":"flags"},{"keywords":["martinique","mq","flag","nation","country","banner"],"char":"🇲🇶","fitzpatrick_scale":false,"name":"martinique","category":"flags"},{"keywords":["mauritania","mr","flag","nation","country","banner"],"char":"🇲🇷","fitzpatrick_scale":false,"name":"mauritania","category":"flags"},{"keywords":["mauritius","mu","flag","nation","country","banner"],"char":"🇲🇺","fitzpatrick_scale":false,"name":"mauritius","category":"flags"},{"keywords":["mayotte","yt","flag","nation","country","banner"],"char":"🇾🇹","fitzpatrick_scale":false,"name":"mayotte","category":"flags"},{"keywords":["mexico","mx","flag","nation","country","banner"],"char":"🇲🇽","fitzpatrick_scale":false,"name":"mexico","category":"flags"},{"keywords":["micronesia","micronesia,","federated","states","flag","nation","country","banner"],"char":"🇫🇲","fitzpatrick_scale":false,"name":"micronesia","category":"flags"},{"keywords":["moldova","moldova,","republic","flag","nation","country","banner"],"char":"🇲🇩","fitzpatrick_scale":false,"name":"moldova","category":"flags"},{"keywords":["monaco","mc","flag","nation","country","banner"],"char":"🇲🇨","fitzpatrick_scale":false,"name":"monaco","category":"flags"},{"keywords":["mongolia","mn","flag","nation","country","banner"],"char":"🇲🇳","fitzpatrick_scale":false,"name":"mongolia","category":"flags"},{"keywords":["montenegro","me","flag","nation","country","banner"],"char":"🇲🇪","fitzpatrick_scale":false,"name":"montenegro","category":"flags"},{"keywords":["montserrat","ms","flag","nation","country","banner"],"char":"🇲🇸","fitzpatrick_scale":false,"name":"montserrat","category":"flags"},{"keywords":["morocco","ma","flag","nation","country","banner"],"char":"🇲🇦","fitzpatrick_scale":false,"name":"morocco","category":"flags"},{"keywords":["mozambique","mz","flag","nation","country","banner"],"char":"🇲🇿","fitzpatrick_scale":false,"name":"mozambique","category":"flags"},{"keywords":["myanmar","mm","flag","nation","country","banner"],"char":"🇲🇲","fitzpatrick_scale":false,"name":"myanmar","category":"flags"},{"keywords":["namibia","na","flag","nation","country","banner"],"char":"🇳🇦","fitzpatrick_scale":false,"name":"namibia","category":"flags"},{"keywords":["nauru","nr","flag","nation","country","banner"],"char":"🇳🇷","fitzpatrick_scale":false,"name":"nauru","category":"flags"},{"keywords":["nepal","np","flag","nation","country","banner"],"char":"🇳🇵","fitzpatrick_scale":false,"name":"nepal","category":"flags"},{"keywords":["netherlands","nl","flag","nation","country","banner"],"char":"🇳🇱","fitzpatrick_scale":false,"name":"netherlands","category":"flags"},{"keywords":["new_caledonia","new","caledonia","flag","nation","country","banner"],"char":"🇳🇨","fitzpatrick_scale":false,"name":"new_caledonia","category":"flags"},{"keywords":["new_zealand","new","zealand","flag","nation","country","banner"],"char":"🇳🇿","fitzpatrick_scale":false,"name":"new_zealand","category":"flags"},{"keywords":["nicaragua","ni","flag","nation","country","banner"],"char":"🇳🇮","fitzpatrick_scale":false,"name":"nicaragua","category":"flags"},{"keywords":["niger","ne","flag","nation","country","banner"],"char":"🇳🇪","fitzpatrick_scale":false,"name":"niger","category":"flags"},{"keywords":["nigeria","flag","nation","country","banner"],"char":"🇳🇬","fitzpatrick_scale":false,"name":"nigeria","category":"flags"},{"keywords":["niue","nu","flag","nation","country","banner"],"char":"🇳🇺","fitzpatrick_scale":false,"name":"niue","category":"flags"},{"keywords":["norfolk_island","norfolk","island","flag","nation","country","banner"],"char":"🇳🇫","fitzpatrick_scale":false,"name":"norfolk_island","category":"flags"},{"keywords":["northern_mariana_islands","northern","mariana","islands","flag","nation","country","banner"],"char":"🇲🇵","fitzpatrick_scale":false,"name":"northern_mariana_islands","category":"flags"},{"keywords":["north_korea","north","korea","nation","flag","country","banner"],"char":"🇰🇵","fitzpatrick_scale":false,"name":"north_korea","category":"flags"},{"keywords":["norway","no","flag","nation","country","banner"],"char":"🇳🇴","fitzpatrick_scale":false,"name":"norway","category":"flags"},{"keywords":["oman","om_symbol","flag","nation","country","banner"],"char":"🇴🇲","fitzpatrick_scale":false,"name":"oman","category":"flags"},{"keywords":["pakistan","pk","flag","nation","country","banner"],"char":"🇵🇰","fitzpatrick_scale":false,"name":"pakistan","category":"flags"},{"keywords":["palau","pw","flag","nation","country","banner"],"char":"🇵🇼","fitzpatrick_scale":false,"name":"palau","category":"flags"},{"keywords":["palestinian_territories","palestine","palestinian","territories","flag","nation","country","banner"],"char":"🇵🇸","fitzpatrick_scale":false,"name":"palestinian_territories","category":"flags"},{"keywords":["panama","pa","flag","nation","country","banner"],"char":"🇵🇦","fitzpatrick_scale":false,"name":"panama","category":"flags"},{"keywords":["papua_new_guinea","papua","new","guinea","flag","nation","country","banner"],"char":"🇵🇬","fitzpatrick_scale":false,"name":"papua_new_guinea","category":"flags"},{"keywords":["paraguay","py","flag","nation","country","banner"],"char":"🇵🇾","fitzpatrick_scale":false,"name":"paraguay","category":"flags"},{"keywords":["peru","pe","flag","nation","country","banner"],"char":"🇵🇪","fitzpatrick_scale":false,"name":"peru","category":"flags"},{"keywords":["philippines","ph","flag","nation","country","banner"],"char":"🇵🇭","fitzpatrick_scale":false,"name":"philippines","category":"flags"},{"keywords":["pitcairn_islands","pitcairn","flag","nation","country","banner"],"char":"🇵🇳","fitzpatrick_scale":false,"name":"pitcairn_islands","category":"flags"},{"keywords":["poland","pl","flag","nation","country","banner"],"char":"🇵🇱","fitzpatrick_scale":false,"name":"poland","category":"flags"},{"keywords":["portugal","pt","flag","nation","country","banner"],"char":"🇵🇹","fitzpatrick_scale":false,"name":"portugal","category":"flags"},{"keywords":["puerto_rico","puerto","rico","flag","nation","country","banner"],"char":"🇵🇷","fitzpatrick_scale":false,"name":"puerto_rico","category":"flags"},{"keywords":["qatar","qa","flag","nation","country","banner"],"char":"🇶🇦","fitzpatrick_scale":false,"name":"qatar","category":"flags"},{"keywords":["reunion","réunion","flag","nation","country","banner"],"char":"🇷🇪","fitzpatrick_scale":false,"name":"reunion","category":"flags"},{"keywords":["romania","ro","flag","nation","country","banner"],"char":"🇷🇴","fitzpatrick_scale":false,"name":"romania","category":"flags"},{"keywords":["ru","russian","federation","flag","nation","country","banner"],"char":"🇷🇺","fitzpatrick_scale":false,"name":"ru","category":"flags"},{"keywords":["rwanda","rw","flag","nation","country","banner"],"char":"🇷🇼","fitzpatrick_scale":false,"name":"rwanda","category":"flags"},{"keywords":["st_barthelemy","saint","barthélemy","flag","nation","country","banner"],"char":"🇧🇱","fitzpatrick_scale":false,"name":"st_barthelemy","category":"flags"},{"keywords":["st_helena","saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],"char":"🇸🇭","fitzpatrick_scale":false,"name":"st_helena","category":"flags"},{"keywords":["st_kitts_nevis","saint","kitts","nevis","flag","nation","country","banner"],"char":"🇰🇳","fitzpatrick_scale":false,"name":"st_kitts_nevis","category":"flags"},{"keywords":["st_lucia","saint","lucia","flag","nation","country","banner"],"char":"🇱🇨","fitzpatrick_scale":false,"name":"st_lucia","category":"flags"},{"keywords":["st_pierre_miquelon","saint","pierre","miquelon","flag","nation","country","banner"],"char":"🇵🇲","fitzpatrick_scale":false,"name":"st_pierre_miquelon","category":"flags"},{"keywords":["st_vincent_grenadines","saint","vincent","grenadines","flag","nation","country","banner"],"char":"🇻🇨","fitzpatrick_scale":false,"name":"st_vincent_grenadines","category":"flags"},{"keywords":["samoa","ws","flag","nation","country","banner"],"char":"🇼🇸","fitzpatrick_scale":false,"name":"samoa","category":"flags"},{"keywords":["san_marino","san","marino","flag","nation","country","banner"],"char":"🇸🇲","fitzpatrick_scale":false,"name":"san_marino","category":"flags"},{"keywords":["sao_tome_principe","sao","tome","principe","flag","nation","country","banner"],"char":"🇸🇹","fitzpatrick_scale":false,"name":"sao_tome_principe","category":"flags"},{"keywords":["saudi_arabia","flag","nation","country","banner"],"char":"🇸🇦","fitzpatrick_scale":false,"name":"saudi_arabia","category":"flags"},{"keywords":["senegal","sn","flag","nation","country","banner"],"char":"🇸🇳","fitzpatrick_scale":false,"name":"senegal","category":"flags"},{"keywords":["serbia","rs","flag","nation","country","banner"],"char":"🇷🇸","fitzpatrick_scale":false,"name":"serbia","category":"flags"},{"keywords":["seychelles","sc","flag","nation","country","banner"],"char":"🇸🇨","fitzpatrick_scale":false,"name":"seychelles","category":"flags"},{"keywords":["sierra_leone","sierra","leone","flag","nation","country","banner"],"char":"🇸🇱","fitzpatrick_scale":false,"name":"sierra_leone","category":"flags"},{"keywords":["singapore","sg","flag","nation","country","banner"],"char":"🇸🇬","fitzpatrick_scale":false,"name":"singapore","category":"flags"},{"keywords":["sint_maarten","sint","maarten","dutch","flag","nation","country","banner"],"char":"🇸🇽","fitzpatrick_scale":false,"name":"sint_maarten","category":"flags"},{"keywords":["slovakia","sk","flag","nation","country","banner"],"char":"🇸🇰","fitzpatrick_scale":false,"name":"slovakia","category":"flags"},{"keywords":["slovenia","si","flag","nation","country","banner"],"char":"🇸🇮","fitzpatrick_scale":false,"name":"slovenia","category":"flags"},{"keywords":["solomon_islands","solomon","islands","flag","nation","country","banner"],"char":"🇸🇧","fitzpatrick_scale":false,"name":"solomon_islands","category":"flags"},{"keywords":["somalia","so","flag","nation","country","banner"],"char":"🇸🇴","fitzpatrick_scale":false,"name":"somalia","category":"flags"},{"keywords":["south_africa","south","africa","flag","nation","country","banner"],"char":"🇿🇦","fitzpatrick_scale":false,"name":"south_africa","category":"flags"},{"keywords":["south_georgia_south_sandwich_islands","south","georgia","sandwich","islands","flag","nation","country","banner"],"char":"🇬🇸","fitzpatrick_scale":false,"name":"south_georgia_south_sandwich_islands","category":"flags"},{"keywords":["kr","south","korea","nation","flag","country","banner"],"char":"🇰🇷","fitzpatrick_scale":false,"name":"kr","category":"flags"},{"keywords":["south_sudan","south","sd","flag","nation","country","banner"],"char":"🇸🇸","fitzpatrick_scale":false,"name":"south_sudan","category":"flags"},{"keywords":["es","spain","flag","nation","country","banner"],"char":"🇪🇸","fitzpatrick_scale":false,"name":"es","category":"flags"},{"keywords":["sri_lanka","sri","lanka","flag","nation","country","banner"],"char":"🇱🇰","fitzpatrick_scale":false,"name":"sri_lanka","category":"flags"},{"keywords":["sudan","sd","flag","nation","country","banner"],"char":"🇸🇩","fitzpatrick_scale":false,"name":"sudan","category":"flags"},{"keywords":["suriname","sr","flag","nation","country","banner"],"char":"🇸🇷","fitzpatrick_scale":false,"name":"suriname","category":"flags"},{"keywords":["swaziland","sz","flag","nation","country","banner"],"char":"🇸🇿","fitzpatrick_scale":false,"name":"swaziland","category":"flags"},{"keywords":["sweden","se","flag","nation","country","banner"],"char":"🇸🇪","fitzpatrick_scale":false,"name":"sweden","category":"flags"},{"keywords":["switzerland","ch","flag","nation","country","banner"],"char":"🇨🇭","fitzpatrick_scale":false,"name":"switzerland","category":"flags"},{"keywords":["syria","syrian","arab","republic","flag","nation","country","banner"],"char":"🇸🇾","fitzpatrick_scale":false,"name":"syria","category":"flags"},{"keywords":["taiwan","tw","flag","nation","country","banner"],"char":"🇹🇼","fitzpatrick_scale":false,"name":"taiwan","category":"flags"},{"keywords":["tajikistan","tj","flag","nation","country","banner"],"char":"🇹🇯","fitzpatrick_scale":false,"name":"tajikistan","category":"flags"},{"keywords":["tanzania","tanzania,","united","republic","flag","nation","country","banner"],"char":"🇹🇿","fitzpatrick_scale":false,"name":"tanzania","category":"flags"},{"keywords":["thailand","th","flag","nation","country","banner"],"char":"🇹🇭","fitzpatrick_scale":false,"name":"thailand","category":"flags"},{"keywords":["timor_leste","timor","leste","flag","nation","country","banner"],"char":"🇹🇱","fitzpatrick_scale":false,"name":"timor_leste","category":"flags"},{"keywords":["togo","tg","flag","nation","country","banner"],"char":"🇹🇬","fitzpatrick_scale":false,"name":"togo","category":"flags"},{"keywords":["tokelau","tk","flag","nation","country","banner"],"char":"🇹🇰","fitzpatrick_scale":false,"name":"tokelau","category":"flags"},{"keywords":["tonga","to","flag","nation","country","banner"],"char":"🇹🇴","fitzpatrick_scale":false,"name":"tonga","category":"flags"},{"keywords":["trinidad_tobago","trinidad","tobago","flag","nation","country","banner"],"char":"🇹🇹","fitzpatrick_scale":false,"name":"trinidad_tobago","category":"flags"},{"keywords":["tunisia","tn","flag","nation","country","banner"],"char":"🇹🇳","fitzpatrick_scale":false,"name":"tunisia","category":"flags"},{"keywords":["tr","turkey","flag","nation","country","banner"],"char":"🇹🇷","fitzpatrick_scale":false,"name":"tr","category":"flags"},{"keywords":["turkmenistan","flag","nation","country","banner"],"char":"🇹🇲","fitzpatrick_scale":false,"name":"turkmenistan","category":"flags"},{"keywords":["turks_caicos_islands","turks","caicos","islands","flag","nation","country","banner"],"char":"🇹🇨","fitzpatrick_scale":false,"name":"turks_caicos_islands","category":"flags"},{"keywords":["tuvalu","flag","nation","country","banner"],"char":"🇹🇻","fitzpatrick_scale":false,"name":"tuvalu","category":"flags"},{"keywords":["uganda","ug","flag","nation","country","banner"],"char":"🇺🇬","fitzpatrick_scale":false,"name":"uganda","category":"flags"},{"keywords":["ukraine","ua","flag","nation","country","banner"],"char":"🇺🇦","fitzpatrick_scale":false,"name":"ukraine","category":"flags"},{"keywords":["united_arab_emirates","united","arab","emirates","flag","nation","country","banner"],"char":"🇦🇪","fitzpatrick_scale":false,"name":"united_arab_emirates","category":"flags"},{"keywords":["uk","united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],"char":"🇬🇧","fitzpatrick_scale":false,"name":"uk","category":"flags"},{"keywords":["england","flag","english"],"char":"🏴󠁧󠁢󠁥󠁮󠁧󠁿","fitzpatrick_scale":false,"name":"england","category":"flags"},{"keywords":["scotland","flag","scottish"],"char":"🏴󠁧󠁢󠁳󠁣󠁴󠁿","fitzpatrick_scale":false,"name":"scotland","category":"flags"},{"keywords":["wales","flag","welsh"],"char":"🏴󠁧󠁢󠁷󠁬󠁳󠁿","fitzpatrick_scale":false,"name":"wales","category":"flags"},{"keywords":["us","united","states","america","flag","nation","country","banner"],"char":"🇺🇸","fitzpatrick_scale":false,"name":"us","category":"flags"},{"keywords":["us_virgin_islands","virgin","islands","us","flag","nation","country","banner"],"char":"🇻🇮","fitzpatrick_scale":false,"name":"us_virgin_islands","category":"flags"},{"keywords":["uruguay","uy","flag","nation","country","banner"],"char":"🇺🇾","fitzpatrick_scale":false,"name":"uruguay","category":"flags"},{"keywords":["uzbekistan","uz","flag","nation","country","banner"],"char":"🇺🇿","fitzpatrick_scale":false,"name":"uzbekistan","category":"flags"},{"keywords":["vanuatu","vu","flag","nation","country","banner"],"char":"🇻🇺","fitzpatrick_scale":false,"name":"vanuatu","category":"flags"},{"keywords":["vatican_city","vatican","city","flag","nation","country","banner"],"char":"🇻🇦","fitzpatrick_scale":false,"name":"vatican_city","category":"flags"},{"keywords":["venezuela","ve","bolivarian","republic","flag","nation","country","banner"],"char":"🇻🇪","fitzpatrick_scale":false,"name":"venezuela","category":"flags"},{"keywords":["vietnam","viet","nam","flag","nation","country","banner"],"char":"🇻🇳","fitzpatrick_scale":false,"name":"vietnam","category":"flags"},{"keywords":["wallis_futuna","wallis","futuna","flag","nation","country","banner"],"char":"🇼🇫","fitzpatrick_scale":false,"name":"wallis_futuna","category":"flags"},{"keywords":["western_sahara","western","sahara","flag","nation","country","banner"],"char":"🇪🇭","fitzpatrick_scale":false,"name":"western_sahara","category":"flags"},{"keywords":["yemen","ye","flag","nation","country","banner"],"char":"🇾🇪","fitzpatrick_scale":false,"name":"yemen","category":"flags"},{"keywords":["zambia","zm","flag","nation","country","banner"],"char":"🇿🇲","fitzpatrick_scale":false,"name":"zambia","category":"flags"},{"keywords":["zimbabwe","zw","flag","nation","country","banner"],"char":"🇿🇼","fitzpatrick_scale":false,"name":"zimbabwe","category":"flags"},{"keywords":["united_nations","un","flag","banner"],"char":"🇺🇳","fitzpatrick_scale":false,"name":"united_nations","category":"flags"},{"keywords":["pirate_flag","skull","crossbones","flag","banner"],"char":"🏴‍☠️","fitzpatrick_scale":false,"name":"pirate_flag","category":"flags"}]')},50721:e=>{"use strict";e.exports=JSON.parse('{"1_DAY":"1 day","1_WEEK":"1 week","2_DAYS":"2 days","2_WEEKS":"2 weeks","3_DAYS":"3 days","30_DAYS":"30 days","ADD_A_GIF":"Add a Gif","ADD_A_MENTION":"Add a mention","ADD_A_MESSAGE":"Add a message...","ADD_A_PHOTO":"Add a photo","ADD_GIF":"Add Gif","ADD_OPTION":"Add option","ADD_REACTION":"Add Reaction","ALL_PINS":"All Pins","ALLOW_OTHERS_TO_ADD_OPTIONS":"Allow others to add options","ALSO_SEND_AS_DIRECT_MESSAGE":"Also send as a direct message","ALSO_SENT_AS_DIRECT_MESSAGE":"Also sent as a direct message","AND":"and","BLOCK_USER_X":"Block {userName}","BLOCKED_USER_FAILURE":"There was an error blocking this user, please try again","BLOCKED_USER":"User has been successfully blocked","CANCEL":"Cancel","CHANNEL":"channel","CHANNEL_LOAD_FAILURE":"There was an error loading this channel, please try again","CHATS":"Chats","CONFIRM_CLOSE_POLL":"Are you sure you want to close this poll?","CREATE_A_POLL":"Create a poll","CREATE_POLL":"Create poll","DAYS_AGO":"{num}d ago","DELETE_MESSAGE":"Delete Message","EMOJI_SEARCH":"Search for an emoji...","ENTER_QUESTION_OR_TOPIC":"Enter question or topic","ERROR_MESSAGE":" {errorMessage} ","FANTASY_CHAT":"Fantasy Chat","FEEDBACK":"Feedback","GIF_SEARCH":"Search for a gif...","HEADER_PINNED_MESSAGES":"Pinned Messages","HEADER_THREAD":"Thread","HIDE_NUM_ITEMS":"Hide {num, plural, one {1 {item}} other {# {item}s}}","HIDE_ONE_TRANSACTION":"Hide 1 transaction","HOVER_OVER_A_MESSAGE_FOR_THE_OPTION_TO_PIN":"Hover over a message for the option to pin","INVALID_FILE_TYPE":"Sorry, that file type is not allowed.","JUST_NOW":"Just now","KEEP_VOTES_ANONYMOUS":"Keep votes anonymous","LAST_MESSAGE":"{sender}: {message}","LEAGUE_INFO":"League Info","LEAGUES":"Leagues","LOWER_WAIVER_PRIORITY":"Lower Waiver Priority","MESSAGE_DELETED_FAILURE":"There was an error deleting this message, please try again","MESSAGE_DELETED":"Message Deleted","MESSAGE_REPORTED_ERROR":"There was an error reporting this message, please try again","MESSAGE_REPORTED":"Message Reported","MESSAGE_SEARCH":"Search for a message...","MINUTES_AGO":"{num}m ago","MULTI_SELECT":"Multi-select","MULTIPLE_USERS_ARE_TYPING":"{numberUsers} people are typing...","MULTIPLE_VOTES":"Multiple votes","N_MORE":"{num} more","NO_VOTES_FOR_THIS_OPTION":"No votes for this option","ONE_USER_IS_TYPING":"{userName} is typing...","OPEN_DIRECT_MESSAGE":"Open Direct Message","OPEN_THREAD":"Open Thread","ORDINAL":"{number, selectordinal, one {#st} two {#nd} few {#rd} other {#th}}","NUM_OTHER_ITEMS":"{num} other {num, plural, one {{item}} other {{item}s}}","PIN_MESSAGE":"Pin Message","PIN_POLL":"Pin poll","PINNED_MESSAGE_LIMIT":"Your league has reached the maximum number of pinned messages","PINNED":"Pinned","POLL":"Poll","POLL_CLOSE_ERROR":"There was an error closing this poll, please try again","POLL_CLOSED_NO_VOTES":"Poll was closed with no votes cast","POLL_CLOSED":"The poll is closed","POLL_CLOSES_ON":"Poll closes on {datetime}. ","POLL_CREATION_WARNING":"The poll will be sent as soon as it is created","POLL_DURATION":"Poll duration","POLL_IS_CLOSED":"Poll is closed","POLL_OPEN":"The poll is still open so results may change later.","POLL_OPTIONS_MIN":"Polls must have at least two options","POLL_OPTIONS_UNIQUE":"Poll options must be unique","POLL_SETTINGS":"Poll settings","PRIORITY":"Priority","REASON_FOR_REPORTING":"Reason for reporting? (optional)","REPORT_MESSAGE":"Report Message","REPORT":"Report","SEARCH_NO_RESULTS":"Sorry, there were no results","SEE_THREAD_REPLIES":"See {num} replies","SEE_THREAD_REPLY":"See 1 reply","SEEN":"Seen","SHARED_FILE":"Shared this file","START_CHATTING_NOW":"Start Chatting Now!","TAB_ALL":"All","TAB_CHAT":"Chat","TAB_LEAGUE_CHAT":"League Chat","TAB_UPDATES":"Updates","TERM1_AND_TERM2":"{term1} and {term2}","THERE_WAS_AN_ERROR":"There was an error.","THIS_CHAT_DOES_NOT_HAVE_ANY_PINNED_MESSAGES":"This chat does not have any pinned messages","THREAD_SEND_TO_CHANNEL_NAME":"Also send to {leagueName}","THREAD_SEND_TO_CHANNEL":"Also send to channel","THREAD_SENT_TO_CHANNEL":"Also sent to {leagueName}","TITLE_REQUIRED":"Title is required","TOP_ANSWER_WITH_NUM_VOTES":"Top answer with {num, plural, one {one vote} other {# votes}}","RECENT_MESSAGES_ERROR":"Unable to view recent messages.","UNBLOCK_USER_X":"Unblock {userName}","UNBLOCKED_USER_FAILURE":"There was an error unblocking this user, please try again","UNBLOCKED_USER":"User has been successfully unblocked","UNLIMITED":"Unlimited","UNPIN_MESSAGE":"Unpin Message","UPLOAD_FAILURE":"Sorry, there was an error uploading your file. Please refresh the page and try again.","UPLOAD":"Upload","VIA_X":"via {source}","VIEW_IN_NEW_WINDOW":"View in new window","VIEW_DETAILS":"View Details","VIEW_LEAGUE_CHAT":"View League Chat","VIEW_MULTIPLE_MORE_TRANSACTIONS":"View {num} more transactions","VIEW_ONE_MORE_TRANSACTION":"View 1 more transaction","VIEW_NUM_ITEMS":"View {num, plural, one {1 more {item}} other {# more {item}s}}","VIEW_NUM_MORE_ITEMS":"View {num, plural, one {1 more {item}} other {# more {item}s}}","VOTES_ARE_PUBLIC":"Votes are public","VOTING_OPTIONS":"Voting Options","YAHOO_FANTASY_UPDATES":"Yahoo Fantasy Updates","YEARS_AGO":"{num}y ago","YES":"Yes"}')}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.m=r,e=[],i.O=(t,n,r,a)=>{if(!n){var o=1/0;for(u=0;u<e.length;u++){for(var[n,r,a]=e[u],s=!0,c=0;c<n.length;c++)(!1&a||o>=a)&&Object.keys(i.O).every((e=>i.O[e](n[c])))?n.splice(c--,1):(s=!1,a<o&&(o=a));if(s){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,r,a]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+".chunk.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},n="@vzmi/fantasy-react-modules:",i.l=(e,r,a,o)=>{if(t[e])t[e].push(r);else{var s,c;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==n+a){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",n+a),s.src=e),t[e]=[r];var f=(n,r)=>{s.onerror=s.onload=null,clearTimeout(h);var a=t[e];if(delete t[e],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(r))),n)return n(r)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.j=740,(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={740:0};i.f.j=(t,n)=>{var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=a);var o=i.p+i.u(t),s=new Error;i.l(o,(n=>{if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,r[1](s)}}),"chunk-"+t,t)}},i.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[o,s,c]=n,l=0;if(o.some((t=>0!==e[t]))){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);if(c)var u=c(i)}for(t&&t(n);l<o.length;l++)a=o[l],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(u)},n=self.webpackChunk_vzmi_fantasy_react_modules=self.webpackChunk_vzmi_fantasy_react_modules||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),i.nc=void 0;var o=i.O(void 0,[625],(()=>i(92744)));o=i.O(o)})();